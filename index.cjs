"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const G=require("solid-js/web"),yt=require("solid-js"),Fe=require("solid-js/store"),Bl=(u,e)=>{const i=[];let o=u[e];if(o===void 0)throw new Error(`node ${e} doesn't exist`);for(;o.parent!==null;)i.push(o.parent),o=u[o.parent];return i.reverse()},Gy=(u,e,i)=>{const o=Bl(u,e),l=Bl(u,i),h=[];for(let c=0;c<Math.min(o.length,l.length)&&o[c]===l[c];c++)h.push(o[c]);return[o.slice(h.length),l.slice(h.length)]},Br=(u,e)=>u!==void 0&&e!==void 0?u+e:void 0,Os=(...u)=>{if(u.every(e=>e!==void 0)){let e=0;for(const i of u)e+=i;return e}else return},Qe=(u,e)=>u!==void 0&&e!==void 0?u-e:void 0,Vc=(u,e)=>u!==void 0&&e!==void 0?u/e:void 0,Ri=u=>u.every(e=>e!==void 0)?Math.max(...u):void 0,Vo=u=>u.every(e=>e===void 0)?void 0:Math.max(...u.filter(e=>e!==void 0)),qs=u=>u.every(e=>e!==void 0)?Math.min(...u):void 0,Uo=u=>u.every(e=>e===void 0)?void 0:Math.min(...u.filter(e=>e!==void 0)),Zy={left:"x",centerX:"x",right:"x",top:"y",centerY:"y",bottom:"y",width:"x",height:"y"},Nl=u=>{if(u.length===0)return{centerX:0,centerY:0,width:0,height:0};const e={left:u.map(S=>S.left),top:u.map(S=>S.top),width:u.map(S=>S.width),height:u.map(S=>S.height)},i=qs(e.left),o=Ri(e.left.map((S,A)=>Br(S,e.width[A]))),l=qs(e.top),h=Ri(e.top.map((S,A)=>Br(S,e.height[A]))),c=Qe(o,i),g=Qe(h,l),b=Br(i,Vc(c,2)),x=Br(l,Vc(g,2));return{centerX:b,centerY:x,width:c,height:g}},Nn={x:{left:[1,-.5],right:[1,.5],centerX:[1,0],width:[0,1]},y:{top:[1,-.5],bottom:[1,.5],centerY:[1,0],height:[0,1]}},Uc=(u,e)=>{const i=u[0][0],o=u[0][1],l=u[1],h=e[0][0],c=e[0][1],g=e[1],b=i*c-o*h;if(b===0)throw new Error("system is not solvable");const x=(c*l-o*g)/b,S=(i*g-l*h)/b;return[x,S]},qc=(u,e,i=1e-6)=>{const[o,l]=u[0],h=u[1];return Math.abs(o*e[0]+l*e[1]-h)<i},Oi=(u,e)=>u[0]*e[0]+u[1]*e[1],Ky=()=>{const[u,e]=Fe.createStore({x:{},y:{}}),[i,o]=Fe.createStore({x:{},y:{}}),l=yt.createMemo(()=>{const c=Object.values(u.x);if(!(c.length<2)){const[g,b]=Uc(c[0],c[1]);if(c.length>2){for(const x of c.slice(2))if(!qc(x,[g,b]))throw new Error(`System is not solvable. Equations: ${JSON.stringify(c)}`)}return[g,b]}}),h=yt.createMemo(()=>{const c=Object.values(u.y);if(!(c.length<2)){const[g,b]=Uc(c[0],c[1]);if(c.length>2){for(const x of c.slice(2))if(!qc(x,[g,b]))throw new Error(`System is not solvable. Equations: ${JSON.stringify(c)}`)}return[g,b]}});return{bbox:{get left(){return yt.untrack(()=>{if("left"in u.x)return u.x.left[1];const c=l();return c?Oi(c,Nn.x.left):void 0})},set left(c){c===void 0?e("x",Fe.produce(g=>{delete g.left})):e("x","left",[Nn.x.left,c])},get centerX(){return yt.untrack(()=>{if("centerX"in u.x)return u.x.centerX[1];const c=l();return c?Oi(c,Nn.x.centerX):void 0})},set centerX(c){c===void 0?e("x",Fe.produce(g=>{delete g.centerX})):e("x","centerX",[Nn.x.centerX,c])},get right(){return yt.untrack(()=>{if("right"in u.x)return u.x.right[1];const c=l();return c?Oi(c,Nn.x.right):void 0})},set right(c){c===void 0?e("x",Fe.produce(g=>{delete g.right})):e("x","right",[Nn.x.right,c])},get width(){return yt.untrack(()=>{if("width"in u.x)return u.x.width[1];const c=l();return c?Oi(c,Nn.x.width):void 0})},set width(c){c===void 0?e("x",Fe.produce(g=>{delete g.width})):e("x","width",[Nn.x.width,c])},get top(){return yt.untrack(()=>{if("top"in u.y)return u.y.top[1];const c=h();return c?Oi(c,Nn.y.top):void 0})},set top(c){c===void 0?e("y",Fe.produce(g=>{delete g.top})):e("y","top",[Nn.y.top,c])},get centerY(){return yt.untrack(()=>{if("centerY"in u.y)return u.y.centerY[1];const c=h();return c?Oi(c,Nn.y.centerY):void 0})},set centerY(c){c===void 0?e("y",Fe.produce(g=>{delete g.centerY})):e("y","centerY",[Nn.y.centerY,c])},get bottom(){return yt.untrack(()=>{if("bottom"in u.y)return u.y.bottom[1];const c=h();return c?Oi(c,Nn.y.bottom):void 0})},set bottom(c){c===void 0?e("y",Fe.produce(g=>{delete g.bottom})):e("y","bottom",[Nn.y.bottom,c])},get height(){return yt.untrack(()=>{if("height"in u.y)return u.y.height[1];const c=h();return c?Oi(c,Nn.y.height):void 0})},set height(c){c===void 0?e("y",Fe.produce(g=>{delete g.height})):e("y","height",[Nn.y.height,c])}},owners:{get left(){return yt.untrack(()=>"left"in i.x?i.x.left:Object.keys(u.x).length===2?Ii:void 0)},set left(c){c===void 0?o("x",Fe.produce(g=>{delete g.left})):o("x","left",c)},get centerX(){return yt.untrack(()=>"centerX"in i.x?i.x.centerX:Object.keys(u.x).length===2?Ii:void 0)},set centerX(c){c===void 0?o("x",Fe.produce(g=>{delete g.centerX})):o("x","centerX",c)},get right(){return yt.untrack(()=>"right"in i.x?i.x.right:Object.keys(u.x).length===2?Ii:void 0)},set right(c){c===void 0?o("x",Fe.produce(g=>{delete g.right})):o("x","right",c)},get width(){return yt.untrack(()=>"width"in i.x?i.x.width:Object.keys(u.x).length===2?Ii:void 0)},set width(c){c===void 0?o("x",Fe.produce(g=>{delete g.width})):o("x","width",c)},get top(){return yt.untrack(()=>"top"in i.y?i.y.top:Object.keys(u.y).length===2?Ii:void 0)},set top(c){c===void 0?o("y",Fe.produce(g=>{delete g.top})):o("y","top",c)},get centerY(){return yt.untrack(()=>"centerY"in i.y?i.y.centerY:Object.keys(u.y).length===2?Ii:void 0)},set centerY(c){c===void 0?o("y",Fe.produce(g=>{delete g.centerY})):o("y","centerY",c)},get bottom(){return yt.untrack(()=>"bottom"in i.y?i.y.bottom:Object.keys(u.y).length===2?Ii:void 0)},set bottom(c){c===void 0?o("y",Fe.produce(g=>{delete g.bottom})):o("y","bottom",c)},get height(){return yt.untrack(()=>"height"in i.y?i.y.height:Object.keys(u.y).length===2?Ii:void 0)},set height(c){c===void 0?o("y",Fe.produce(g=>{delete g.height})):o("y","height",c)}}}},Jy=u=>{const[e,i]=Fe.createStore([]);return{errors:e,addError:l=>{i(h=>[...h,l]),u(l)}}},Rd=yt.createContext(null),_i=()=>(yt.useContext(Rd),u=>{console.warn(u)}),Di=({source:u,name:e,dim:i})=>({type:"DimUnownedError",source:u,name:e,dim:i,display:o=>`${o(e)}'s ${i} is undefined`}),dl=({source:u,name:e,owner:i,dim:o,value:l})=>({type:"DimAlreadyOwnedError",source:u,name:e,owner:i,dim:o,value:l,display:h=>`tried to set ${h(e)}'s ${o} to ${l}, but it is already owned by ${typeof i=="object"?"<inferred>":h(i)}. A dimension cannot be set if it is already owned by another node.`}),jy=({source:u,name:e,owner:i,axis:o,value:l})=>({type:"TranslateAlreadyOwnedError",source:u,name:e,owner:i,axis:o,value:l,display:h=>`tried to set ${h(e)}'s transform.translate.${o} to ${l}, but it is already owned by ${typeof i=="object"?"<inferred>":h(i)}. A dimension cannot be set if it is already owned by another node.`}),Qy=({source:u,name:e,dim:i,axis:o,value:l})=>({type:"AccumulatedTransformUndefinedError",source:u,name:e,dim:i,axis:o,value:l,display:h=>`tried to set ${h(e)}'s ${i} to ${l}, but the accumulated transform.translate.${o} is undefined. We are skipping this operation`}),Wc=({source:u,name:e,dim:i})=>({type:"DimNaNError",source:u,name:e,dim:i,display:o=>`tried to set ${o(e)}'s ${i} to NaN`}),Mi=({source:u,name:e,dim:i})=>({type:"DimSetUndefinedError",source:u,name:e,dim:i,display:o=>`tried to set ${o(e)}'s ${i} to undefined, but it already has a value. A dimension cannot be set to undefined if it already has a value.
We are skipping this operation`}),Ii={inferred:!0},yr=u=>u,tw=u=>u.type==="node",Oa=u=>{if(u==null)return[];if(typeof u=="function"&&!u.length)return Oa(u());if(Array.isArray(u))return u.flatMap(e=>Oa(e));if(typeof u=="object")return[u];throw new Error(`Could not resolve scenegraph elements. Unresolved value: ${JSON.stringify(u)}`)},Dd=()=>{const u={},e=(x,S)=>{_i();const{bbox:A,owners:k}=Ky();u[x]={type:"node",bbox:A,bboxOwners:k,transform:{translate:{}},transformOwners:{translate:{}},children:[],parent:S,customData:{customData:{}},layout:()=>{}},S!==null&&yr(u[S]).children.push(x)},i=(x,S,A)=>{if(_i(),u[x]={type:"ref",refId:S,parent:A},A!==null){const k=u[A];if(!tw(k))throw new Error(`Parent id ${A} is not a node`);k.children.push(x)}},o=(x,S,A={translate:{x:0,y:0}})=>{const k=u[x];if(k.type==="node")return{id:x,transform:A};const y=u[k.refId];if(y===void 0)throw new Error(`Ref node ${k.refId} not found`);if(y.type==="ref")throw new Error("Ref of ref not supported");if(S==="check")return{id:k.refId,transform:A};const[D,C]=Gy(u,x,k.refId);if(!(S==="read"&&yr(y).bbox.left===void 0)){for(const U of D){const $=yr(u[U]);$.transform.translate.x===void 0&&($.transform.translate.x=0,$.transformOwners.translate.x=x),A.translate.x-=$.transform.translate.x}for(const U of C){const $=yr(u[U]);$.transform.translate.x===void 0&&($.transform.translate.x=0,$.transformOwners.translate.x=x),A.translate.x+=$.transform.translate.x}}if(!(S==="read"&&yr(y).bbox.top===void 0)){for(const U of D){const $=yr(u[U]);$.transform.translate.y===void 0&&($.transform.translate.y=0,$.transformOwners.translate.y=x),A.translate.y-=$.transform.translate.y}for(const U of C){const $=yr(u[U]);$.transform.translate.y===void 0&&($.transform.translate.y=0,$.transformOwners.translate.y=x),A.translate.y+=$.transform.translate.y}}return o(k.refId,S,A)},l=x=>{const{id:S,transform:A}=o(x,"read"),k=yr(u[S]);return{get left(){return Os(k.bbox.left,k.transform.translate.x,A.translate.x)},get centerX(){return Os(k.bbox.centerX,k.transform.translate.x,A.translate.x)},get right(){return Os(k.bbox.right,k.transform.translate.x,A.translate.x)},get top(){return Os(k.bbox.top,k.transform.translate.y,A.translate.y)},get centerY(){return Os(k.bbox.centerY,k.transform.translate.y,A.translate.y)},get bottom(){return Os(k.bbox.bottom,k.transform.translate.y,A.translate.y)},get width(){return k.bbox.width},get height(){return k.bbox.height}}},h=(x,S,A,k)=>{const y=_i();for(const K of Object.keys(A))if(A[K]!==void 0&&isNaN(A[K])){y(Wc({source:x,name:S,dim:K}));return}const D=yr(u[S]);for(const K of Object.keys(A))if(A[K]!==void 0&&D.bboxOwners[K]!==void 0&&D.bboxOwners[K]!==x){y(dl({source:x,name:S,owner:D.bboxOwners[K],dim:K,value:A[K]}));return}for(const K of Object.keys(k?.translate??{}))if(k?.translate[K]!==void 0&&D.transformOwners.translate[K]!==void 0&&D.transformOwners.translate[K]!==x)return y(jy({source:x,name:S,owner:D.transformOwners.translate[K],axis:K,value:k.translate[K]})),D;const C={...A.left!==void 0?{left:x}:{},...A.centerX!==void 0?{centerX:x}:{},...A.right!==void 0?{right:x}:{},...A.top!==void 0?{top:x}:{},...A.centerY!==void 0?{centerY:x}:{},...A.bottom!==void 0?{bottom:x}:{},...A.width!==void 0?{width:x}:{},...A.height!==void 0?{height:x}:{}},U={translate:{x:k?.translate.x!==void 0?x:void 0,y:k?.translate.y!==void 0?x:void 0}},$={translate:k?.translate??{}};for(const K of Object.keys(A))A[K]!==void 0&&(D.bbox[K]=A[K]);for(const K of Object.keys(C))C[K]!==void 0&&(D.bboxOwners[K]=C[K]);$.translate.x!==void 0&&(D.transform.translate.x=$.translate.x),$.translate.y!==void 0&&(D.transform.translate.y=$.translate.y),U.translate.x!==void 0&&(D.transformOwners.translate.x=U.translate.x),U.translate.y!==void 0&&(D.transformOwners.translate.y=U.translate.y)},c=(x,S,A)=>{const k=_i(),{id:y,transform:D}=o(S,"write");for(const K of Object.keys(A))if(A[K]!==void 0&&isNaN(A[K])){k(Wc({source:x,name:S,dim:K}));return}const C=yr(u[y]),U={},$={translate:{}};for(const K of["left","centerX","right","top","centerY","bottom"]){if(A[K]===void 0)continue;const J=Zy[K];if(D.translate[J]===void 0){k(Qy({source:x,name:y,dim:K,axis:J,value:A[K]}));continue}if(C.bboxOwners[K]===x||C.bboxOwners[K]===void 0)C.transformOwners.translate[J]===void 0?($.translate[J]=0,U[K]=A[K]):U[K]=A[K]-C.transform.translate[J];else if(C.transformOwners.translate[J]===x||C.transformOwners.translate[J]===void 0)$.translate[J]=A[K]-C.bbox[K];else{k(dl({source:x,name:y,owner:C.bboxOwners[K],dim:K,value:A[K]}));return}}for(const K of["width","height"])if(A[K]!==void 0)if(C.bboxOwners[K]===x||C.bboxOwners[K]===void 0)U[K]=A[K];else{k(dl({source:x,name:y,owner:C.bboxOwners[K],dim:K,value:A[K]}));return}$.translate.x=Br($.translate.x,D.translate.x),$.translate.y=Br($.translate.y,D.translate.y),h(x,y,U,$)},g=(x,S,A)=>{const{id:k}=o(S,"check"),y=yr(u[k]);if(A==="left"||A==="centerX"||A==="right")return!(y.bboxOwners[A]===void 0||y.bboxOwners[A]===x||y.transformOwners.translate.x===void 0||y.transformOwners.translate.x===x);if(A==="top"||A==="centerY"||A==="bottom")return!(y.bboxOwners[A]===void 0||y.bboxOwners[A]===x||y.transformOwners.translate.y===void 0||y.transformOwners.translate.y===x);if(A==="width"||A==="height")return!(y.bboxOwners[A]===void 0||y.bboxOwners[A]===x);throw new Error(`Invalid dim: ${A}`)};return{scenegraph:u,createNode:e,createRef:i,resolveRef:o,mergeBBoxAndTransform:h,getBBox:l,setBBox:c,ownedByOther:g,createChildRepr:(x,S)=>{const A=_i();return{name:S,bbox:{get left(){return l(S).left},set left(k){if(k===void 0){A(Mi({source:x,name:S,dim:"left"}));return}c(x,S,{left:k})},get centerX(){return l(S).centerX},set centerX(k){if(k===void 0){A(Mi({source:x,name:S,dim:"centerX"}));return}c(x,S,{centerX:k})},get right(){return l(S).right},set right(k){if(k===void 0){A(Mi({source:x,name:S,dim:"right"}));return}c(x,S,{right:k})},get top(){return l(S).top},set top(k){if(k===void 0){A(Mi({source:x,name:S,dim:"top"}));return}c(x,S,{top:k})},get centerY(){return l(S).centerY},set centerY(k){if(k===void 0){A(Mi({source:x,name:S,dim:"centerY"}));return}c(x,S,{centerY:k})},get bottom(){return l(S).bottom},set bottom(k){if(k===void 0){A(Mi({source:x,name:S,dim:"bottom"}));return}c(x,S,{bottom:k})},get width(){return l(S).width},set width(k){if(k===void 0){A(Mi({source:x,name:S,dim:"width"}));return}c(x,S,{width:k})},get height(){return l(S).height},set height(k){if(k===void 0){A(Mi({source:x,name:S,dim:"height"}));return}c(x,S,{height:k})}},owned:{get left(){return g(x,S,"left")},get centerX(){return g(x,S,"centerX")},get right(){return g(x,S,"right")},get top(){return g(x,S,"top")},get centerY(){return g(x,S,"centerY")},get bottom(){return g(x,S,"bottom")},get width(){return g(x,S,"width")},get height(){return g(x,S,"height")}}}}}},tu=yt.createContext(null),ew=()=>{const u=yt.useContext(tu);if(u===null)throw new Error("useScenegraph must be used within a ScenegraphProvider");const{getBBox:e,setBBox:i,ownedByOther:o}=u;return{getBBox:e,setBBox:i,ownedByOther:o}},hh=()=>{const u=yt.useContext(tu);if(u===null)throw new Error("useScenegraph must be used within a ScenegraphProvider");return u},Ks=yt.createContext([{},()=>{}]),Ma=yt.createContext(()=>""),nw=u=>{const e=`${u}(${yt.createUniqueId()})`,[i,o]=yt.useContext(Ks),l=yt.useContext(Ma);return o(e,{parent:l(),layoutNode:void 0,children:{}}),o(l(),"children",u,e),e},Fl=yt.createContext(()=>{});function An(u,e){return i=>{const o=yt.useContext(Fl),l=yt.useContext(Ma),h=e?.displayName!==void 0?`${e?.displayName}(`:"",c=e?.displayName!==void 0?")":"",g=`${h}${yt.createUniqueId()}${c}`,b=`${h}${yt.createUniqueId()}${c}`,x=()=>o()??g,S=()=>i.name??b,[A,k]=yt.useContext(Ks),[y,D]=yt.createSignal(()=>{});return A[S()]===void 0&&k(S(),{parent:l(),layoutNode:void 0,children:{}}),k(S(),"layoutNode",x()),{jsx:G.createComponent(Ma.Provider,{value:S,get children(){return G.createComponent(Fl.Provider,{value:x,get children(){return(()=>{const U=Oa(G.createComponent(G.Dynamic,G.mergeProps({component:u},i,{get name(){return x()}})));return D(()=>U[0].layout),U[0].jsx})()}})}}),layout:U=>y()(U)}}}const rw=u=>typeof u=="function",qo=(u,e)=>rw(u)?u(e):u;var gn;(function(u){u[u.ADD_TOAST=0]="ADD_TOAST",u[u.UPDATE_TOAST=1]="UPDATE_TOAST",u[u.UPSERT_TOAST=2]="UPSERT_TOAST",u[u.DISMISS_TOAST=3]="DISMISS_TOAST",u[u.REMOVE_TOAST=4]="REMOVE_TOAST",u[u.START_PAUSE=5]="START_PAUSE",u[u.END_PAUSE=6]="END_PAUSE"})(gn||(gn={}));const[us,Ei]=Fe.createStore({toasts:[],pausedAt:void 0}),iw=()=>{const{pausedAt:u,toasts:e}=us;if(u)return;const i=Date.now();return e.map(l=>{if(l.duration===1/0)return;const h=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(h<=0){l.visible&&Yr({type:gn.DISMISS_TOAST,toastId:l.id});return}return setTimeout(()=>{Yr({type:gn.DISMISS_TOAST,toastId:l.id})},h)})},Sa=new Map,Yc=(u,e)=>{if(Sa.has(u))return;const i=setTimeout(()=>{Sa.delete(u),Yr({type:gn.REMOVE_TOAST,toastId:u})},e);Sa.set(u,i)},sw=u=>{const e=Sa.get(u);Sa.delete(u),e&&clearTimeout(e)},Yr=u=>{switch(u.type){case gn.ADD_TOAST:Ei("toasts",l=>{const h=l;return[u.toast,...h]});break;case gn.DISMISS_TOAST:const{toastId:e}=u,i=us.toasts;if(e){const l=i.find(h=>h.id===e);l&&Yc(e,l.unmountDelay),Ei("toasts",h=>h.id===e,Fe.produce(h=>h.visible=!1))}else i.forEach(l=>{Yc(l.id,l.unmountDelay)}),Ei("toasts",l=>l.id!==void 0,Fe.produce(l=>l.visible=!1));break;case gn.REMOVE_TOAST:if(!u.toastId){Ei("toasts",[]);break}Ei("toasts",l=>l.filter(c=>c.id!==u.toastId));break;case gn.UPDATE_TOAST:u.toast.id&&sw(u.toast.id),Ei("toasts",l=>l.id===u.toast.id,l=>({...l,...u.toast}));break;case gn.UPSERT_TOAST:us.toasts.find(l=>l.id===u.toast.id)?Yr({type:gn.UPDATE_TOAST,toast:u.toast}):Yr({type:gn.ADD_TOAST,toast:u.toast});break;case gn.START_PAUSE:Ei(Fe.produce(l=>{l.pausedAt=Date.now(),l.toasts.forEach(h=>{h.paused=!0})}));break;case gn.END_PAUSE:const o=u.time-(us.pausedAt||0);Ei(Fe.produce(l=>{l.pausedAt=void 0,l.toasts.forEach(h=>{h.pauseDuration+=o,h.paused=!1})}));break}},aw={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ns={id:"",icon:"",unmountDelay:500,duration:3e3,ariaProps:{role:"status","aria-live":"polite"},className:"",style:{},position:"top-right",iconTheme:{}},zd={position:"top-right",toastOptions:Ns,gutter:8,containerStyle:{},containerClassName:""},Po="16px",ow={position:"fixed","z-index":9999,top:Po,bottom:Po,left:Po,right:Po,"pointer-events":"none"},uw=(()=>{let u=0;return()=>String(++u)})(),lw=u=>{vw(e=>({containerClassName:u.containerClassName??e.containerClassName,containerStyle:u.containerStyle??e.containerStyle,gutter:u.gutter??e.gutter,position:u.position??e.position,toastOptions:{...u.toastOptions}}))},hw=(u,e)=>{const o=u.includes("top")?{top:0,"margin-top":`${e}px`}:{bottom:0,"margin-bottom":`${e}px`},l=u.includes("center")?{"justify-content":"center"}:u.includes("right")?{"justify-content":"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:"all 230ms cubic-bezier(.21,1.02,.73,1)",...o,...l}},fw=(u,e)=>{const i=u.getBoundingClientRect();i.height!==e.height&&Yr({type:gn.UPDATE_TOAST,toast:{id:e.id,height:i.height}})},cw=(u,e)=>{const{toasts:i}=us,o=Rs().gutter||zd.gutter||8,l=i.filter(b=>(b.position||e)===e&&b.height),h=l.findIndex(b=>b.id===u.id),c=l.filter((b,x)=>x<h&&b.visible).length;return l.slice(0,c).reduce((b,x)=>b+o+(x.height||0),0)},dw=(u,e)=>(u.position||e).includes("top")?1:-1,_w={display:"flex","align-items":"center",color:"#363636",background:"white","box-shadow":"0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05)","max-width":"350px","pointer-events":"auto",padding:"8px 10px","border-radius":"4px","line-height":"1.3","will-change":"transform"},gw={display:"flex","align-items":"center",flex:"1 1 auto",margin:"4px 10px","white-space":"pre-line"},Oo={"flex-shrink":0,"min-width":"20px","min-height":"20px",display:"flex","align-items":"center","justify-content":"center","text-align":"center"},Wo=u=>({calcMode:"spline",keyTimes:"0; 1",keySplines:u}),[Rs,vw]=yt.createSignal(zd),pw=(u,e="blank",i)=>({...Ns,...Rs().toastOptions,...i,type:e,message:u,pauseDuration:0,createdAt:Date.now(),visible:!0,id:i.id||uw(),paused:!1,style:{...Ns.style,...Rs().toastOptions?.style,...i.style},duration:i.duration||Rs().toastOptions?.duration||aw[e],position:i.position||Rs().toastOptions?.position||Rs().position||Ns.position}),Ba=u=>(e,i={})=>yt.createRoot(()=>{const o=us.toasts.find(h=>h.id===i.id),l=pw(e,u,{...o,duration:void 0,...i});return Yr({type:gn.UPSERT_TOAST,toast:l}),l.id}),Wr=(u,e)=>Ba("blank")(u,e);yt.untrack(()=>Wr);Wr.error=Ba("error");Wr.success=Ba("success");Wr.loading=Ba("loading");Wr.custom=Ba("custom");Wr.dismiss=u=>{Yr({type:gn.DISMISS_TOAST,toastId:u})};Wr.promise=(u,e,i)=>{const o=Wr.loading(e.loading,{...i});return u.then(l=>(Wr.success(qo(e.success,l),{id:o,...i}),l)).catch(l=>{Wr.error(qo(e.error,l),{id:o,...i})}),u};Wr.remove=u=>{Yr({type:gn.REMOVE_TOAST,toastId:u})};var mw=G.template("<div><style>.sldt-active{z-index:9999;}.sldt-active>*{pointer-events:auto;}");const yw=u=>(yt.createEffect(()=>{lw(u)}),yt.createEffect(()=>{const e=iw();yt.onCleanup(()=>{e&&e.forEach(i=>i&&clearTimeout(i))})}),(()=>{var e=mw();return e.firstChild,G.insert(e,G.createComponent(yt.For,{get each(){return us.toasts},children:i=>G.createComponent(Sw,{toast:i})}),null),G.effect(i=>{var o={...ow,...u.containerStyle},l=u.containerClassName;return i.e=G.style(e,o,i.e),l!==i.t&&G.className(e,i.t=l),i},{e:void 0,t:void 0}),e})());var Mo=G.template("<div>"),ww=G.template("<div><div>");const xw=u=>{let e;return yt.createEffect(()=>{if(!e)return;const i=dw(u.toast,u.position);u.toast.visible?e.animate([{transform:`translate3d(0,${i*-200}%,0) scale(.6)`,opacity:.5},{transform:"translate3d(0,0,0) scale(1)",opacity:1}],{duration:350,fill:"forwards",easing:"cubic-bezier(.21,1.02,.73,1)"}):e.animate([{transform:"translate3d(0,0,-1px) scale(1)",opacity:1},{transform:`translate3d(0,${i*-150}%,-1px) scale(.4)`,opacity:0}],{duration:400,fill:"forwards",easing:"cubic-bezier(.06,.71,.55,1)"})}),(()=>{var i=ww(),o=i.firstChild,l=e;return typeof l=="function"?G.use(l,i):e=i,G.insert(i,G.createComponent(yt.Switch,{get children(){return[G.createComponent(yt.Match,{get when(){return u.toast.icon},get children(){var h=Mo();return G.insert(h,()=>u.toast.icon),G.effect(c=>G.style(h,Oo,c)),h}}),G.createComponent(yt.Match,{get when(){return u.toast.type==="loading"},get children(){var h=Mo();return G.insert(h,G.createComponent(Ew,G.mergeProps(()=>u.toast.iconTheme))),G.effect(c=>G.style(h,Oo,c)),h}}),G.createComponent(yt.Match,{get when(){return u.toast.type==="success"},get children(){var h=Mo();return G.insert(h,G.createComponent(Pw,G.mergeProps(()=>u.toast.iconTheme))),G.effect(c=>G.style(h,Oo,c)),h}}),G.createComponent(yt.Match,{get when(){return u.toast.type==="error"},get children(){var h=Mo();return G.insert(h,G.createComponent(Mw,G.mergeProps(()=>u.toast.iconTheme))),G.effect(c=>G.style(h,Oo,c)),h}})]}}),o),G.spread(o,G.mergeProps(()=>u.toast.ariaProps),!1,!0),G.insert(o,()=>qo(u.toast.message,u.toast)),G.effect(h=>{var c=u.toast.className,g={..._w,...u.toast.style},b=gw;return c!==h.e&&G.className(i,h.e=c),h.t=G.style(i,g,h.t),h.a=G.style(o,b,h.a),h},{e:void 0,t:void 0,a:void 0}),i})()};var bw=G.template("<div>");const Sw=u=>{const e=()=>{const l=u.toast.position||Ns.position,h=cw(u.toast,l);return hw(l,h)},i=yt.createMemo(()=>e());let o;return yt.onMount(()=>{o&&fw(o,u.toast)}),(()=>{var l=bw();l.addEventListener("mouseleave",()=>Yr({type:gn.END_PAUSE,time:Date.now()})),l.addEventListener("mouseenter",()=>Yr({type:gn.START_PAUSE,time:Date.now()}));var h=o;return typeof h=="function"?G.use(h,l):o=l,G.insert(l,(()=>{var c=G.memo(()=>u.toast.type==="custom");return()=>c()?qo(u.toast.message,u.toast):G.createComponent(xw,{get toast(){return u.toast},get position(){return u.toast.position||Ns.position}})})()),G.effect(c=>{var g=i(),b=u.toast.visible?"sldt-active":"";return c.e=G.style(l,g,c.e),b!==c.t&&G.className(l,c.t=b),c},{e:void 0,t:void 0}),l})()};var Cw=G.template('<svg><circle cx=16 cy=16 r=0><animate attributeName=opacity values="0; 1; 1"></animate><animate attributeName=r values="0; 17.5; 16"></svg>',!1,!0),Tw=G.template('<svg><circle cx=16 cy=16 r=12 opacity=0><animate attributeName=opacity values="1; 0"></animate><animate attributeName=r values="12; 26"></svg>',!1,!0);const Bd=u=>{const e={dur:"0.35s",begin:"100ms",fill:"freeze",calcMode:"spline",keyTimes:"0; 0.6; 1",keySplines:"0.25 0.71 0.4 0.88; .59 .22 .87 .63"};return(()=>{var i=Cw(),o=i.firstChild,l=o.nextSibling;return G.spread(o,e,!0,!1),G.spread(l,e,!0,!1),G.effect(()=>G.setAttribute(i,"fill",u.fill)),i})()},Nd=u=>{const e={dur:"1s",begin:u.begin||"320ms",fill:"freeze",...Wo("0.0 0.0 0.2 1")};return(()=>{var i=Tw(),o=i.firstChild,l=o.nextSibling;return G.spread(o,e,!0,!1),G.spread(l,e,!0,!1),G.effect(()=>G.setAttribute(i,"fill",u.fill)),i})()};var Aw=G.template('<svg viewBox="0 0 32 32"width=1.25rem height=1.25rem><path fill=none stroke-width=4 stroke-dasharray=22 stroke-dashoffset=22 stroke-linecap=round stroke-miterlimit=10 d=M9.8,17.2l3.8,3.6c0.1,0.1,0.3,0.1,0.4,0l9.6-9.7><animate attributeName=stroke-dashoffset values=22;0 dur=0.25s begin=250ms fill=freeze>');const Pw=u=>{const e=u.primary||"#34C759";return(()=>{var i=Aw(),o=i.firstChild,l=o.firstChild;return i.style.setProperty("overflow","visible"),G.insert(i,G.createComponent(Bd,{fill:e}),o),G.insert(i,G.createComponent(Nd,{fill:e,begin:"350ms"}),o),G.spread(l,G.mergeProps(()=>Wo("0.0, 0.0, 0.58, 1.0")),!0,!1),G.effect(()=>G.setAttribute(o,"stroke",u.secondary||"#FCFCFC")),i})()};var Ow=G.template('<svg viewBox="0 0 32 32"width=1.25rem height=1.25rem><path fill=none stroke-width=4 stroke-dasharray=9 stroke-dashoffset=9 stroke-linecap=round d=M16,7l0,9><animate attributeName=stroke-dashoffset values=9;0 dur=0.2s begin=250ms fill=freeze></animate></path><circle cx=16 cy=23 r=2.5 opacity=0><animate attributeName=opacity values=0;1 dur=0.25s begin=350ms fill=freeze>');const Mw=u=>{const e=u.primary||"#FF3B30";return(()=>{var i=Ow(),o=i.firstChild,l=o.firstChild,h=o.nextSibling,c=h.firstChild;return i.style.setProperty("overflow","visible"),G.insert(i,G.createComponent(Bd,{fill:e}),o),G.insert(i,G.createComponent(Nd,{fill:e}),o),G.spread(l,G.mergeProps(()=>Wo("0.0, 0.0, 0.58, 1.0")),!0,!1),G.spread(c,G.mergeProps(()=>Wo("0.0, 0.0, 0.58, 1.0")),!0,!1),G.effect(g=>{var b=u.secondary||"#FFFFFF",x=u.secondary||"#FFFFFF";return b!==g.e&&G.setAttribute(o,"stroke",g.e=b),x!==g.t&&G.setAttribute(h,"fill",g.t=x),g},{e:void 0,t:void 0}),i})()};var Iw=G.template('<svg viewBox="0 0 32 32"width=1.25rem height=1.25rem><path fill=none stroke-width=4 stroke-miterlimit=10 d=M16,6c3,0,5.7,1.3,7.5,3.4c1.5,1.8,2.5,4,2.5,6.6c0,5.5-4.5,10-10,10S6,21.6,6,16S10.5,6,16,6z></path><path fill=none stroke-width=4 stroke-linecap=round stroke-miterlimit=10 d=M16,6c3,0,5.7,1.3,7.5,3.4c0.6,0.7,1.1,1.4,1.5,2.2><animateTransform attributeName=transform type=rotate from="0 16 16"to="360 16 16"dur=0.75s repeatCount=indefinite>');const Ew=u=>(()=>{var e=Iw(),i=e.firstChild,o=i.nextSibling;return e.style.setProperty("overflow","visible"),G.effect(l=>{var h=u.primary||"#E5E7EB",c=u.secondary||"#4b5563";return h!==l.e&&G.setAttribute(i,"stroke",l.e=h),c!==l.t&&G.setAttribute(o,"stroke",l.t=c),l},{e:void 0,t:void 0}),e})();function ci(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function Fd(u,e){u.prototype=Object.create(e.prototype),u.prototype.constructor=u,u.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Sr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ws={duration:.5,overwrite:!1,delay:0},fh,En,je,Nr=1e8,We=1/Nr,$l=Math.PI*2,kw=$l/4,Lw=0,$d=Math.sqrt,Rw=Math.cos,Dw=Math.sin,Tn=function(e){return typeof e=="string"},ln=function(e){return typeof e=="function"},vi=function(e){return typeof e=="number"},ch=function(e){return typeof e>"u"},ei=function(e){return typeof e=="object"},sr=function(e){return e!==!1},dh=function(){return typeof window<"u"},Io=function(e){return ln(e)||Tn(e)},Vd=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Un=Array.isArray,Vl=/(?:-?\.?\d|\.)+/gi,Ud=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ds=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_l=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,qd=/[+-]=-?[.\d]+/,Wd=/[^,'"\[\]\s]+/gi,zw=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,sn,Kr,Ul,_h,Cr={},Yo={},Yd,Hd=function(e){return(Yo=Ys(e,Cr))&&lr},gh=function(e,i){return console.warn("Invalid property",e,"set to",i,"Missing plugin? gsap.registerPlugin()")},Ia=function(e,i){return!i&&console.warn(e)},Xd=function(e,i){return e&&(Cr[e]=i)&&Yo&&(Yo[e]=i)||Cr},Ea=function(){return 0},Bw={suppressEvents:!0,isStart:!0,kill:!1},No={suppressEvents:!0,kill:!1},Nw={suppressEvents:!0},vh={},Fi=[],ql={},Gd,wr={},gl={},Hc=30,Fo=[],ph="",mh=function(e){var i=e[0],o,l;if(ei(i)||ln(i)||(e=[e]),!(o=(i._gsap||{}).harness)){for(l=Fo.length;l--&&!Fo[l].targetTest(i););o=Fo[l]}for(l=e.length;l--;)e[l]&&(e[l]._gsap||(e[l]._gsap=new m_(e[l],o)))||e.splice(l,1);return e},ls=function(e){return e._gsap||mh(Fr(e))[0]._gsap},Zd=function(e,i,o){return(o=e[i])&&ln(o)?e[i]():ch(o)&&e.getAttribute&&e.getAttribute(i)||o},ar=function(e,i){return(e=e.split(",")).forEach(i)||e},dn=function(e){return Math.round(e*1e5)/1e5||0},pn=function(e){return Math.round(e*1e7)/1e7||0},Fs=function(e,i){var o=i.charAt(0),l=parseFloat(i.substr(2));return e=parseFloat(e),o==="+"?e+l:o==="-"?e-l:o==="*"?e*l:e/l},Fw=function(e,i){for(var o=i.length,l=0;e.indexOf(i[l])<0&&++l<o;);return l<o},Ho=function(){var e=Fi.length,i=Fi.slice(0),o,l;for(ql={},Fi.length=0,o=0;o<e;o++)l=i[o],l&&l._lazy&&(l.render(l._lazy[0],l._lazy[1],!0)._lazy=0)},Kd=function(e,i,o,l){Fi.length&&!En&&Ho(),e.render(i,o,l||En&&i<0&&(e._initted||e._startAt)),Fi.length&&!En&&Ho()},Jd=function(e){var i=parseFloat(e);return(i||i===0)&&(e+"").match(Wd).length<2?i:Tn(e)?e.trim():e},jd=function(e){return e},Tr=function(e,i){for(var o in i)o in e||(e[o]=i[o]);return e},$w=function(e){return function(i,o){for(var l in o)l in i||l==="duration"&&e||l==="ease"||(i[l]=o[l])}},Ys=function(e,i){for(var o in i)e[o]=i[o];return e},Xc=function u(e,i){for(var o in i)o!=="__proto__"&&o!=="constructor"&&o!=="prototype"&&(e[o]=ei(i[o])?u(e[o]||(e[o]={}),i[o]):i[o]);return e},Xo=function(e,i){var o={},l;for(l in e)l in i||(o[l]=e[l]);return o},Ca=function(e){var i=e.parent||sn,o=e.keyframes?$w(Un(e.keyframes)):Tr;if(sr(e.inherit))for(;i;)o(e,i.vars.defaults),i=i.parent||i._dp;return e},Vw=function(e,i){for(var o=e.length,l=o===i.length;l&&o--&&e[o]===i[o];);return o<0},Qd=function(e,i,o,l,h){o===void 0&&(o="_first"),l===void 0&&(l="_last");var c=e[l],g;if(h)for(g=i[h];c&&c[h]>g;)c=c._prev;return c?(i._next=c._next,c._next=i):(i._next=e[o],e[o]=i),i._next?i._next._prev=i:e[l]=i,i._prev=c,i.parent=i._dp=e,i},eu=function(e,i,o,l){o===void 0&&(o="_first"),l===void 0&&(l="_last");var h=i._prev,c=i._next;h?h._next=c:e[o]===i&&(e[o]=c),c?c._prev=h:e[l]===i&&(e[l]=h),i._next=i._prev=i.parent=null},Vi=function(e,i){e.parent&&(!i||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},hs=function(e,i){if(e&&(!i||i._end>e._dur||i._start<0))for(var o=e;o;)o._dirty=1,o=o.parent;return e},Uw=function(e){for(var i=e.parent;i&&i.parent;)i._dirty=1,i.totalDuration(),i=i.parent;return e},Wl=function(e,i,o,l){return e._startAt&&(En?e._startAt.revert(No):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(i,!0,l))},qw=function u(e){return!e||e._ts&&u(e.parent)},Gc=function(e){return e._repeat?Hs(e._tTime,e=e.duration()+e._rDelay)*e:0},Hs=function(e,i){var o=Math.floor(e=pn(e/i));return e&&o===e?o-1:o},Go=function(e,i){return(e-i._start)*i._ts+(i._ts>=0?0:i._dirty?i.totalDuration():i._tDur)},nu=function(e){return e._end=pn(e._start+(e._tDur/Math.abs(e._ts||e._rts||We)||0))},ru=function(e,i){var o=e._dp;return o&&o.smoothChildTiming&&e._ts&&(e._start=pn(o._time-(e._ts>0?i/e._ts:((e._dirty?e.totalDuration():e._tDur)-i)/-e._ts)),nu(e),o._dirty||hs(o,e)),e},t_=function(e,i){var o;if((i._time||!i._dur&&i._initted||i._start<e._time&&(i._dur||!i.add))&&(o=Go(e.rawTime(),i),(!i._dur||Na(0,i.totalDuration(),o)-i._tTime>We)&&i.render(o,!0)),hs(e,i)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(o=e;o._dp;)o.rawTime()>=0&&o.totalTime(o._tTime),o=o._dp;e._zTime=-We}},Jr=function(e,i,o,l){return i.parent&&Vi(i),i._start=pn((vi(o)?o:o||e!==sn?zr(e,o,i):e._time)+i._delay),i._end=pn(i._start+(i.totalDuration()/Math.abs(i.timeScale())||0)),Qd(e,i,"_first","_last",e._sort?"_start":0),Yl(i)||(e._recent=i),l||t_(e,i),e._ts<0&&ru(e,e._tTime),e},e_=function(e,i){return(Cr.ScrollTrigger||gh("scrollTrigger",i))&&Cr.ScrollTrigger.create(i,e)},n_=function(e,i,o,l,h){if(wh(e,i,h),!e._initted)return 1;if(!o&&e._pt&&!En&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Gd!==xr.frame)return Fi.push(e),e._lazy=[h,l],1},Ww=function u(e){var i=e.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||u(i))},Yl=function(e){var i=e.data;return i==="isFromStart"||i==="isStart"},Yw=function(e,i,o,l){var h=e.ratio,c=i<0||!i&&(!e._start&&Ww(e)&&!(!e._initted&&Yl(e))||(e._ts<0||e._dp._ts<0)&&!Yl(e))?0:1,g=e._rDelay,b=0,x,S,A;if(g&&e._repeat&&(b=Na(0,e._tDur,i),S=Hs(b,g),e._yoyo&&S&1&&(c=1-c),S!==Hs(e._tTime,g)&&(h=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==h||En||l||e._zTime===We||!i&&e._zTime){if(!e._initted&&n_(e,i,l,o,b))return;for(A=e._zTime,e._zTime=i||(o?We:0),o||(o=i&&!A),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=b,x=e._pt;x;)x.r(c,x.d),x=x._next;i<0&&Wl(e,i,o,!0),e._onUpdate&&!o&&br(e,"onUpdate"),b&&e._repeat&&!o&&e.parent&&br(e,"onRepeat"),(i>=e._tDur||i<0)&&e.ratio===c&&(c&&Vi(e,1),!o&&!En&&(br(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=i)},Hw=function(e,i,o){var l;if(o>i)for(l=e._first;l&&l._start<=o;){if(l.data==="isPause"&&l._start>i)return l;l=l._next}else for(l=e._last;l&&l._start>=o;){if(l.data==="isPause"&&l._start<i)return l;l=l._prev}},Xs=function(e,i,o,l){var h=e._repeat,c=pn(i)||0,g=e._tTime/e._tDur;return g&&!l&&(e._time*=c/e._dur),e._dur=c,e._tDur=h?h<0?1e10:pn(c*(h+1)+e._rDelay*h):c,g>0&&!l&&ru(e,e._tTime=e._tDur*g),e.parent&&nu(e),o||hs(e.parent,e),e},Zc=function(e){return e instanceof Kn?hs(e):Xs(e,e._dur)},Xw={_start:0,endTime:Ea,totalDuration:Ea},zr=function u(e,i,o){var l=e.labels,h=e._recent||Xw,c=e.duration()>=Nr?h.endTime(!1):e._dur,g,b,x;return Tn(i)&&(isNaN(i)||i in l)?(b=i.charAt(0),x=i.substr(-1)==="%",g=i.indexOf("="),b==="<"||b===">"?(g>=0&&(i=i.replace(/=/,"")),(b==="<"?h._start:h.endTime(h._repeat>=0))+(parseFloat(i.substr(1))||0)*(x?(g<0?h:o).totalDuration()/100:1)):g<0?(i in l||(l[i]=c),l[i]):(b=parseFloat(i.charAt(g-1)+i.substr(g+1)),x&&o&&(b=b/100*(Un(o)?o[0]:o).totalDuration()),g>1?u(e,i.substr(0,g-1),o)+b:c+b)):i==null?c:+i},Ta=function(e,i,o){var l=vi(i[1]),h=(l?2:1)+(e<2?0:1),c=i[h],g,b;if(l&&(c.duration=i[1]),c.parent=o,e){for(g=c,b=o;b&&!("immediateRender"in g);)g=b.vars.defaults||{},b=sr(b.vars.inherit)&&b.parent;c.immediateRender=sr(g.immediateRender),e<2?c.runBackwards=1:c.startAt=i[h-1]}return new vn(i[0],c,i[h+1])},Wi=function(e,i){return e||e===0?i(e):i},Na=function(e,i,o){return o<e?e:o>i?i:o},Vn=function(e,i){return!Tn(e)||!(i=zw.exec(e))?"":i[1]},Gw=function(e,i,o){return Wi(o,function(l){return Na(e,i,l)})},Hl=[].slice,r_=function(e,i){return e&&ei(e)&&"length"in e&&(!i&&!e.length||e.length-1 in e&&ei(e[0]))&&!e.nodeType&&e!==Kr},Zw=function(e,i,o){return o===void 0&&(o=[]),e.forEach(function(l){var h;return Tn(l)&&!i||r_(l,1)?(h=o).push.apply(h,Fr(l)):o.push(l)})||o},Fr=function(e,i,o){return je&&!i&&je.selector?je.selector(e):Tn(e)&&!o&&(Ul||!Gs())?Hl.call((i||_h).querySelectorAll(e),0):Un(e)?Zw(e,o):r_(e)?Hl.call(e,0):e?[e]:[]},Xl=function(e){return e=Fr(e)[0]||Ia("Invalid scope")||{},function(i){var o=e.current||e.nativeElement||e;return Fr(i,o.querySelectorAll?o:o===e?Ia("Invalid scope")||_h.createElement("div"):e)}},i_=function(e){return e.sort(function(){return .5-Math.random()})},s_=function(e){if(ln(e))return e;var i=ei(e)?e:{each:e},o=fs(i.ease),l=i.from||0,h=parseFloat(i.base)||0,c={},g=l>0&&l<1,b=isNaN(l)||g,x=i.axis,S=l,A=l;return Tn(l)?S=A={center:.5,edges:.5,end:1}[l]||0:!g&&b&&(S=l[0],A=l[1]),function(k,y,D){var C=(D||i).length,U=c[C],$,K,J,ut,ht,dt,ft,gt,ot;if(!U){if(ot=i.grid==="auto"?0:(i.grid||[1,Nr])[1],!ot){for(ft=-Nr;ft<(ft=D[ot++].getBoundingClientRect().left)&&ot<C;);ot<C&&ot--}for(U=c[C]=[],$=b?Math.min(ot,C)*S-.5:l%ot,K=ot===Nr?0:b?C*A/ot-.5:l/ot|0,ft=0,gt=Nr,dt=0;dt<C;dt++)J=dt%ot-$,ut=K-(dt/ot|0),U[dt]=ht=x?Math.abs(x==="y"?ut:J):$d(J*J+ut*ut),ht>ft&&(ft=ht),ht<gt&&(gt=ht);l==="random"&&i_(U),U.max=ft-gt,U.min=gt,U.v=C=(parseFloat(i.amount)||parseFloat(i.each)*(ot>C?C-1:x?x==="y"?C/ot:ot:Math.max(ot,C/ot))||0)*(l==="edges"?-1:1),U.b=C<0?h-C:h,U.u=Vn(i.amount||i.each)||0,o=o&&C<0?g_(o):o}return C=(U[k]-U.min)/U.max||0,pn(U.b+(o?o(C):C)*U.v)+U.u}},Gl=function(e){var i=Math.pow(10,((e+"").split(".")[1]||"").length);return function(o){var l=pn(Math.round(parseFloat(o)/e)*e*i);return(l-l%1)/i+(vi(o)?0:Vn(o))}},a_=function(e,i){var o=Un(e),l,h;return!o&&ei(e)&&(l=o=e.radius||Nr,e.values?(e=Fr(e.values),(h=!vi(e[0]))&&(l*=l)):e=Gl(e.increment)),Wi(i,o?ln(e)?function(c){return h=e(c),Math.abs(h-c)<=l?h:c}:function(c){for(var g=parseFloat(h?c.x:c),b=parseFloat(h?c.y:0),x=Nr,S=0,A=e.length,k,y;A--;)h?(k=e[A].x-g,y=e[A].y-b,k=k*k+y*y):k=Math.abs(e[A]-g),k<x&&(x=k,S=A);return S=!l||x<=l?e[S]:c,h||S===c||vi(c)?S:S+Vn(c)}:Gl(e))},o_=function(e,i,o,l){return Wi(Un(e)?!i:o===!0?!!(o=0):!l,function(){return Un(e)?e[~~(Math.random()*e.length)]:(o=o||1e-5)&&(l=o<1?Math.pow(10,(o+"").length-2):1)&&Math.floor(Math.round((e-o/2+Math.random()*(i-e+o*.99))/o)*o*l)/l})},Kw=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return function(l){return i.reduce(function(h,c){return c(h)},l)}},Jw=function(e,i){return function(o){return e(parseFloat(o))+(i||Vn(o))}},jw=function(e,i,o){return l_(e,i,0,1,o)},u_=function(e,i,o){return Wi(o,function(l){return e[~~i(l)]})},Qw=function u(e,i,o){var l=i-e;return Un(e)?u_(e,u(0,e.length),i):Wi(o,function(h){return(l+(h-e)%l)%l+e})},tx=function u(e,i,o){var l=i-e,h=l*2;return Un(e)?u_(e,u(0,e.length-1),i):Wi(o,function(c){return c=(h+(c-e)%h)%h||0,e+(c>l?h-c:c)})},ka=function(e){for(var i=0,o="",l,h,c,g;~(l=e.indexOf("random(",i));)c=e.indexOf(")",l),g=e.charAt(l+7)==="[",h=e.substr(l+7,c-l-7).match(g?Wd:Vl),o+=e.substr(i,l-i)+o_(g?h:+h[0],g?0:+h[1],+h[2]||1e-5),i=c+1;return o+e.substr(i,e.length-i)},l_=function(e,i,o,l,h){var c=i-e,g=l-o;return Wi(h,function(b){return o+((b-e)/c*g||0)})},ex=function u(e,i,o,l){var h=isNaN(e+i)?0:function(y){return(1-y)*e+y*i};if(!h){var c=Tn(e),g={},b,x,S,A,k;if(o===!0&&(l=1)&&(o=null),c)e={p:e},i={p:i};else if(Un(e)&&!Un(i)){for(S=[],A=e.length,k=A-2,x=1;x<A;x++)S.push(u(e[x-1],e[x]));A--,h=function(D){D*=A;var C=Math.min(k,~~D);return S[C](D-C)},o=i}else l||(e=Ys(Un(e)?[]:{},e));if(!S){for(b in i)yh.call(g,e,b,"get",i[b]);h=function(D){return Sh(D,g)||(c?e.p:e)}}}return Wi(o,h)},Kc=function(e,i,o){var l=e.labels,h=Nr,c,g,b;for(c in l)g=l[c]-i,g<0==!!o&&g&&h>(g=Math.abs(g))&&(b=c,h=g);return b},br=function(e,i,o){var l=e.vars,h=l[i],c=je,g=e._ctx,b,x,S;if(h)return b=l[i+"Params"],x=l.callbackScope||e,o&&Fi.length&&Ho(),g&&(je=g),S=b?h.apply(x,b):h.call(x),je=c,S},ya=function(e){return Vi(e),e.scrollTrigger&&e.scrollTrigger.kill(!!En),e.progress()<1&&br(e,"onInterrupt"),e},zs,h_=[],f_=function(e){if(e)if(e=!e.name&&e.default||e,dh()||e.headless){var i=e.name,o=ln(e),l=i&&!o&&e.init?function(){this._props=[]}:e,h={init:Ea,render:Sh,add:yh,kill:px,modifier:vx,rawVars:0},c={targetTest:0,get:0,getSetter:bh,aliases:{},register:0};if(Gs(),e!==l){if(wr[i])return;Tr(l,Tr(Xo(e,h),c)),Ys(l.prototype,Ys(h,Xo(e,c))),wr[l.prop=i]=l,e.targetTest&&(Fo.push(l),vh[i]=1),i=(i==="css"?"CSS":i.charAt(0).toUpperCase()+i.substr(1))+"Plugin"}Xd(i,l),e.register&&e.register(lr,l,or)}else h_.push(e)},qe=255,wa={aqua:[0,qe,qe],lime:[0,qe,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,qe],navy:[0,0,128],white:[qe,qe,qe],olive:[128,128,0],yellow:[qe,qe,0],orange:[qe,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[qe,0,0],pink:[qe,192,203],cyan:[0,qe,qe],transparent:[qe,qe,qe,0]},vl=function(e,i,o){return e+=e<0?1:e>1?-1:0,(e*6<1?i+(o-i)*e*6:e<.5?o:e*3<2?i+(o-i)*(2/3-e)*6:i)*qe+.5|0},c_=function(e,i,o){var l=e?vi(e)?[e>>16,e>>8&qe,e&qe]:0:wa.black,h,c,g,b,x,S,A,k,y,D;if(!l){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),wa[e])l=wa[e];else if(e.charAt(0)==="#"){if(e.length<6&&(h=e.charAt(1),c=e.charAt(2),g=e.charAt(3),e="#"+h+h+c+c+g+g+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return l=parseInt(e.substr(1,6),16),[l>>16,l>>8&qe,l&qe,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),l=[e>>16,e>>8&qe,e&qe]}else if(e.substr(0,3)==="hsl"){if(l=D=e.match(Vl),!i)b=+l[0]%360/360,x=+l[1]/100,S=+l[2]/100,c=S<=.5?S*(x+1):S+x-S*x,h=S*2-c,l.length>3&&(l[3]*=1),l[0]=vl(b+1/3,h,c),l[1]=vl(b,h,c),l[2]=vl(b-1/3,h,c);else if(~e.indexOf("="))return l=e.match(Ud),o&&l.length<4&&(l[3]=1),l}else l=e.match(Vl)||wa.transparent;l=l.map(Number)}return i&&!D&&(h=l[0]/qe,c=l[1]/qe,g=l[2]/qe,A=Math.max(h,c,g),k=Math.min(h,c,g),S=(A+k)/2,A===k?b=x=0:(y=A-k,x=S>.5?y/(2-A-k):y/(A+k),b=A===h?(c-g)/y+(c<g?6:0):A===c?(g-h)/y+2:(h-c)/y+4,b*=60),l[0]=~~(b+.5),l[1]=~~(x*100+.5),l[2]=~~(S*100+.5)),o&&l.length<4&&(l[3]=1),l},d_=function(e){var i=[],o=[],l=-1;return e.split($i).forEach(function(h){var c=h.match(Ds)||[];i.push.apply(i,c),o.push(l+=c.length+1)}),i.c=o,i},Jc=function(e,i,o){var l="",h=(e+l).match($i),c=i?"hsla(":"rgba(",g=0,b,x,S,A;if(!h)return e;if(h=h.map(function(k){return(k=c_(k,i,1))&&c+(i?k[0]+","+k[1]+"%,"+k[2]+"%,"+k[3]:k.join(","))+")"}),o&&(S=d_(e),b=o.c,b.join(l)!==S.c.join(l)))for(x=e.replace($i,"1").split(Ds),A=x.length-1;g<A;g++)l+=x[g]+(~b.indexOf(g)?h.shift()||c+"0,0,0,0)":(S.length?S:h.length?h:o).shift());if(!x)for(x=e.split($i),A=x.length-1;g<A;g++)l+=x[g]+h[g];return l+x[A]},$i=function(){var u="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in wa)u+="|"+e+"\\b";return new RegExp(u+")","gi")}(),nx=/hsl[a]?\(/,__=function(e){var i=e.join(" "),o;if($i.lastIndex=0,$i.test(i))return o=nx.test(i),e[1]=Jc(e[1],o),e[0]=Jc(e[0],o,d_(e[1])),!0},La,xr=function(){var u=Date.now,e=500,i=33,o=u(),l=o,h=1e3/240,c=h,g=[],b,x,S,A,k,y,D=function C(U){var $=u()-l,K=U===!0,J,ut,ht,dt;if(($>e||$<0)&&(o+=$-i),l+=$,ht=l-o,J=ht-c,(J>0||K)&&(dt=++A.frame,k=ht-A.time*1e3,A.time=ht=ht/1e3,c+=J+(J>=h?4:h-J),ut=1),K||(b=x(C)),ut)for(y=0;y<g.length;y++)g[y](ht,k,dt,U)};return A={time:0,frame:0,tick:function(){D(!0)},deltaRatio:function(U){return k/(1e3/(U||60))},wake:function(){Yd&&(!Ul&&dh()&&(Kr=Ul=window,_h=Kr.document||{},Cr.gsap=lr,(Kr.gsapVersions||(Kr.gsapVersions=[])).push(lr.version),Hd(Yo||Kr.GreenSockGlobals||!Kr.gsap&&Kr||{}),h_.forEach(f_)),S=typeof requestAnimationFrame<"u"&&requestAnimationFrame,b&&A.sleep(),x=S||function(U){return setTimeout(U,c-A.time*1e3+1|0)},La=1,D(2))},sleep:function(){(S?cancelAnimationFrame:clearTimeout)(b),La=0,x=Ea},lagSmoothing:function(U,$){e=U||1/0,i=Math.min($||33,e)},fps:function(U){h=1e3/(U||240),c=A.time*1e3+h},add:function(U,$,K){var J=$?function(ut,ht,dt,ft){U(ut,ht,dt,ft),A.remove(J)}:U;return A.remove(U),g[K?"unshift":"push"](J),Gs(),J},remove:function(U,$){~($=g.indexOf(U))&&g.splice($,1)&&y>=$&&y--},_listeners:g},A}(),Gs=function(){return!La&&xr.wake()},Ee={},rx=/^[\d.\-M][\d.\-,\s]/,ix=/["']/g,sx=function(e){for(var i={},o=e.substr(1,e.length-3).split(":"),l=o[0],h=1,c=o.length,g,b,x;h<c;h++)b=o[h],g=h!==c-1?b.lastIndexOf(","):b.length,x=b.substr(0,g),i[l]=isNaN(x)?x.replace(ix,"").trim():+x,l=b.substr(g+1).trim();return i},ax=function(e){var i=e.indexOf("(")+1,o=e.indexOf(")"),l=e.indexOf("(",i);return e.substring(i,~l&&l<o?e.indexOf(")",o+1):o)},ox=function(e){var i=(e+"").split("("),o=Ee[i[0]];return o&&i.length>1&&o.config?o.config.apply(null,~e.indexOf("{")?[sx(i[1])]:ax(e).split(",").map(Jd)):Ee._CE&&rx.test(e)?Ee._CE("",e):o},g_=function(e){return function(i){return 1-e(1-i)}},v_=function u(e,i){for(var o=e._first,l;o;)o instanceof Kn?u(o,i):o.vars.yoyoEase&&(!o._yoyo||!o._repeat)&&o._yoyo!==i&&(o.timeline?u(o.timeline,i):(l=o._ease,o._ease=o._yEase,o._yEase=l,o._yoyo=i)),o=o._next},fs=function(e,i){return e&&(ln(e)?e:Ee[e]||ox(e))||i},_s=function(e,i,o,l){o===void 0&&(o=function(b){return 1-i(1-b)}),l===void 0&&(l=function(b){return b<.5?i(b*2)/2:1-i((1-b)*2)/2});var h={easeIn:i,easeOut:o,easeInOut:l},c;return ar(e,function(g){Ee[g]=Cr[g]=h,Ee[c=g.toLowerCase()]=o;for(var b in h)Ee[c+(b==="easeIn"?".in":b==="easeOut"?".out":".inOut")]=Ee[g+"."+b]=h[b]}),h},p_=function(e){return function(i){return i<.5?(1-e(1-i*2))/2:.5+e((i-.5)*2)/2}},pl=function u(e,i,o){var l=i>=1?i:1,h=(o||(e?.3:.45))/(i<1?i:1),c=h/$l*(Math.asin(1/l)||0),g=function(S){return S===1?1:l*Math.pow(2,-10*S)*Dw((S-c)*h)+1},b=e==="out"?g:e==="in"?function(x){return 1-g(1-x)}:p_(g);return h=$l/h,b.config=function(x,S){return u(e,x,S)},b},ml=function u(e,i){i===void 0&&(i=1.70158);var o=function(c){return c?--c*c*((i+1)*c+i)+1:0},l=e==="out"?o:e==="in"?function(h){return 1-o(1-h)}:p_(o);return l.config=function(h){return u(e,h)},l};ar("Linear,Quad,Cubic,Quart,Quint,Strong",function(u,e){var i=e<5?e+1:e;_s(u+",Power"+(i-1),e?function(o){return Math.pow(o,i)}:function(o){return o},function(o){return 1-Math.pow(1-o,i)},function(o){return o<.5?Math.pow(o*2,i)/2:1-Math.pow((1-o)*2,i)/2})});Ee.Linear.easeNone=Ee.none=Ee.Linear.easeIn;_s("Elastic",pl("in"),pl("out"),pl());(function(u,e){var i=1/e,o=2*i,l=2.5*i,h=function(g){return g<i?u*g*g:g<o?u*Math.pow(g-1.5/e,2)+.75:g<l?u*(g-=2.25/e)*g+.9375:u*Math.pow(g-2.625/e,2)+.984375};_s("Bounce",function(c){return 1-h(1-c)},h)})(7.5625,2.75);_s("Expo",function(u){return Math.pow(2,10*(u-1))*u+u*u*u*u*u*u*(1-u)});_s("Circ",function(u){return-($d(1-u*u)-1)});_s("Sine",function(u){return u===1?1:-Rw(u*kw)+1});_s("Back",ml("in"),ml("out"),ml());Ee.SteppedEase=Ee.steps=Cr.SteppedEase={config:function(e,i){e===void 0&&(e=1);var o=1/e,l=e+(i?0:1),h=i?1:0,c=1-We;return function(g){return((l*Na(0,c,g)|0)+h)*o}}};Ws.ease=Ee["quad.out"];ar("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(u){return ph+=u+","+u+"Params,"});var m_=function(e,i){this.id=Lw++,e._gsap=this,this.target=e,this.harness=i,this.get=i?i.get:Zd,this.set=i?i.getSetter:bh},Ra=function(){function u(i){this.vars=i,this._delay=+i.delay||0,(this._repeat=i.repeat===1/0?-2:i.repeat||0)&&(this._rDelay=i.repeatDelay||0,this._yoyo=!!i.yoyo||!!i.yoyoEase),this._ts=1,Xs(this,+i.duration,1,1),this.data=i.data,je&&(this._ctx=je,je.data.push(this)),La||xr.wake()}var e=u.prototype;return e.delay=function(o){return o||o===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+o-this._delay),this._delay=o,this):this._delay},e.duration=function(o){return arguments.length?this.totalDuration(this._repeat>0?o+(o+this._rDelay)*this._repeat:o):this.totalDuration()&&this._dur},e.totalDuration=function(o){return arguments.length?(this._dirty=0,Xs(this,this._repeat<0?o:(o-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(o,l){if(Gs(),!arguments.length)return this._tTime;var h=this._dp;if(h&&h.smoothChildTiming&&this._ts){for(ru(this,o),!h._dp||h.parent||t_(h,this);h&&h.parent;)h.parent._time!==h._start+(h._ts>=0?h._tTime/h._ts:(h.totalDuration()-h._tTime)/-h._ts)&&h.totalTime(h._tTime,!0),h=h.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&o<this._tDur||this._ts<0&&o>0||!this._tDur&&!o)&&Jr(this._dp,this,this._start-this._delay)}return(this._tTime!==o||!this._dur&&!l||this._initted&&Math.abs(this._zTime)===We||!o&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=o),Kd(this,o,l)),this},e.time=function(o,l){return arguments.length?this.totalTime(Math.min(this.totalDuration(),o+Gc(this))%(this._dur+this._rDelay)||(o?this._dur:0),l):this._time},e.totalProgress=function(o,l){return arguments.length?this.totalTime(this.totalDuration()*o,l):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(o,l){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-o:o)+Gc(this),l):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(o,l){var h=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(o-1)*h,l):this._repeat?Hs(this._tTime,h)+1:1},e.timeScale=function(o,l){if(!arguments.length)return this._rts===-We?0:this._rts;if(this._rts===o)return this;var h=this.parent&&this._ts?Go(this.parent._time,this):this._tTime;return this._rts=+o||0,this._ts=this._ps||o===-We?0:this._rts,this.totalTime(Na(-Math.abs(this._delay),this._tDur,h),l!==!1),nu(this),Uw(this)},e.paused=function(o){return arguments.length?(this._ps!==o&&(this._ps=o,o?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Gs(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==We&&(this._tTime-=We)))),this):this._ps},e.startTime=function(o){if(arguments.length){this._start=o;var l=this.parent||this._dp;return l&&(l._sort||!this.parent)&&Jr(l,this,o-this._delay),this}return this._start},e.endTime=function(o){return this._start+(sr(o)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(o){var l=this.parent||this._dp;return l?o&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Go(l.rawTime(o),this):this._tTime:this._tTime},e.revert=function(o){o===void 0&&(o=Nw);var l=En;return En=o,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(o),this.totalTime(-.01,o.suppressEvents)),this.data!=="nested"&&o.kill!==!1&&this.kill(),En=l,this},e.globalTime=function(o){for(var l=this,h=arguments.length?o:l.rawTime();l;)h=l._start+h/(Math.abs(l._ts)||1),l=l._dp;return!this.parent&&this._sat?this._sat.globalTime(o):h},e.repeat=function(o){return arguments.length?(this._repeat=o===1/0?-2:o,Zc(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(o){if(arguments.length){var l=this._time;return this._rDelay=o,Zc(this),l?this.time(l):this}return this._rDelay},e.yoyo=function(o){return arguments.length?(this._yoyo=o,this):this._yoyo},e.seek=function(o,l){return this.totalTime(zr(this,o),sr(l))},e.restart=function(o,l){return this.play().totalTime(o?-this._delay:0,sr(l)),this._dur||(this._zTime=-We),this},e.play=function(o,l){return o!=null&&this.seek(o,l),this.reversed(!1).paused(!1)},e.reverse=function(o,l){return o!=null&&this.seek(o||this.totalDuration(),l),this.reversed(!0).paused(!1)},e.pause=function(o,l){return o!=null&&this.seek(o,l),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(o){return arguments.length?(!!o!==this.reversed()&&this.timeScale(-this._rts||(o?-We:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-We,this},e.isActive=function(){var o=this.parent||this._dp,l=this._start,h;return!!(!o||this._ts&&this._initted&&o.isActive()&&(h=o.rawTime(!0))>=l&&h<this.endTime(!0)-We)},e.eventCallback=function(o,l,h){var c=this.vars;return arguments.length>1?(l?(c[o]=l,h&&(c[o+"Params"]=h),o==="onUpdate"&&(this._onUpdate=l)):delete c[o],this):c[o]},e.then=function(o){var l=this;return new Promise(function(h){var c=ln(o)?o:jd,g=function(){var x=l.then;l.then=null,ln(c)&&(c=c(l))&&(c.then||c===l)&&(l.then=x),h(c),l.then=x};l._initted&&l.totalProgress()===1&&l._ts>=0||!l._tTime&&l._ts<0?g():l._prom=g})},e.kill=function(){ya(this)},u}();Tr(Ra.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-We,_prom:0,_ps:!1,_rts:1});var Kn=function(u){Fd(e,u);function e(o,l){var h;return o===void 0&&(o={}),h=u.call(this,o)||this,h.labels={},h.smoothChildTiming=!!o.smoothChildTiming,h.autoRemoveChildren=!!o.autoRemoveChildren,h._sort=sr(o.sortChildren),sn&&Jr(o.parent||sn,ci(h),l),o.reversed&&h.reverse(),o.paused&&h.paused(!0),o.scrollTrigger&&e_(ci(h),o.scrollTrigger),h}var i=e.prototype;return i.to=function(l,h,c){return Ta(0,arguments,this),this},i.from=function(l,h,c){return Ta(1,arguments,this),this},i.fromTo=function(l,h,c,g){return Ta(2,arguments,this),this},i.set=function(l,h,c){return h.duration=0,h.parent=this,Ca(h).repeatDelay||(h.repeat=0),h.immediateRender=!!h.immediateRender,new vn(l,h,zr(this,c),1),this},i.call=function(l,h,c){return Jr(this,vn.delayedCall(0,l,h),c)},i.staggerTo=function(l,h,c,g,b,x,S){return c.duration=h,c.stagger=c.stagger||g,c.onComplete=x,c.onCompleteParams=S,c.parent=this,new vn(l,c,zr(this,b)),this},i.staggerFrom=function(l,h,c,g,b,x,S){return c.runBackwards=1,Ca(c).immediateRender=sr(c.immediateRender),this.staggerTo(l,h,c,g,b,x,S)},i.staggerFromTo=function(l,h,c,g,b,x,S,A){return g.startAt=c,Ca(g).immediateRender=sr(g.immediateRender),this.staggerTo(l,h,g,b,x,S,A)},i.render=function(l,h,c){var g=this._time,b=this._dirty?this.totalDuration():this._tDur,x=this._dur,S=l<=0?0:pn(l),A=this._zTime<0!=l<0&&(this._initted||!x),k,y,D,C,U,$,K,J,ut,ht,dt,ft;if(this!==sn&&S>b&&l>=0&&(S=b),S!==this._tTime||c||A){if(g!==this._time&&x&&(S+=this._time-g,l+=this._time-g),k=S,ut=this._start,J=this._ts,$=!J,A&&(x||(g=this._zTime),(l||!h)&&(this._zTime=l)),this._repeat){if(dt=this._yoyo,U=x+this._rDelay,this._repeat<-1&&l<0)return this.totalTime(U*100+l,h,c);if(k=pn(S%U),S===b?(C=this._repeat,k=x):(ht=pn(S/U),C=~~ht,C&&C===ht&&(k=x,C--),k>x&&(k=x)),ht=Hs(this._tTime,U),!g&&this._tTime&&ht!==C&&this._tTime-ht*U-this._dur<=0&&(ht=C),dt&&C&1&&(k=x-k,ft=1),C!==ht&&!this._lock){var gt=dt&&ht&1,ot=gt===(dt&&C&1);if(C<ht&&(gt=!gt),g=gt?0:S%x?x:S,this._lock=1,this.render(g||(ft?0:pn(C*U)),h,!x)._lock=0,this._tTime=S,!h&&this.parent&&br(this,"onRepeat"),this.vars.repeatRefresh&&!ft&&(this.invalidate()._lock=1),g&&g!==this._time||$!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(x=this._dur,b=this._tDur,ot&&(this._lock=2,g=gt?x:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!ft&&this.invalidate()),this._lock=0,!this._ts&&!$)return this;v_(this,ft)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(K=Hw(this,pn(g),pn(k)),K&&(S-=k-(k=K._start))),this._tTime=S,this._time=k,this._act=!J,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=l,g=0),!g&&k&&!h&&!C&&(br(this,"onStart"),this._tTime!==S))return this;if(k>=g&&l>=0)for(y=this._first;y;){if(D=y._next,(y._act||k>=y._start)&&y._ts&&K!==y){if(y.parent!==this)return this.render(l,h,c);if(y.render(y._ts>0?(k-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(k-y._start)*y._ts,h,c),k!==this._time||!this._ts&&!$){K=0,D&&(S+=this._zTime=-We);break}}y=D}else{y=this._last;for(var Mt=l<0?l:k;y;){if(D=y._prev,(y._act||Mt<=y._end)&&y._ts&&K!==y){if(y.parent!==this)return this.render(l,h,c);if(y.render(y._ts>0?(Mt-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(Mt-y._start)*y._ts,h,c||En&&(y._initted||y._startAt)),k!==this._time||!this._ts&&!$){K=0,D&&(S+=this._zTime=Mt?-We:We);break}}y=D}}if(K&&!h&&(this.pause(),K.render(k>=g?0:-We)._zTime=k>=g?1:-1,this._ts))return this._start=ut,nu(this),this.render(l,h,c);this._onUpdate&&!h&&br(this,"onUpdate",!0),(S===b&&this._tTime>=this.totalDuration()||!S&&g)&&(ut===this._start||Math.abs(J)!==Math.abs(this._ts))&&(this._lock||((l||!x)&&(S===b&&this._ts>0||!S&&this._ts<0)&&Vi(this,1),!h&&!(l<0&&!g)&&(S||g||!b)&&(br(this,S===b&&l>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(S<b&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(l,h){var c=this;if(vi(h)||(h=zr(this,h,l)),!(l instanceof Ra)){if(Un(l))return l.forEach(function(g){return c.add(g,h)}),this;if(Tn(l))return this.addLabel(l,h);if(ln(l))l=vn.delayedCall(0,l);else return this}return this!==l?Jr(this,l,h):this},i.getChildren=function(l,h,c,g){l===void 0&&(l=!0),h===void 0&&(h=!0),c===void 0&&(c=!0),g===void 0&&(g=-Nr);for(var b=[],x=this._first;x;)x._start>=g&&(x instanceof vn?h&&b.push(x):(c&&b.push(x),l&&b.push.apply(b,x.getChildren(!0,h,c)))),x=x._next;return b},i.getById=function(l){for(var h=this.getChildren(1,1,1),c=h.length;c--;)if(h[c].vars.id===l)return h[c]},i.remove=function(l){return Tn(l)?this.removeLabel(l):ln(l)?this.killTweensOf(l):(l.parent===this&&eu(this,l),l===this._recent&&(this._recent=this._last),hs(this))},i.totalTime=function(l,h){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=pn(xr.time-(this._ts>0?l/this._ts:(this.totalDuration()-l)/-this._ts))),u.prototype.totalTime.call(this,l,h),this._forcing=0,this):this._tTime},i.addLabel=function(l,h){return this.labels[l]=zr(this,h),this},i.removeLabel=function(l){return delete this.labels[l],this},i.addPause=function(l,h,c){var g=vn.delayedCall(0,h||Ea,c);return g.data="isPause",this._hasPause=1,Jr(this,g,zr(this,l))},i.removePause=function(l){var h=this._first;for(l=zr(this,l);h;)h._start===l&&h.data==="isPause"&&Vi(h),h=h._next},i.killTweensOf=function(l,h,c){for(var g=this.getTweensOf(l,c),b=g.length;b--;)zi!==g[b]&&g[b].kill(l,h);return this},i.getTweensOf=function(l,h){for(var c=[],g=Fr(l),b=this._first,x=vi(h),S;b;)b instanceof vn?Fw(b._targets,g)&&(x?(!zi||b._initted&&b._ts)&&b.globalTime(0)<=h&&b.globalTime(b.totalDuration())>h:!h||b.isActive())&&c.push(b):(S=b.getTweensOf(g,h)).length&&c.push.apply(c,S),b=b._next;return c},i.tweenTo=function(l,h){h=h||{};var c=this,g=zr(c,l),b=h,x=b.startAt,S=b.onStart,A=b.onStartParams,k=b.immediateRender,y,D=vn.to(c,Tr({ease:h.ease||"none",lazy:!1,immediateRender:!1,time:g,overwrite:"auto",duration:h.duration||Math.abs((g-(x&&"time"in x?x.time:c._time))/c.timeScale())||We,onStart:function(){if(c.pause(),!y){var U=h.duration||Math.abs((g-(x&&"time"in x?x.time:c._time))/c.timeScale());D._dur!==U&&Xs(D,U,0,1).render(D._time,!0,!0),y=1}S&&S.apply(D,A||[])}},h));return k?D.render(0):D},i.tweenFromTo=function(l,h,c){return this.tweenTo(h,Tr({startAt:{time:zr(this,l)}},c))},i.recent=function(){return this._recent},i.nextLabel=function(l){return l===void 0&&(l=this._time),Kc(this,zr(this,l))},i.previousLabel=function(l){return l===void 0&&(l=this._time),Kc(this,zr(this,l),1)},i.currentLabel=function(l){return arguments.length?this.seek(l,!0):this.previousLabel(this._time+We)},i.shiftChildren=function(l,h,c){c===void 0&&(c=0);for(var g=this._first,b=this.labels,x;g;)g._start>=c&&(g._start+=l,g._end+=l),g=g._next;if(h)for(x in b)b[x]>=c&&(b[x]+=l);return hs(this)},i.invalidate=function(l){var h=this._first;for(this._lock=0;h;)h.invalidate(l),h=h._next;return u.prototype.invalidate.call(this,l)},i.clear=function(l){l===void 0&&(l=!0);for(var h=this._first,c;h;)c=h._next,this.remove(h),h=c;return this._dp&&(this._time=this._tTime=this._pTime=0),l&&(this.labels={}),hs(this)},i.totalDuration=function(l){var h=0,c=this,g=c._last,b=Nr,x,S,A;if(arguments.length)return c.timeScale((c._repeat<0?c.duration():c.totalDuration())/(c.reversed()?-l:l));if(c._dirty){for(A=c.parent;g;)x=g._prev,g._dirty&&g.totalDuration(),S=g._start,S>b&&c._sort&&g._ts&&!c._lock?(c._lock=1,Jr(c,g,S-g._delay,1)._lock=0):b=S,S<0&&g._ts&&(h-=S,(!A&&!c._dp||A&&A.smoothChildTiming)&&(c._start+=S/c._ts,c._time-=S,c._tTime-=S),c.shiftChildren(-S,!1,-1/0),b=0),g._end>h&&g._ts&&(h=g._end),g=x;Xs(c,c===sn&&c._time>h?c._time:h,1,1),c._dirty=0}return c._tDur},e.updateRoot=function(l){if(sn._ts&&(Kd(sn,Go(l,sn)),Gd=xr.frame),xr.frame>=Hc){Hc+=Sr.autoSleep||120;var h=sn._first;if((!h||!h._ts)&&Sr.autoSleep&&xr._listeners.length<2){for(;h&&!h._ts;)h=h._next;h||xr.sleep()}}},e}(Ra);Tr(Kn.prototype,{_lock:0,_hasPause:0,_forcing:0});var ux=function(e,i,o,l,h,c,g){var b=new or(this._pt,e,i,0,1,C_,null,h),x=0,S=0,A,k,y,D,C,U,$,K;for(b.b=o,b.e=l,o+="",l+="",($=~l.indexOf("random("))&&(l=ka(l)),c&&(K=[o,l],c(K,e,i),o=K[0],l=K[1]),k=o.match(_l)||[];A=_l.exec(l);)D=A[0],C=l.substring(x,A.index),y?y=(y+1)%5:C.substr(-5)==="rgba("&&(y=1),D!==k[S++]&&(U=parseFloat(k[S-1])||0,b._pt={_next:b._pt,p:C||S===1?C:",",s:U,c:D.charAt(1)==="="?Fs(U,D)-U:parseFloat(D)-U,m:y&&y<4?Math.round:0},x=_l.lastIndex);return b.c=x<l.length?l.substring(x,l.length):"",b.fp=g,(qd.test(l)||$)&&(b.e=0),this._pt=b,b},yh=function(e,i,o,l,h,c,g,b,x,S){ln(l)&&(l=l(h||0,e,c));var A=e[i],k=o!=="get"?o:ln(A)?x?e[i.indexOf("set")||!ln(e["get"+i.substr(3)])?i:"get"+i.substr(3)](x):e[i]():A,y=ln(A)?x?dx:b_:xh,D;if(Tn(l)&&(~l.indexOf("random(")&&(l=ka(l)),l.charAt(1)==="="&&(D=Fs(k,l)+(Vn(k)||0),(D||D===0)&&(l=D))),!S||k!==l||Zl)return!isNaN(k*l)&&l!==""?(D=new or(this._pt,e,i,+k||0,l-(k||0),typeof A=="boolean"?gx:S_,0,y),x&&(D.fp=x),g&&D.modifier(g,this,e),this._pt=D):(!A&&!(i in e)&&gh(i,l),ux.call(this,e,i,k,l,y,b||Sr.stringFilter,x))},lx=function(e,i,o,l,h){if(ln(e)&&(e=Aa(e,h,i,o,l)),!ei(e)||e.style&&e.nodeType||Un(e)||Vd(e))return Tn(e)?Aa(e,h,i,o,l):e;var c={},g;for(g in e)c[g]=Aa(e[g],h,i,o,l);return c},y_=function(e,i,o,l,h,c){var g,b,x,S;if(wr[e]&&(g=new wr[e]).init(h,g.rawVars?i[e]:lx(i[e],l,h,c,o),o,l,c)!==!1&&(o._pt=b=new or(o._pt,h,e,0,1,g.render,g,0,g.priority),o!==zs))for(x=o._ptLookup[o._targets.indexOf(h)],S=g._props.length;S--;)x[g._props[S]]=b;return g},zi,Zl,wh=function u(e,i,o){var l=e.vars,h=l.ease,c=l.startAt,g=l.immediateRender,b=l.lazy,x=l.onUpdate,S=l.runBackwards,A=l.yoyoEase,k=l.keyframes,y=l.autoRevert,D=e._dur,C=e._startAt,U=e._targets,$=e.parent,K=$&&$.data==="nested"?$.vars.targets:U,J=e._overwrite==="auto"&&!fh,ut=e.timeline,ht,dt,ft,gt,ot,Mt,Et,Lt,Rt,Ct,Bt,pt,Vt;if(ut&&(!k||!h)&&(h="none"),e._ease=fs(h,Ws.ease),e._yEase=A?g_(fs(A===!0?h:A,Ws.ease)):0,A&&e._yoyo&&!e._repeat&&(A=e._yEase,e._yEase=e._ease,e._ease=A),e._from=!ut&&!!l.runBackwards,!ut||k&&!l.stagger){if(Lt=U[0]?ls(U[0]).harness:0,pt=Lt&&l[Lt.prop],ht=Xo(l,vh),C&&(C._zTime<0&&C.progress(1),i<0&&S&&g&&!y?C.render(-1,!0):C.revert(S&&D?No:Bw),C._lazy=0),c){if(Vi(e._startAt=vn.set(U,Tr({data:"isStart",overwrite:!1,parent:$,immediateRender:!0,lazy:!C&&sr(b),startAt:null,delay:0,onUpdate:x&&function(){return br(e,"onUpdate")},stagger:0},c))),e._startAt._dp=0,e._startAt._sat=e,i<0&&(En||!g&&!y)&&e._startAt.revert(No),g&&D&&i<=0&&o<=0){i&&(e._zTime=i);return}}else if(S&&D&&!C){if(i&&(g=!1),ft=Tr({overwrite:!1,data:"isFromStart",lazy:g&&!C&&sr(b),immediateRender:g,stagger:0,parent:$},ht),pt&&(ft[Lt.prop]=pt),Vi(e._startAt=vn.set(U,ft)),e._startAt._dp=0,e._startAt._sat=e,i<0&&(En?e._startAt.revert(No):e._startAt.render(-1,!0)),e._zTime=i,!g)u(e._startAt,We,We);else if(!i)return}for(e._pt=e._ptCache=0,b=D&&sr(b)||b&&!D,dt=0;dt<U.length;dt++){if(ot=U[dt],Et=ot._gsap||mh(U)[dt]._gsap,e._ptLookup[dt]=Ct={},ql[Et.id]&&Fi.length&&Ho(),Bt=K===U?dt:K.indexOf(ot),Lt&&(Rt=new Lt).init(ot,pt||ht,e,Bt,K)!==!1&&(e._pt=gt=new or(e._pt,ot,Rt.name,0,1,Rt.render,Rt,0,Rt.priority),Rt._props.forEach(function(Ht){Ct[Ht]=gt}),Rt.priority&&(Mt=1)),!Lt||pt)for(ft in ht)wr[ft]&&(Rt=y_(ft,ht,e,Bt,ot,K))?Rt.priority&&(Mt=1):Ct[ft]=gt=yh.call(e,ot,ft,"get",ht[ft],Bt,K,0,l.stringFilter);e._op&&e._op[dt]&&e.kill(ot,e._op[dt]),J&&e._pt&&(zi=e,sn.killTweensOf(ot,Ct,e.globalTime(i)),Vt=!e.parent,zi=0),e._pt&&b&&(ql[Et.id]=1)}Mt&&T_(e),e._onInit&&e._onInit(e)}e._onUpdate=x,e._initted=(!e._op||e._pt)&&!Vt,k&&i<=0&&ut.render(Nr,!0,!0)},hx=function(e,i,o,l,h,c,g,b){var x=(e._pt&&e._ptCache||(e._ptCache={}))[i],S,A,k,y;if(!x)for(x=e._ptCache[i]=[],k=e._ptLookup,y=e._targets.length;y--;){if(S=k[y][i],S&&S.d&&S.d._pt)for(S=S.d._pt;S&&S.p!==i&&S.fp!==i;)S=S._next;if(!S)return Zl=1,e.vars[i]="+=0",wh(e,g),Zl=0,b?Ia(i+" not eligible for reset"):1;x.push(S)}for(y=x.length;y--;)A=x[y],S=A._pt||A,S.s=(l||l===0)&&!h?l:S.s+(l||0)+c*S.c,S.c=o-S.s,A.e&&(A.e=dn(o)+Vn(A.e)),A.b&&(A.b=S.s+Vn(A.b))},fx=function(e,i){var o=e[0]?ls(e[0]).harness:0,l=o&&o.aliases,h,c,g,b;if(!l)return i;h=Ys({},i);for(c in l)if(c in h)for(b=l[c].split(","),g=b.length;g--;)h[b[g]]=h[c];return h},cx=function(e,i,o,l){var h=i.ease||l||"power1.inOut",c,g;if(Un(i))g=o[e]||(o[e]=[]),i.forEach(function(b,x){return g.push({t:x/(i.length-1)*100,v:b,e:h})});else for(c in i)g=o[c]||(o[c]=[]),c==="ease"||g.push({t:parseFloat(e),v:i[c],e:h})},Aa=function(e,i,o,l,h){return ln(e)?e.call(i,o,l,h):Tn(e)&&~e.indexOf("random(")?ka(e):e},w_=ph+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",x_={};ar(w_+",id,stagger,delay,duration,paused,scrollTrigger",function(u){return x_[u]=1});var vn=function(u){Fd(e,u);function e(o,l,h,c){var g;typeof l=="number"&&(h.duration=l,l=h,h=null),g=u.call(this,c?l:Ca(l))||this;var b=g.vars,x=b.duration,S=b.delay,A=b.immediateRender,k=b.stagger,y=b.overwrite,D=b.keyframes,C=b.defaults,U=b.scrollTrigger,$=b.yoyoEase,K=l.parent||sn,J=(Un(o)||Vd(o)?vi(o[0]):"length"in l)?[o]:Fr(o),ut,ht,dt,ft,gt,ot,Mt,Et;if(g._targets=J.length?mh(J):Ia("GSAP target "+o+" not found. https://gsap.com",!Sr.nullTargetWarn)||[],g._ptLookup=[],g._overwrite=y,D||k||Io(x)||Io(S)){if(l=g.vars,ut=g.timeline=new Kn({data:"nested",defaults:C||{},targets:K&&K.data==="nested"?K.vars.targets:J}),ut.kill(),ut.parent=ut._dp=ci(g),ut._start=0,k||Io(x)||Io(S)){if(ft=J.length,Mt=k&&s_(k),ei(k))for(gt in k)~w_.indexOf(gt)&&(Et||(Et={}),Et[gt]=k[gt]);for(ht=0;ht<ft;ht++)dt=Xo(l,x_),dt.stagger=0,$&&(dt.yoyoEase=$),Et&&Ys(dt,Et),ot=J[ht],dt.duration=+Aa(x,ci(g),ht,ot,J),dt.delay=(+Aa(S,ci(g),ht,ot,J)||0)-g._delay,!k&&ft===1&&dt.delay&&(g._delay=S=dt.delay,g._start+=S,dt.delay=0),ut.to(ot,dt,Mt?Mt(ht,ot,J):0),ut._ease=Ee.none;ut.duration()?x=S=0:g.timeline=0}else if(D){Ca(Tr(ut.vars.defaults,{ease:"none"})),ut._ease=fs(D.ease||l.ease||"none");var Lt=0,Rt,Ct,Bt;if(Un(D))D.forEach(function(pt){return ut.to(J,pt,">")}),ut.duration();else{dt={};for(gt in D)gt==="ease"||gt==="easeEach"||cx(gt,D[gt],dt,D.easeEach);for(gt in dt)for(Rt=dt[gt].sort(function(pt,Vt){return pt.t-Vt.t}),Lt=0,ht=0;ht<Rt.length;ht++)Ct=Rt[ht],Bt={ease:Ct.e,duration:(Ct.t-(ht?Rt[ht-1].t:0))/100*x},Bt[gt]=Ct.v,ut.to(J,Bt,Lt),Lt+=Bt.duration;ut.duration()<x&&ut.to({},{duration:x-ut.duration()})}}x||g.duration(x=ut.duration())}else g.timeline=0;return y===!0&&!fh&&(zi=ci(g),sn.killTweensOf(J),zi=0),Jr(K,ci(g),h),l.reversed&&g.reverse(),l.paused&&g.paused(!0),(A||!x&&!D&&g._start===pn(K._time)&&sr(A)&&qw(ci(g))&&K.data!=="nested")&&(g._tTime=-We,g.render(Math.max(0,-S)||0)),U&&e_(ci(g),U),g}var i=e.prototype;return i.render=function(l,h,c){var g=this._time,b=this._tDur,x=this._dur,S=l<0,A=l>b-We&&!S?b:l<We?0:l,k,y,D,C,U,$,K,J,ut;if(!x)Yw(this,l,h,c);else if(A!==this._tTime||!l||c||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==S||this._lazy){if(k=A,J=this.timeline,this._repeat){if(C=x+this._rDelay,this._repeat<-1&&S)return this.totalTime(C*100+l,h,c);if(k=pn(A%C),A===b?(D=this._repeat,k=x):(U=pn(A/C),D=~~U,D&&D===U?(k=x,D--):k>x&&(k=x)),$=this._yoyo&&D&1,$&&(ut=this._yEase,k=x-k),U=Hs(this._tTime,C),k===g&&!c&&this._initted&&D===U)return this._tTime=A,this;D!==U&&(J&&this._yEase&&v_(J,$),this.vars.repeatRefresh&&!$&&!this._lock&&k!==C&&this._initted&&(this._lock=c=1,this.render(pn(C*D),!0).invalidate()._lock=0))}if(!this._initted){if(n_(this,S?l:k,c,h,A))return this._tTime=0,this;if(g!==this._time&&!(c&&this.vars.repeatRefresh&&D!==U))return this;if(x!==this._dur)return this.render(l,h,c)}if(this._tTime=A,this._time=k,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=K=(ut||this._ease)(k/x),this._from&&(this.ratio=K=1-K),k&&!g&&!h&&!D&&(br(this,"onStart"),this._tTime!==A))return this;for(y=this._pt;y;)y.r(K,y.d),y=y._next;J&&J.render(l<0?l:J._dur*J._ease(k/this._dur),h,c)||this._startAt&&(this._zTime=l),this._onUpdate&&!h&&(S&&Wl(this,l,h,c),br(this,"onUpdate")),this._repeat&&D!==U&&this.vars.onRepeat&&!h&&this.parent&&br(this,"onRepeat"),(A===this._tDur||!A)&&this._tTime===A&&(S&&!this._onUpdate&&Wl(this,l,!0,!0),(l||!x)&&(A===this._tDur&&this._ts>0||!A&&this._ts<0)&&Vi(this,1),!h&&!(S&&!g)&&(A||g||$)&&(br(this,A===b?"onComplete":"onReverseComplete",!0),this._prom&&!(A<b&&this.timeScale()>0)&&this._prom()))}return this},i.targets=function(){return this._targets},i.invalidate=function(l){return(!l||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(l),u.prototype.invalidate.call(this,l)},i.resetTo=function(l,h,c,g,b){La||xr.wake(),this._ts||this.play();var x=Math.min(this._dur,(this._dp._time-this._start)*this._ts),S;return this._initted||wh(this,x),S=this._ease(x/this._dur),hx(this,l,h,c,g,S,x,b)?this.resetTo(l,h,c,g,1):(ru(this,0),this.parent||Qd(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},i.kill=function(l,h){if(h===void 0&&(h="all"),!l&&(!h||h==="all"))return this._lazy=this._pt=0,this.parent?ya(this):this.scrollTrigger&&this.scrollTrigger.kill(!!En),this;if(this.timeline){var c=this.timeline.totalDuration();return this.timeline.killTweensOf(l,h,zi&&zi.vars.overwrite!==!0)._first||ya(this),this.parent&&c!==this.timeline.totalDuration()&&Xs(this,this._dur*this.timeline._tDur/c,0,1),this}var g=this._targets,b=l?Fr(l):g,x=this._ptLookup,S=this._pt,A,k,y,D,C,U,$;if((!h||h==="all")&&Vw(g,b))return h==="all"&&(this._pt=0),ya(this);for(A=this._op=this._op||[],h!=="all"&&(Tn(h)&&(C={},ar(h,function(K){return C[K]=1}),h=C),h=fx(g,h)),$=g.length;$--;)if(~b.indexOf(g[$])){k=x[$],h==="all"?(A[$]=h,D=k,y={}):(y=A[$]=A[$]||{},D=h);for(C in D)U=k&&k[C],U&&((!("kill"in U.d)||U.d.kill(C)===!0)&&eu(this,U,"_pt"),delete k[C]),y!=="all"&&(y[C]=1)}return this._initted&&!this._pt&&S&&ya(this),this},e.to=function(l,h){return new e(l,h,arguments[2])},e.from=function(l,h){return Ta(1,arguments)},e.delayedCall=function(l,h,c,g){return new e(h,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:l,onComplete:h,onReverseComplete:h,onCompleteParams:c,onReverseCompleteParams:c,callbackScope:g})},e.fromTo=function(l,h,c){return Ta(2,arguments)},e.set=function(l,h){return h.duration=0,h.repeatDelay||(h.repeat=0),new e(l,h)},e.killTweensOf=function(l,h,c){return sn.killTweensOf(l,h,c)},e}(Ra);Tr(vn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ar("staggerTo,staggerFrom,staggerFromTo",function(u){vn[u]=function(){var e=new Kn,i=Hl.call(arguments,0);return i.splice(u==="staggerFromTo"?5:4,0,0),e[u].apply(e,i)}});var xh=function(e,i,o){return e[i]=o},b_=function(e,i,o){return e[i](o)},dx=function(e,i,o,l){return e[i](l.fp,o)},_x=function(e,i,o){return e.setAttribute(i,o)},bh=function(e,i){return ln(e[i])?b_:ch(e[i])&&e.setAttribute?_x:xh},S_=function(e,i){return i.set(i.t,i.p,Math.round((i.s+i.c*e)*1e6)/1e6,i)},gx=function(e,i){return i.set(i.t,i.p,!!(i.s+i.c*e),i)},C_=function(e,i){var o=i._pt,l="";if(!e&&i.b)l=i.b;else if(e===1&&i.e)l=i.e;else{for(;o;)l=o.p+(o.m?o.m(o.s+o.c*e):Math.round((o.s+o.c*e)*1e4)/1e4)+l,o=o._next;l+=i.c}i.set(i.t,i.p,l,i)},Sh=function(e,i){for(var o=i._pt;o;)o.r(e,o.d),o=o._next},vx=function(e,i,o,l){for(var h=this._pt,c;h;)c=h._next,h.p===l&&h.modifier(e,i,o),h=c},px=function(e){for(var i=this._pt,o,l;i;)l=i._next,i.p===e&&!i.op||i.op===e?eu(this,i,"_pt"):i.dep||(o=1),i=l;return!o},mx=function(e,i,o,l){l.mSet(e,i,l.m.call(l.tween,o,l.mt),l)},T_=function(e){for(var i=e._pt,o,l,h,c;i;){for(o=i._next,l=h;l&&l.pr>i.pr;)l=l._next;(i._prev=l?l._prev:c)?i._prev._next=i:h=i,(i._next=l)?l._prev=i:c=i,i=o}e._pt=h},or=function(){function u(i,o,l,h,c,g,b,x,S){this.t=o,this.s=h,this.c=c,this.p=l,this.r=g||S_,this.d=b||this,this.set=x||xh,this.pr=S||0,this._next=i,i&&(i._prev=this)}var e=u.prototype;return e.modifier=function(o,l,h){this.mSet=this.mSet||this.set,this.set=mx,this.m=o,this.mt=h,this.tween=l},u}();ar(ph+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(u){return vh[u]=1});Cr.TweenMax=Cr.TweenLite=vn;Cr.TimelineLite=Cr.TimelineMax=Kn;sn=new Kn({sortChildren:!1,defaults:Ws,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Sr.stringFilter=__;var cs=[],$o={},yx=[],jc=0,wx=0,yl=function(e){return($o[e]||yx).map(function(i){return i()})},Kl=function(){var e=Date.now(),i=[];e-jc>2&&(yl("matchMediaInit"),cs.forEach(function(o){var l=o.queries,h=o.conditions,c,g,b,x;for(g in l)c=Kr.matchMedia(l[g]).matches,c&&(b=1),c!==h[g]&&(h[g]=c,x=1);x&&(o.revert(),b&&i.push(o))}),yl("matchMediaRevert"),i.forEach(function(o){return o.onMatch(o,function(l){return o.add(null,l)})}),jc=e,yl("matchMedia"))},A_=function(){function u(i,o){this.selector=o&&Xl(o),this.data=[],this._r=[],this.isReverted=!1,this.id=wx++,i&&this.add(i)}var e=u.prototype;return e.add=function(o,l,h){ln(o)&&(h=l,l=o,o=ln);var c=this,g=function(){var x=je,S=c.selector,A;return x&&x!==c&&x.data.push(c),h&&(c.selector=Xl(h)),je=c,A=l.apply(c,arguments),ln(A)&&c._r.push(A),je=x,c.selector=S,c.isReverted=!1,A};return c.last=g,o===ln?g(c,function(b){return c.add(null,b)}):o?c[o]=g:g},e.ignore=function(o){var l=je;je=null,o(this),je=l},e.getTweens=function(){var o=[];return this.data.forEach(function(l){return l instanceof u?o.push.apply(o,l.getTweens()):l instanceof vn&&!(l.parent&&l.parent.data==="nested")&&o.push(l)}),o},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(o,l){var h=this;if(o?function(){for(var g=h.getTweens(),b=h.data.length,x;b--;)x=h.data[b],x.data==="isFlip"&&(x.revert(),x.getChildren(!0,!0,!1).forEach(function(S){return g.splice(g.indexOf(S),1)}));for(g.map(function(S){return{g:S._dur||S._delay||S._sat&&!S._sat.vars.immediateRender?S.globalTime(0):-1/0,t:S}}).sort(function(S,A){return A.g-S.g||-1/0}).forEach(function(S){return S.t.revert(o)}),b=h.data.length;b--;)x=h.data[b],x instanceof Kn?x.data!=="nested"&&(x.scrollTrigger&&x.scrollTrigger.revert(),x.kill()):!(x instanceof vn)&&x.revert&&x.revert(o);h._r.forEach(function(S){return S(o,h)}),h.isReverted=!0}():this.data.forEach(function(g){return g.kill&&g.kill()}),this.clear(),l)for(var c=cs.length;c--;)cs[c].id===this.id&&cs.splice(c,1)},e.revert=function(o){this.kill(o||{})},u}(),xx=function(){function u(i){this.contexts=[],this.scope=i,je&&je.data.push(this)}var e=u.prototype;return e.add=function(o,l,h){ei(o)||(o={matches:o});var c=new A_(0,h||this.scope),g=c.conditions={},b,x,S;je&&!c.selector&&(c.selector=je.selector),this.contexts.push(c),l=c.add("onMatch",l),c.queries=o;for(x in o)x==="all"?S=1:(b=Kr.matchMedia(o[x]),b&&(cs.indexOf(c)<0&&cs.push(c),(g[x]=b.matches)&&(S=1),b.addListener?b.addListener(Kl):b.addEventListener("change",Kl)));return S&&l(c,function(A){return c.add(null,A)}),this},e.revert=function(o){this.kill(o||{})},e.kill=function(o){this.contexts.forEach(function(l){return l.kill(o,!0)})},u}(),Zo={registerPlugin:function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];i.forEach(function(l){return f_(l)})},timeline:function(e){return new Kn(e)},getTweensOf:function(e,i){return sn.getTweensOf(e,i)},getProperty:function(e,i,o,l){Tn(e)&&(e=Fr(e)[0]);var h=ls(e||{}).get,c=o?jd:Jd;return o==="native"&&(o=""),e&&(i?c((wr[i]&&wr[i].get||h)(e,i,o,l)):function(g,b,x){return c((wr[g]&&wr[g].get||h)(e,g,b,x))})},quickSetter:function(e,i,o){if(e=Fr(e),e.length>1){var l=e.map(function(S){return lr.quickSetter(S,i,o)}),h=l.length;return function(S){for(var A=h;A--;)l[A](S)}}e=e[0]||{};var c=wr[i],g=ls(e),b=g.harness&&(g.harness.aliases||{})[i]||i,x=c?function(S){var A=new c;zs._pt=0,A.init(e,o?S+o:S,zs,0,[e]),A.render(1,A),zs._pt&&Sh(1,zs)}:g.set(e,b);return c?x:function(S){return x(e,b,o?S+o:S,g,1)}},quickTo:function(e,i,o){var l,h=lr.to(e,Tr((l={},l[i]="+=0.1",l.paused=!0,l.stagger=0,l),o||{})),c=function(b,x,S){return h.resetTo(i,b,x,S)};return c.tween=h,c},isTweening:function(e){return sn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=fs(e.ease,Ws.ease)),Xc(Ws,e||{})},config:function(e){return Xc(Sr,e||{})},registerEffect:function(e){var i=e.name,o=e.effect,l=e.plugins,h=e.defaults,c=e.extendTimeline;(l||"").split(",").forEach(function(g){return g&&!wr[g]&&!Cr[g]&&Ia(i+" effect requires "+g+" plugin.")}),gl[i]=function(g,b,x){return o(Fr(g),Tr(b||{},h),x)},c&&(Kn.prototype[i]=function(g,b,x){return this.add(gl[i](g,ei(b)?b:(x=b)&&{},this),x)})},registerEase:function(e,i){Ee[e]=fs(i)},parseEase:function(e,i){return arguments.length?fs(e,i):Ee},getById:function(e){return sn.getById(e)},exportRoot:function(e,i){e===void 0&&(e={});var o=new Kn(e),l,h;for(o.smoothChildTiming=sr(e.smoothChildTiming),sn.remove(o),o._dp=0,o._time=o._tTime=sn._time,l=sn._first;l;)h=l._next,(i||!(!l._dur&&l instanceof vn&&l.vars.onComplete===l._targets[0]))&&Jr(o,l,l._start-l._delay),l=h;return Jr(sn,o,0),o},context:function(e,i){return e?new A_(e,i):je},matchMedia:function(e){return new xx(e)},matchMediaRefresh:function(){return cs.forEach(function(e){var i=e.conditions,o,l;for(l in i)i[l]&&(i[l]=!1,o=1);o&&e.revert()})||Kl()},addEventListener:function(e,i){var o=$o[e]||($o[e]=[]);~o.indexOf(i)||o.push(i)},removeEventListener:function(e,i){var o=$o[e],l=o&&o.indexOf(i);l>=0&&o.splice(l,1)},utils:{wrap:Qw,wrapYoyo:tx,distribute:s_,random:o_,snap:a_,normalize:jw,getUnit:Vn,clamp:Gw,splitColor:c_,toArray:Fr,selector:Xl,mapRange:l_,pipe:Kw,unitize:Jw,interpolate:ex,shuffle:i_},install:Hd,effects:gl,ticker:xr,updateRoot:Kn.updateRoot,plugins:wr,globalTimeline:sn,core:{PropTween:or,globals:Xd,Tween:vn,Timeline:Kn,Animation:Ra,getCache:ls,_removeLinkedListItem:eu,reverting:function(){return En},context:function(e){return e&&je&&(je.data.push(e),e._ctx=je),je},suppressOverwrites:function(e){return fh=e}}};ar("to,from,fromTo,delayedCall,set,killTweensOf",function(u){return Zo[u]=vn[u]});xr.add(Kn.updateRoot);zs=Zo.to({},{duration:0});var bx=function(e,i){for(var o=e._pt;o&&o.p!==i&&o.op!==i&&o.fp!==i;)o=o._next;return o},Sx=function(e,i){var o=e._targets,l,h,c;for(l in i)for(h=o.length;h--;)c=e._ptLookup[h][l],c&&(c=c.d)&&(c._pt&&(c=bx(c,l)),c&&c.modifier&&c.modifier(i[l],e,o[h],l))},wl=function(e,i){return{name:e,rawVars:1,init:function(l,h,c){c._onInit=function(g){var b,x;if(Tn(h)&&(b={},ar(h,function(S){return b[S]=1}),h=b),i){b={};for(x in h)b[x]=i(h[x]);h=b}Sx(g,h)}}}},lr=Zo.registerPlugin({name:"attr",init:function(e,i,o,l,h){var c,g,b;this.tween=o;for(c in i)b=e.getAttribute(c)||"",g=this.add(e,"setAttribute",(b||0)+"",i[c],l,h,0,0,c),g.op=c,g.b=b,this._props.push(c)},render:function(e,i){for(var o=i._pt;o;)En?o.set(o.t,o.p,o.b,o):o.r(e,o.d),o=o._next}},{name:"endArray",init:function(e,i){for(var o=i.length;o--;)this.add(e,o,e[o]||0,i[o],0,0,0,0,0,1)}},wl("roundProps",Gl),wl("modifiers"),wl("snap",a_))||Zo;vn.version=Kn.version=lr.version="3.12.7";Yd=1;dh()&&Gs();Ee.Power0;Ee.Power1;Ee.Power2;Ee.Power3;Ee.Power4;Ee.Linear;Ee.Quad;Ee.Cubic;Ee.Quart;Ee.Quint;Ee.Strong;Ee.Elastic;Ee.Back;Ee.SteppedEase;Ee.Bounce;Ee.Sine;Ee.Expo;Ee.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Qc,Bi,$s,Ch,as,td,Th,Cx=function(){return typeof window<"u"},pi={},is=180/Math.PI,Vs=Math.PI/180,Ms=Math.atan2,ed=1e8,Ah=/([A-Z])/g,Tx=/(left|right|width|margin|padding|x)/i,Ax=/[\s,\(]\S/,Qr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Jl=function(e,i){return i.set(i.t,i.p,Math.round((i.s+i.c*e)*1e4)/1e4+i.u,i)},Px=function(e,i){return i.set(i.t,i.p,e===1?i.e:Math.round((i.s+i.c*e)*1e4)/1e4+i.u,i)},Ox=function(e,i){return i.set(i.t,i.p,e?Math.round((i.s+i.c*e)*1e4)/1e4+i.u:i.b,i)},Mx=function(e,i){var o=i.s+i.c*e;i.set(i.t,i.p,~~(o+(o<0?-.5:.5))+i.u,i)},P_=function(e,i){return i.set(i.t,i.p,e?i.e:i.b,i)},O_=function(e,i){return i.set(i.t,i.p,e!==1?i.b:i.e,i)},Ix=function(e,i,o){return e.style[i]=o},Ex=function(e,i,o){return e.style.setProperty(i,o)},kx=function(e,i,o){return e._gsap[i]=o},Lx=function(e,i,o){return e._gsap.scaleX=e._gsap.scaleY=o},Rx=function(e,i,o,l,h){var c=e._gsap;c.scaleX=c.scaleY=o,c.renderTransform(h,c)},Dx=function(e,i,o,l,h){var c=e._gsap;c[i]=o,c.renderTransform(h,c)},an="transform",ur=an+"Origin",zx=function u(e,i){var o=this,l=this.target,h=l.style,c=l._gsap;if(e in pi&&h){if(this.tfm=this.tfm||{},e!=="transform")e=Qr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(g){return o.tfm[g]=di(l,g)}):this.tfm[e]=c.x?c[e]:di(l,e),e===ur&&(this.tfm.zOrigin=c.zOrigin);else return Qr.transform.split(",").forEach(function(g){return u.call(o,g,i)});if(this.props.indexOf(an)>=0)return;c.svg&&(this.svgo=l.getAttribute("data-svg-origin"),this.props.push(ur,i,"")),e=an}(h||i)&&this.props.push(e,i,h[e])},M_=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Bx=function(){var e=this.props,i=this.target,o=i.style,l=i._gsap,h,c;for(h=0;h<e.length;h+=3)e[h+1]?e[h+1]===2?i[e[h]](e[h+2]):i[e[h]]=e[h+2]:e[h+2]?o[e[h]]=e[h+2]:o.removeProperty(e[h].substr(0,2)==="--"?e[h]:e[h].replace(Ah,"-$1").toLowerCase());if(this.tfm){for(c in this.tfm)l[c]=this.tfm[c];l.svg&&(l.renderTransform(),i.setAttribute("data-svg-origin",this.svgo||"")),h=Th(),(!h||!h.isStart)&&!o[an]&&(M_(o),l.zOrigin&&o[ur]&&(o[ur]+=" "+l.zOrigin+"px",l.zOrigin=0,l.renderTransform()),l.uncache=1)}},I_=function(e,i){var o={target:e,props:[],revert:Bx,save:zx};return e._gsap||lr.core.getCache(e),i&&e.style&&e.nodeType&&i.split(",").forEach(function(l){return o.save(l)}),o},E_,jl=function(e,i){var o=Bi.createElementNS?Bi.createElementNS((i||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Bi.createElement(e);return o&&o.style?o:Bi.createElement(e)},ti=function u(e,i,o){var l=getComputedStyle(e);return l[i]||l.getPropertyValue(i.replace(Ah,"-$1").toLowerCase())||l.getPropertyValue(i)||!o&&u(e,Zs(i)||i,1)||""},nd="O,Moz,ms,Ms,Webkit".split(","),Zs=function(e,i,o){var l=i||as,h=l.style,c=5;if(e in h&&!o)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);c--&&!(nd[c]+e in h););return c<0?null:(c===3?"ms":c>=0?nd[c]:"")+e},Ql=function(){Cx()&&window.document&&(Qc=window,Bi=Qc.document,$s=Bi.documentElement,as=jl("div")||{style:{}},jl("div"),an=Zs(an),ur=an+"Origin",as.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",E_=!!Zs("perspective"),Th=lr.core.reverting,Ch=1)},rd=function(e){var i=e.ownerSVGElement,o=jl("svg",i&&i.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),l=e.cloneNode(!0),h;l.style.display="block",o.appendChild(l),$s.appendChild(o);try{h=l.getBBox()}catch{}return o.removeChild(l),$s.removeChild(o),h},id=function(e,i){for(var o=i.length;o--;)if(e.hasAttribute(i[o]))return e.getAttribute(i[o])},k_=function(e){var i,o;try{i=e.getBBox()}catch{i=rd(e),o=1}return i&&(i.width||i.height)||o||(i=rd(e)),i&&!i.width&&!i.x&&!i.y?{x:+id(e,["x","cx","x1"])||0,y:+id(e,["y","cy","y1"])||0,width:0,height:0}:i},L_=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&k_(e))},ds=function(e,i){if(i){var o=e.style,l;i in pi&&i!==ur&&(i=an),o.removeProperty?(l=i.substr(0,2),(l==="ms"||i.substr(0,6)==="webkit")&&(i="-"+i),o.removeProperty(l==="--"?i:i.replace(Ah,"-$1").toLowerCase())):o.removeAttribute(i)}},Ni=function(e,i,o,l,h,c){var g=new or(e._pt,i,o,0,1,c?O_:P_);return e._pt=g,g.b=l,g.e=h,e._props.push(o),g},sd={deg:1,rad:1,turn:1},Nx={grid:1,flex:1},Ui=function u(e,i,o,l){var h=parseFloat(o)||0,c=(o+"").trim().substr((h+"").length)||"px",g=as.style,b=Tx.test(i),x=e.tagName.toLowerCase()==="svg",S=(x?"client":"offset")+(b?"Width":"Height"),A=100,k=l==="px",y=l==="%",D,C,U,$;if(l===c||!h||sd[l]||sd[c])return h;if(c!=="px"&&!k&&(h=u(e,i,o,"px")),$=e.getCTM&&L_(e),(y||c==="%")&&(pi[i]||~i.indexOf("adius")))return D=$?e.getBBox()[b?"width":"height"]:e[S],dn(y?h/D*A:h/100*D);if(g[b?"width":"height"]=A+(k?c:l),C=l!=="rem"&&~i.indexOf("adius")||l==="em"&&e.appendChild&&!x?e:e.parentNode,$&&(C=(e.ownerSVGElement||{}).parentNode),(!C||C===Bi||!C.appendChild)&&(C=Bi.body),U=C._gsap,U&&y&&U.width&&b&&U.time===xr.time&&!U.uncache)return dn(h/U.width*A);if(y&&(i==="height"||i==="width")){var K=e.style[i];e.style[i]=A+l,D=e[S],K?e.style[i]=K:ds(e,i)}else(y||c==="%")&&!Nx[ti(C,"display")]&&(g.position=ti(e,"position")),C===e&&(g.position="static"),C.appendChild(as),D=as[S],C.removeChild(as),g.position="absolute";return b&&y&&(U=ls(C),U.time=xr.time,U.width=C[S]),dn(k?D*h/A:D&&h?A/D*h:0)},di=function(e,i,o,l){var h;return Ch||Ql(),i in Qr&&i!=="transform"&&(i=Qr[i],~i.indexOf(",")&&(i=i.split(",")[0])),pi[i]&&i!=="transform"?(h=za(e,l),h=i!=="transformOrigin"?h[i]:h.svg?h.origin:Jo(ti(e,ur))+" "+h.zOrigin+"px"):(h=e.style[i],(!h||h==="auto"||l||~(h+"").indexOf("calc("))&&(h=Ko[i]&&Ko[i](e,i,o)||ti(e,i)||Zd(e,i)||(i==="opacity"?1:0))),o&&!~(h+"").trim().indexOf(" ")?Ui(e,i,h,o)+o:h},Fx=function(e,i,o,l){if(!o||o==="none"){var h=Zs(i,e,1),c=h&&ti(e,h,1);c&&c!==o?(i=h,o=c):i==="borderColor"&&(o=ti(e,"borderTopColor"))}var g=new or(this._pt,e.style,i,0,1,C_),b=0,x=0,S,A,k,y,D,C,U,$,K,J,ut,ht;if(g.b=o,g.e=l,o+="",l+="",l==="auto"&&(C=e.style[i],e.style[i]=l,l=ti(e,i)||l,C?e.style[i]=C:ds(e,i)),S=[o,l],__(S),o=S[0],l=S[1],k=o.match(Ds)||[],ht=l.match(Ds)||[],ht.length){for(;A=Ds.exec(l);)U=A[0],K=l.substring(b,A.index),D?D=(D+1)%5:(K.substr(-5)==="rgba("||K.substr(-5)==="hsla(")&&(D=1),U!==(C=k[x++]||"")&&(y=parseFloat(C)||0,ut=C.substr((y+"").length),U.charAt(1)==="="&&(U=Fs(y,U)+ut),$=parseFloat(U),J=U.substr(($+"").length),b=Ds.lastIndex-J.length,J||(J=J||Sr.units[i]||ut,b===l.length&&(l+=J,g.e+=J)),ut!==J&&(y=Ui(e,i,C,J)||0),g._pt={_next:g._pt,p:K||x===1?K:",",s:y,c:$-y,m:D&&D<4||i==="zIndex"?Math.round:0});g.c=b<l.length?l.substring(b,l.length):""}else g.r=i==="display"&&l==="none"?O_:P_;return qd.test(l)&&(g.e=0),this._pt=g,g},ad={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},$x=function(e){var i=e.split(" "),o=i[0],l=i[1]||"50%";return(o==="top"||o==="bottom"||l==="left"||l==="right")&&(e=o,o=l,l=e),i[0]=ad[o]||o,i[1]=ad[l]||l,i.join(" ")},Vx=function(e,i){if(i.tween&&i.tween._time===i.tween._dur){var o=i.t,l=o.style,h=i.u,c=o._gsap,g,b,x;if(h==="all"||h===!0)l.cssText="",b=1;else for(h=h.split(","),x=h.length;--x>-1;)g=h[x],pi[g]&&(b=1,g=g==="transformOrigin"?ur:an),ds(o,g);b&&(ds(o,an),c&&(c.svg&&o.removeAttribute("transform"),l.scale=l.rotate=l.translate="none",za(o,1),c.uncache=1,M_(l)))}},Ko={clearProps:function(e,i,o,l,h){if(h.data!=="isFromStart"){var c=e._pt=new or(e._pt,i,o,0,0,Vx);return c.u=l,c.pr=-10,c.tween=h,e._props.push(o),1}}},Da=[1,0,0,1,0,0],R_={},D_=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},od=function(e){var i=ti(e,an);return D_(i)?Da:i.substr(7).match(Ud).map(dn)},Ph=function(e,i){var o=e._gsap||ls(e),l=e.style,h=od(e),c,g,b,x;return o.svg&&e.getAttribute("transform")?(b=e.transform.baseVal.consolidate().matrix,h=[b.a,b.b,b.c,b.d,b.e,b.f],h.join(",")==="1,0,0,1,0,0"?Da:h):(h===Da&&!e.offsetParent&&e!==$s&&!o.svg&&(b=l.display,l.display="block",c=e.parentNode,(!c||!e.offsetParent&&!e.getBoundingClientRect().width)&&(x=1,g=e.nextElementSibling,$s.appendChild(e)),h=od(e),b?l.display=b:ds(e,"display"),x&&(g?c.insertBefore(e,g):c?c.appendChild(e):$s.removeChild(e))),i&&h.length>6?[h[0],h[1],h[4],h[5],h[12],h[13]]:h)},th=function(e,i,o,l,h,c){var g=e._gsap,b=h||Ph(e,!0),x=g.xOrigin||0,S=g.yOrigin||0,A=g.xOffset||0,k=g.yOffset||0,y=b[0],D=b[1],C=b[2],U=b[3],$=b[4],K=b[5],J=i.split(" "),ut=parseFloat(J[0])||0,ht=parseFloat(J[1])||0,dt,ft,gt,ot;o?b!==Da&&(ft=y*U-D*C)&&(gt=ut*(U/ft)+ht*(-C/ft)+(C*K-U*$)/ft,ot=ut*(-D/ft)+ht*(y/ft)-(y*K-D*$)/ft,ut=gt,ht=ot):(dt=k_(e),ut=dt.x+(~J[0].indexOf("%")?ut/100*dt.width:ut),ht=dt.y+(~(J[1]||J[0]).indexOf("%")?ht/100*dt.height:ht)),l||l!==!1&&g.smooth?($=ut-x,K=ht-S,g.xOffset=A+($*y+K*C)-$,g.yOffset=k+($*D+K*U)-K):g.xOffset=g.yOffset=0,g.xOrigin=ut,g.yOrigin=ht,g.smooth=!!l,g.origin=i,g.originIsAbsolute=!!o,e.style[ur]="0px 0px",c&&(Ni(c,g,"xOrigin",x,ut),Ni(c,g,"yOrigin",S,ht),Ni(c,g,"xOffset",A,g.xOffset),Ni(c,g,"yOffset",k,g.yOffset)),e.setAttribute("data-svg-origin",ut+" "+ht)},za=function(e,i){var o=e._gsap||new m_(e);if("x"in o&&!i&&!o.uncache)return o;var l=e.style,h=o.scaleX<0,c="px",g="deg",b=getComputedStyle(e),x=ti(e,ur)||"0",S,A,k,y,D,C,U,$,K,J,ut,ht,dt,ft,gt,ot,Mt,Et,Lt,Rt,Ct,Bt,pt,Vt,Ht,Ft,ae,he,Me,tn,me,oe;return S=A=k=C=U=$=K=J=ut=0,y=D=1,o.svg=!!(e.getCTM&&L_(e)),b.translate&&((b.translate!=="none"||b.scale!=="none"||b.rotate!=="none")&&(l[an]=(b.translate!=="none"?"translate3d("+(b.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(b.rotate!=="none"?"rotate("+b.rotate+") ":"")+(b.scale!=="none"?"scale("+b.scale.split(" ").join(",")+") ":"")+(b[an]!=="none"?b[an]:"")),l.scale=l.rotate=l.translate="none"),ft=Ph(e,o.svg),o.svg&&(o.uncache?(Ht=e.getBBox(),x=o.xOrigin-Ht.x+"px "+(o.yOrigin-Ht.y)+"px",Vt=""):Vt=!i&&e.getAttribute("data-svg-origin"),th(e,Vt||x,!!Vt||o.originIsAbsolute,o.smooth!==!1,ft)),ht=o.xOrigin||0,dt=o.yOrigin||0,ft!==Da&&(Et=ft[0],Lt=ft[1],Rt=ft[2],Ct=ft[3],S=Bt=ft[4],A=pt=ft[5],ft.length===6?(y=Math.sqrt(Et*Et+Lt*Lt),D=Math.sqrt(Ct*Ct+Rt*Rt),C=Et||Lt?Ms(Lt,Et)*is:0,K=Rt||Ct?Ms(Rt,Ct)*is+C:0,K&&(D*=Math.abs(Math.cos(K*Vs))),o.svg&&(S-=ht-(ht*Et+dt*Rt),A-=dt-(ht*Lt+dt*Ct))):(oe=ft[6],tn=ft[7],ae=ft[8],he=ft[9],Me=ft[10],me=ft[11],S=ft[12],A=ft[13],k=ft[14],gt=Ms(oe,Me),U=gt*is,gt&&(ot=Math.cos(-gt),Mt=Math.sin(-gt),Vt=Bt*ot+ae*Mt,Ht=pt*ot+he*Mt,Ft=oe*ot+Me*Mt,ae=Bt*-Mt+ae*ot,he=pt*-Mt+he*ot,Me=oe*-Mt+Me*ot,me=tn*-Mt+me*ot,Bt=Vt,pt=Ht,oe=Ft),gt=Ms(-Rt,Me),$=gt*is,gt&&(ot=Math.cos(-gt),Mt=Math.sin(-gt),Vt=Et*ot-ae*Mt,Ht=Lt*ot-he*Mt,Ft=Rt*ot-Me*Mt,me=Ct*Mt+me*ot,Et=Vt,Lt=Ht,Rt=Ft),gt=Ms(Lt,Et),C=gt*is,gt&&(ot=Math.cos(gt),Mt=Math.sin(gt),Vt=Et*ot+Lt*Mt,Ht=Bt*ot+pt*Mt,Lt=Lt*ot-Et*Mt,pt=pt*ot-Bt*Mt,Et=Vt,Bt=Ht),U&&Math.abs(U)+Math.abs(C)>359.9&&(U=C=0,$=180-$),y=dn(Math.sqrt(Et*Et+Lt*Lt+Rt*Rt)),D=dn(Math.sqrt(pt*pt+oe*oe)),gt=Ms(Bt,pt),K=Math.abs(gt)>2e-4?gt*is:0,ut=me?1/(me<0?-me:me):0),o.svg&&(Vt=e.getAttribute("transform"),o.forceCSS=e.setAttribute("transform","")||!D_(ti(e,an)),Vt&&e.setAttribute("transform",Vt))),Math.abs(K)>90&&Math.abs(K)<270&&(h?(y*=-1,K+=C<=0?180:-180,C+=C<=0?180:-180):(D*=-1,K+=K<=0?180:-180)),i=i||o.uncache,o.x=S-((o.xPercent=S&&(!i&&o.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-S)?-50:0)))?e.offsetWidth*o.xPercent/100:0)+c,o.y=A-((o.yPercent=A&&(!i&&o.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-A)?-50:0)))?e.offsetHeight*o.yPercent/100:0)+c,o.z=k+c,o.scaleX=dn(y),o.scaleY=dn(D),o.rotation=dn(C)+g,o.rotationX=dn(U)+g,o.rotationY=dn($)+g,o.skewX=K+g,o.skewY=J+g,o.transformPerspective=ut+c,(o.zOrigin=parseFloat(x.split(" ")[2])||!i&&o.zOrigin||0)&&(l[ur]=Jo(x)),o.xOffset=o.yOffset=0,o.force3D=Sr.force3D,o.renderTransform=o.svg?qx:E_?z_:Ux,o.uncache=0,o},Jo=function(e){return(e=e.split(" "))[0]+" "+e[1]},xl=function(e,i,o){var l=Vn(i);return dn(parseFloat(i)+parseFloat(Ui(e,"x",o+"px",l)))+l},Ux=function(e,i){i.z="0px",i.rotationY=i.rotationX="0deg",i.force3D=0,z_(e,i)},es="0deg",ga="0px",ns=") ",z_=function(e,i){var o=i||this,l=o.xPercent,h=o.yPercent,c=o.x,g=o.y,b=o.z,x=o.rotation,S=o.rotationY,A=o.rotationX,k=o.skewX,y=o.skewY,D=o.scaleX,C=o.scaleY,U=o.transformPerspective,$=o.force3D,K=o.target,J=o.zOrigin,ut="",ht=$==="auto"&&e&&e!==1||$===!0;if(J&&(A!==es||S!==es)){var dt=parseFloat(S)*Vs,ft=Math.sin(dt),gt=Math.cos(dt),ot;dt=parseFloat(A)*Vs,ot=Math.cos(dt),c=xl(K,c,ft*ot*-J),g=xl(K,g,-Math.sin(dt)*-J),b=xl(K,b,gt*ot*-J+J)}U!==ga&&(ut+="perspective("+U+ns),(l||h)&&(ut+="translate("+l+"%, "+h+"%) "),(ht||c!==ga||g!==ga||b!==ga)&&(ut+=b!==ga||ht?"translate3d("+c+", "+g+", "+b+") ":"translate("+c+", "+g+ns),x!==es&&(ut+="rotate("+x+ns),S!==es&&(ut+="rotateY("+S+ns),A!==es&&(ut+="rotateX("+A+ns),(k!==es||y!==es)&&(ut+="skew("+k+", "+y+ns),(D!==1||C!==1)&&(ut+="scale("+D+", "+C+ns),K.style[an]=ut||"translate(0, 0)"},qx=function(e,i){var o=i||this,l=o.xPercent,h=o.yPercent,c=o.x,g=o.y,b=o.rotation,x=o.skewX,S=o.skewY,A=o.scaleX,k=o.scaleY,y=o.target,D=o.xOrigin,C=o.yOrigin,U=o.xOffset,$=o.yOffset,K=o.forceCSS,J=parseFloat(c),ut=parseFloat(g),ht,dt,ft,gt,ot;b=parseFloat(b),x=parseFloat(x),S=parseFloat(S),S&&(S=parseFloat(S),x+=S,b+=S),b||x?(b*=Vs,x*=Vs,ht=Math.cos(b)*A,dt=Math.sin(b)*A,ft=Math.sin(b-x)*-k,gt=Math.cos(b-x)*k,x&&(S*=Vs,ot=Math.tan(x-S),ot=Math.sqrt(1+ot*ot),ft*=ot,gt*=ot,S&&(ot=Math.tan(S),ot=Math.sqrt(1+ot*ot),ht*=ot,dt*=ot)),ht=dn(ht),dt=dn(dt),ft=dn(ft),gt=dn(gt)):(ht=A,gt=k,dt=ft=0),(J&&!~(c+"").indexOf("px")||ut&&!~(g+"").indexOf("px"))&&(J=Ui(y,"x",c,"px"),ut=Ui(y,"y",g,"px")),(D||C||U||$)&&(J=dn(J+D-(D*ht+C*ft)+U),ut=dn(ut+C-(D*dt+C*gt)+$)),(l||h)&&(ot=y.getBBox(),J=dn(J+l/100*ot.width),ut=dn(ut+h/100*ot.height)),ot="matrix("+ht+","+dt+","+ft+","+gt+","+J+","+ut+")",y.setAttribute("transform",ot),K&&(y.style[an]=ot)},Wx=function(e,i,o,l,h){var c=360,g=Tn(h),b=parseFloat(h)*(g&&~h.indexOf("rad")?is:1),x=b-l,S=l+x+"deg",A,k;return g&&(A=h.split("_")[1],A==="short"&&(x%=c,x!==x%(c/2)&&(x+=x<0?c:-c)),A==="cw"&&x<0?x=(x+c*ed)%c-~~(x/c)*c:A==="ccw"&&x>0&&(x=(x-c*ed)%c-~~(x/c)*c)),e._pt=k=new or(e._pt,i,o,l,x,Px),k.e=S,k.u="deg",e._props.push(o),k},ud=function(e,i){for(var o in i)e[o]=i[o];return e},Yx=function(e,i,o){var l=ud({},o._gsap),h="perspective,force3D,transformOrigin,svgOrigin",c=o.style,g,b,x,S,A,k,y,D;l.svg?(x=o.getAttribute("transform"),o.setAttribute("transform",""),c[an]=i,g=za(o,1),ds(o,an),o.setAttribute("transform",x)):(x=getComputedStyle(o)[an],c[an]=i,g=za(o,1),c[an]=x);for(b in pi)x=l[b],S=g[b],x!==S&&h.indexOf(b)<0&&(y=Vn(x),D=Vn(S),A=y!==D?Ui(o,b,x,D):parseFloat(x),k=parseFloat(S),e._pt=new or(e._pt,g,b,A,k-A,Jl),e._pt.u=D||0,e._props.push(b));ud(g,l)};ar("padding,margin,Width,Radius",function(u,e){var i="Top",o="Right",l="Bottom",h="Left",c=(e<3?[i,o,l,h]:[i+h,i+o,l+o,l+h]).map(function(g){return e<2?u+g:"border"+g+u});Ko[e>1?"border"+u:u]=function(g,b,x,S,A){var k,y;if(arguments.length<4)return k=c.map(function(D){return di(g,D,x)}),y=k.join(" "),y.split(k[0]).length===5?k[0]:y;k=(S+"").split(" "),y={},c.forEach(function(D,C){return y[D]=k[C]=k[C]||k[(C-1)/2|0]}),g.init(b,y,A)}});var B_={name:"css",register:Ql,targetTest:function(e){return e.style&&e.nodeType},init:function(e,i,o,l,h){var c=this._props,g=e.style,b=o.vars.startAt,x,S,A,k,y,D,C,U,$,K,J,ut,ht,dt,ft,gt;Ch||Ql(),this.styles=this.styles||I_(e),gt=this.styles.props,this.tween=o;for(C in i)if(C!=="autoRound"&&(S=i[C],!(wr[C]&&y_(C,i,o,l,e,h)))){if(y=typeof S,D=Ko[C],y==="function"&&(S=S.call(o,l,e,h),y=typeof S),y==="string"&&~S.indexOf("random(")&&(S=ka(S)),D)D(this,e,C,S,o)&&(ft=1);else if(C.substr(0,2)==="--")x=(getComputedStyle(e).getPropertyValue(C)+"").trim(),S+="",$i.lastIndex=0,$i.test(x)||(U=Vn(x),$=Vn(S)),$?U!==$&&(x=Ui(e,C,x,$)+$):U&&(S+=U),this.add(g,"setProperty",x,S,l,h,0,0,C),c.push(C),gt.push(C,0,g[C]);else if(y!=="undefined"){if(b&&C in b?(x=typeof b[C]=="function"?b[C].call(o,l,e,h):b[C],Tn(x)&&~x.indexOf("random(")&&(x=ka(x)),Vn(x+"")||x==="auto"||(x+=Sr.units[C]||Vn(di(e,C))||""),(x+"").charAt(1)==="="&&(x=di(e,C))):x=di(e,C),k=parseFloat(x),K=y==="string"&&S.charAt(1)==="="&&S.substr(0,2),K&&(S=S.substr(2)),A=parseFloat(S),C in Qr&&(C==="autoAlpha"&&(k===1&&di(e,"visibility")==="hidden"&&A&&(k=0),gt.push("visibility",0,g.visibility),Ni(this,g,"visibility",k?"inherit":"hidden",A?"inherit":"hidden",!A)),C!=="scale"&&C!=="transform"&&(C=Qr[C],~C.indexOf(",")&&(C=C.split(",")[0]))),J=C in pi,J){if(this.styles.save(C),ut||(ht=e._gsap,ht.renderTransform&&!i.parseTransform||za(e,i.parseTransform),dt=i.smoothOrigin!==!1&&ht.smooth,ut=this._pt=new or(this._pt,g,an,0,1,ht.renderTransform,ht,0,-1),ut.dep=1),C==="scale")this._pt=new or(this._pt,ht,"scaleY",ht.scaleY,(K?Fs(ht.scaleY,K+A):A)-ht.scaleY||0,Jl),this._pt.u=0,c.push("scaleY",C),C+="X";else if(C==="transformOrigin"){gt.push(ur,0,g[ur]),S=$x(S),ht.svg?th(e,S,0,dt,0,this):($=parseFloat(S.split(" ")[2])||0,$!==ht.zOrigin&&Ni(this,ht,"zOrigin",ht.zOrigin,$),Ni(this,g,C,Jo(x),Jo(S)));continue}else if(C==="svgOrigin"){th(e,S,1,dt,0,this);continue}else if(C in R_){Wx(this,ht,C,k,K?Fs(k,K+S):S);continue}else if(C==="smoothOrigin"){Ni(this,ht,"smooth",ht.smooth,S);continue}else if(C==="force3D"){ht[C]=S;continue}else if(C==="transform"){Yx(this,S,e);continue}}else C in g||(C=Zs(C)||C);if(J||(A||A===0)&&(k||k===0)&&!Ax.test(S)&&C in g)U=(x+"").substr((k+"").length),A||(A=0),$=Vn(S)||(C in Sr.units?Sr.units[C]:U),U!==$&&(k=Ui(e,C,x,$)),this._pt=new or(this._pt,J?ht:g,C,k,(K?Fs(k,K+A):A)-k,!J&&($==="px"||C==="zIndex")&&i.autoRound!==!1?Mx:Jl),this._pt.u=$||0,U!==$&&$!=="%"&&(this._pt.b=x,this._pt.r=Ox);else if(C in g)Fx.call(this,e,C,x,K?K+S:S);else if(C in e)this.add(e,C,x||e[C],K?K+S:S,l,h);else if(C!=="parseTransform"){gh(C,S);continue}J||(C in g?gt.push(C,0,g[C]):typeof e[C]=="function"?gt.push(C,2,e[C]()):gt.push(C,1,x||e[C])),c.push(C)}}ft&&T_(this)},render:function(e,i){if(i.tween._time||!Th())for(var o=i._pt;o;)o.r(e,o.d),o=o._next;else i.styles.revert()},get:di,aliases:Qr,getSetter:function(e,i,o){var l=Qr[i];return l&&l.indexOf(",")<0&&(i=l),i in pi&&i!==ur&&(e._gsap.x||di(e,"x"))?o&&td===o?i==="scale"?Lx:kx:(td=o||{})&&(i==="scale"?Rx:Dx):e.style&&!ch(e.style[i])?Ix:~i.indexOf("-")?Ex:bh(e,i)},core:{_removeProperty:ds,_getMatrix:Ph}};lr.utils.checkPrefix=Zs;lr.core.getStyleSaver=I_;(function(u,e,i,o){var l=ar(u+","+e+","+i,function(h){pi[h]=1});ar(e,function(h){Sr.units[h]="deg",R_[h]=1}),Qr[l[13]]=u+","+e,ar(o,function(h){var c=h.split(":");Qr[c[1]]=l[c[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ar("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(u){Sr.units[u]="px"});lr.registerPlugin(B_);var xa=lr.registerPlugin(B_)||lr;xa.core.Tween;const gi=11102230246251565e-32,Fn=134217729,Hx=(3+8*gi)*gi;function bl(u,e,i,o,l){let h,c,g,b,x=e[0],S=o[0],A=0,k=0;S>x==S>-x?(h=x,x=e[++A]):(h=S,S=o[++k]);let y=0;if(A<u&&k<i)for(S>x==S>-x?(c=x+h,g=h-(c-x),x=e[++A]):(c=S+h,g=h-(c-S),S=o[++k]),h=c,g!==0&&(l[y++]=g);A<u&&k<i;)S>x==S>-x?(c=h+x,b=c-h,g=h-(c-b)+(x-b),x=e[++A]):(c=h+S,b=c-h,g=h-(c-b)+(S-b),S=o[++k]),h=c,g!==0&&(l[y++]=g);for(;A<u;)c=h+x,b=c-h,g=h-(c-b)+(x-b),x=e[++A],h=c,g!==0&&(l[y++]=g);for(;k<i;)c=h+S,b=c-h,g=h-(c-b)+(S-b),S=o[++k],h=c,g!==0&&(l[y++]=g);return(h!==0||y===0)&&(l[y++]=h),y}function Xx(u,e){let i=e[0];for(let o=1;o<u;o++)i+=e[o];return i}function Fa(u){return new Float64Array(u)}const Gx=(3+16*gi)*gi,Zx=(2+12*gi)*gi,Kx=(9+64*gi)*gi*gi,Is=Fa(4),ld=Fa(8),hd=Fa(12),fd=Fa(16),Gn=Fa(4);function Jx(u,e,i,o,l,h,c){let g,b,x,S,A,k,y,D,C,U,$,K,J,ut,ht,dt,ft,gt;const ot=u-l,Mt=i-l,Et=e-h,Lt=o-h;ut=ot*Lt,k=Fn*ot,y=k-(k-ot),D=ot-y,k=Fn*Lt,C=k-(k-Lt),U=Lt-C,ht=D*U-(ut-y*C-D*C-y*U),dt=Et*Mt,k=Fn*Et,y=k-(k-Et),D=Et-y,k=Fn*Mt,C=k-(k-Mt),U=Mt-C,ft=D*U-(dt-y*C-D*C-y*U),$=ht-ft,A=ht-$,Is[0]=ht-($+A)+(A-ft),K=ut+$,A=K-ut,J=ut-(K-A)+($-A),$=J-dt,A=J-$,Is[1]=J-($+A)+(A-dt),gt=K+$,A=gt-K,Is[2]=K-(gt-A)+($-A),Is[3]=gt;let Rt=Xx(4,Is),Ct=Zx*c;if(Rt>=Ct||-Rt>=Ct||(A=u-ot,g=u-(ot+A)+(A-l),A=i-Mt,x=i-(Mt+A)+(A-l),A=e-Et,b=e-(Et+A)+(A-h),A=o-Lt,S=o-(Lt+A)+(A-h),g===0&&b===0&&x===0&&S===0)||(Ct=Kx*c+Hx*Math.abs(Rt),Rt+=ot*S+Lt*g-(Et*x+Mt*b),Rt>=Ct||-Rt>=Ct))return Rt;ut=g*Lt,k=Fn*g,y=k-(k-g),D=g-y,k=Fn*Lt,C=k-(k-Lt),U=Lt-C,ht=D*U-(ut-y*C-D*C-y*U),dt=b*Mt,k=Fn*b,y=k-(k-b),D=b-y,k=Fn*Mt,C=k-(k-Mt),U=Mt-C,ft=D*U-(dt-y*C-D*C-y*U),$=ht-ft,A=ht-$,Gn[0]=ht-($+A)+(A-ft),K=ut+$,A=K-ut,J=ut-(K-A)+($-A),$=J-dt,A=J-$,Gn[1]=J-($+A)+(A-dt),gt=K+$,A=gt-K,Gn[2]=K-(gt-A)+($-A),Gn[3]=gt;const Bt=bl(4,Is,4,Gn,ld);ut=ot*S,k=Fn*ot,y=k-(k-ot),D=ot-y,k=Fn*S,C=k-(k-S),U=S-C,ht=D*U-(ut-y*C-D*C-y*U),dt=Et*x,k=Fn*Et,y=k-(k-Et),D=Et-y,k=Fn*x,C=k-(k-x),U=x-C,ft=D*U-(dt-y*C-D*C-y*U),$=ht-ft,A=ht-$,Gn[0]=ht-($+A)+(A-ft),K=ut+$,A=K-ut,J=ut-(K-A)+($-A),$=J-dt,A=J-$,Gn[1]=J-($+A)+(A-dt),gt=K+$,A=gt-K,Gn[2]=K-(gt-A)+($-A),Gn[3]=gt;const pt=bl(Bt,ld,4,Gn,hd);ut=g*S,k=Fn*g,y=k-(k-g),D=g-y,k=Fn*S,C=k-(k-S),U=S-C,ht=D*U-(ut-y*C-D*C-y*U),dt=b*x,k=Fn*b,y=k-(k-b),D=b-y,k=Fn*x,C=k-(k-x),U=x-C,ft=D*U-(dt-y*C-D*C-y*U),$=ht-ft,A=ht-$,Gn[0]=ht-($+A)+(A-ft),K=ut+$,A=K-ut,J=ut-(K-A)+($-A),$=J-dt,A=J-$,Gn[1]=J-($+A)+(A-dt),gt=K+$,A=gt-K,Gn[2]=K-(gt-A)+($-A),Gn[3]=gt;const Vt=bl(pt,hd,4,Gn,fd);return fd[Vt-1]}function Eo(u,e,i,o,l,h){const c=(e-h)*(i-l),g=(u-l)*(o-h),b=c-g,x=Math.abs(c+g);return Math.abs(b)>=Gx*x?b:-Jx(u,e,i,o,l,h,x)}const cd=Math.pow(2,-52),ko=new Uint32Array(512);class jo{static from(e,i=nb,o=rb){const l=e.length,h=new Float64Array(l*2);for(let c=0;c<l;c++){const g=e[c];h[2*c]=i(g),h[2*c+1]=o(g)}return new jo(h)}constructor(e){const i=e.length>>1;if(i>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const o=Math.max(2*i-5,0);this._triangles=new Uint32Array(o*3),this._halfedges=new Int32Array(o*3),this._hashSize=Math.ceil(Math.sqrt(i)),this._hullPrev=new Uint32Array(i),this._hullNext=new Uint32Array(i),this._hullTri=new Uint32Array(i),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(i),this._dists=new Float64Array(i),this.update()}update(){const{coords:e,_hullPrev:i,_hullNext:o,_hullTri:l,_hullHash:h}=this,c=e.length>>1;let g=1/0,b=1/0,x=-1/0,S=-1/0;for(let ot=0;ot<c;ot++){const Mt=e[2*ot],Et=e[2*ot+1];Mt<g&&(g=Mt),Et<b&&(b=Et),Mt>x&&(x=Mt),Et>S&&(S=Et),this._ids[ot]=ot}const A=(g+x)/2,k=(b+S)/2;let y,D,C;for(let ot=0,Mt=1/0;ot<c;ot++){const Et=Sl(A,k,e[2*ot],e[2*ot+1]);Et<Mt&&(y=ot,Mt=Et)}const U=e[2*y],$=e[2*y+1];for(let ot=0,Mt=1/0;ot<c;ot++){if(ot===y)continue;const Et=Sl(U,$,e[2*ot],e[2*ot+1]);Et<Mt&&Et>0&&(D=ot,Mt=Et)}let K=e[2*D],J=e[2*D+1],ut=1/0;for(let ot=0;ot<c;ot++){if(ot===y||ot===D)continue;const Mt=tb(U,$,K,J,e[2*ot],e[2*ot+1]);Mt<ut&&(C=ot,ut=Mt)}let ht=e[2*C],dt=e[2*C+1];if(ut===1/0){for(let Et=0;Et<c;Et++)this._dists[Et]=e[2*Et]-e[0]||e[2*Et+1]-e[1];Bs(this._ids,this._dists,0,c-1);const ot=new Uint32Array(c);let Mt=0;for(let Et=0,Lt=-1/0;Et<c;Et++){const Rt=this._ids[Et],Ct=this._dists[Rt];Ct>Lt&&(ot[Mt++]=Rt,Lt=Ct)}this.hull=ot.subarray(0,Mt),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Eo(U,$,K,J,ht,dt)<0){const ot=D,Mt=K,Et=J;D=C,K=ht,J=dt,C=ot,ht=Mt,dt=Et}const ft=eb(U,$,K,J,ht,dt);this._cx=ft.x,this._cy=ft.y;for(let ot=0;ot<c;ot++)this._dists[ot]=Sl(e[2*ot],e[2*ot+1],ft.x,ft.y);Bs(this._ids,this._dists,0,c-1),this._hullStart=y;let gt=3;o[y]=i[C]=D,o[D]=i[y]=C,o[C]=i[D]=y,l[y]=0,l[D]=1,l[C]=2,h.fill(-1),h[this._hashKey(U,$)]=y,h[this._hashKey(K,J)]=D,h[this._hashKey(ht,dt)]=C,this.trianglesLen=0,this._addTriangle(y,D,C,-1,-1,-1);for(let ot=0,Mt,Et;ot<this._ids.length;ot++){const Lt=this._ids[ot],Rt=e[2*Lt],Ct=e[2*Lt+1];if(ot>0&&Math.abs(Rt-Mt)<=cd&&Math.abs(Ct-Et)<=cd||(Mt=Rt,Et=Ct,Lt===y||Lt===D||Lt===C))continue;let Bt=0;for(let ae=0,he=this._hashKey(Rt,Ct);ae<this._hashSize&&(Bt=h[(he+ae)%this._hashSize],!(Bt!==-1&&Bt!==o[Bt]));ae++);Bt=i[Bt];let pt=Bt,Vt;for(;Vt=o[pt],Eo(Rt,Ct,e[2*pt],e[2*pt+1],e[2*Vt],e[2*Vt+1])>=0;)if(pt=Vt,pt===Bt){pt=-1;break}if(pt===-1)continue;let Ht=this._addTriangle(pt,Lt,o[pt],-1,-1,l[pt]);l[Lt]=this._legalize(Ht+2),l[pt]=Ht,gt++;let Ft=o[pt];for(;Vt=o[Ft],Eo(Rt,Ct,e[2*Ft],e[2*Ft+1],e[2*Vt],e[2*Vt+1])<0;)Ht=this._addTriangle(Ft,Lt,Vt,l[Lt],-1,l[Ft]),l[Lt]=this._legalize(Ht+2),o[Ft]=Ft,gt--,Ft=Vt;if(pt===Bt)for(;Vt=i[pt],Eo(Rt,Ct,e[2*Vt],e[2*Vt+1],e[2*pt],e[2*pt+1])<0;)Ht=this._addTriangle(Vt,Lt,pt,-1,l[pt],l[Vt]),this._legalize(Ht+2),l[Vt]=Ht,o[pt]=pt,gt--,pt=Vt;this._hullStart=i[Lt]=pt,o[pt]=i[Ft]=Lt,o[Lt]=Ft,h[this._hashKey(Rt,Ct)]=Lt,h[this._hashKey(e[2*pt],e[2*pt+1])]=pt}this.hull=new Uint32Array(gt);for(let ot=0,Mt=this._hullStart;ot<gt;ot++)this.hull[ot]=Mt,Mt=o[Mt];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,i){return Math.floor(jx(e-this._cx,i-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:i,_halfedges:o,coords:l}=this;let h=0,c=0;for(;;){const g=o[e],b=e-e%3;if(c=b+(e+2)%3,g===-1){if(h===0)break;e=ko[--h];continue}const x=g-g%3,S=b+(e+1)%3,A=x+(g+2)%3,k=i[c],y=i[e],D=i[S],C=i[A];if(Qx(l[2*k],l[2*k+1],l[2*y],l[2*y+1],l[2*D],l[2*D+1],l[2*C],l[2*C+1])){i[e]=C,i[g]=k;const $=o[A];if($===-1){let J=this._hullStart;do{if(this._hullTri[J]===A){this._hullTri[J]=e;break}J=this._hullPrev[J]}while(J!==this._hullStart)}this._link(e,$),this._link(g,o[c]),this._link(c,A);const K=x+(g+1)%3;h<ko.length&&(ko[h++]=K)}else{if(h===0)break;e=ko[--h]}}return c}_link(e,i){this._halfedges[e]=i,i!==-1&&(this._halfedges[i]=e)}_addTriangle(e,i,o,l,h,c){const g=this.trianglesLen;return this._triangles[g]=e,this._triangles[g+1]=i,this._triangles[g+2]=o,this._link(g,l),this._link(g+1,h),this._link(g+2,c),this.trianglesLen+=3,g}}function jx(u,e){const i=u/(Math.abs(u)+Math.abs(e));return(e>0?3-i:1+i)/4}function Sl(u,e,i,o){const l=u-i,h=e-o;return l*l+h*h}function Qx(u,e,i,o,l,h,c,g){const b=u-c,x=e-g,S=i-c,A=o-g,k=l-c,y=h-g,D=b*b+x*x,C=S*S+A*A,U=k*k+y*y;return b*(A*U-C*y)-x*(S*U-C*k)+D*(S*y-A*k)<0}function tb(u,e,i,o,l,h){const c=i-u,g=o-e,b=l-u,x=h-e,S=c*c+g*g,A=b*b+x*x,k=.5/(c*x-g*b),y=(x*S-g*A)*k,D=(c*A-b*S)*k;return y*y+D*D}function eb(u,e,i,o,l,h){const c=i-u,g=o-e,b=l-u,x=h-e,S=c*c+g*g,A=b*b+x*x,k=.5/(c*x-g*b),y=u+(x*S-g*A)*k,D=e+(c*A-b*S)*k;return{x:y,y:D}}function Bs(u,e,i,o){if(o-i<=20)for(let l=i+1;l<=o;l++){const h=u[l],c=e[h];let g=l-1;for(;g>=i&&e[u[g]]>c;)u[g+1]=u[g--];u[g+1]=h}else{const l=i+o>>1;let h=i+1,c=o;va(u,l,h),e[u[i]]>e[u[o]]&&va(u,i,o),e[u[h]]>e[u[o]]&&va(u,h,o),e[u[i]]>e[u[h]]&&va(u,i,h);const g=u[h],b=e[g];for(;;){do h++;while(e[u[h]]<b);do c--;while(e[u[c]]>b);if(c<h)break;va(u,h,c)}u[i+1]=u[c],u[c]=g,o-h+1>=c-i?(Bs(u,e,h,o),Bs(u,e,i,c-1)):(Bs(u,e,i,c-1),Bs(u,e,h,o))}}function va(u,e,i){const o=u[e];u[e]=u[i],u[i]=o}function nb(u){return u[0]}function rb(u){return u[1]}const dd=1e-6;let os=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,i){this._+=`L${this._x1=+e},${this._y1=+i}`}arc(e,i,o){e=+e,i=+i,o=+o;const l=e+o,h=i;if(o<0)throw new Error("negative radius");this._x1===null?this._+=`M${l},${h}`:(Math.abs(this._x1-l)>dd||Math.abs(this._y1-h)>dd)&&(this._+="L"+l+","+h),o&&(this._+=`A${o},${o},0,1,1,${e-o},${i}A${o},${o},0,1,1,${this._x1=l},${this._y1=h}`)}rect(e,i,o,l){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}h${+o}v${+l}h${-o}Z`}value(){return this._||null}};class eh{constructor(){this._=[]}moveTo(e,i){this._.push([e,i])}closePath(){this._.push(this._[0].slice())}lineTo(e,i){this._.push([e,i])}value(){return this._.length?this._:null}}class ib{constructor(e,[i,o,l,h]=[0,0,960,500]){if(!((l=+l)>=(i=+i))||!((h=+h)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=l,this.xmin=i,this.ymax=h,this.ymin=o,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:i,triangles:o},vectors:l}=this;let h,c;const g=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2);for(let C=0,U=0,$=o.length,K,J;C<$;C+=3,U+=2){const ut=o[C]*2,ht=o[C+1]*2,dt=o[C+2]*2,ft=e[ut],gt=e[ut+1],ot=e[ht],Mt=e[ht+1],Et=e[dt],Lt=e[dt+1],Rt=ot-ft,Ct=Mt-gt,Bt=Et-ft,pt=Lt-gt,Vt=(Rt*pt-Ct*Bt)*2;if(Math.abs(Vt)<1e-9){if(h===void 0){h=c=0;for(const Ft of i)h+=e[Ft*2],c+=e[Ft*2+1];h/=i.length,c/=i.length}const Ht=1e9*Math.sign((h-ft)*pt-(c-gt)*Bt);K=(ft+Et)/2-Ht*pt,J=(gt+Lt)/2+Ht*Bt}else{const Ht=1/Vt,Ft=Rt*Rt+Ct*Ct,ae=Bt*Bt+pt*pt;K=ft+(pt*Ft-Ct*ae)*Ht,J=gt+(Rt*ae-Bt*Ft)*Ht}g[U]=K,g[U+1]=J}let b=i[i.length-1],x,S=b*4,A,k=e[2*b],y,D=e[2*b+1];l.fill(0);for(let C=0;C<i.length;++C)b=i[C],x=S,A=k,y=D,S=b*4,k=e[2*b],D=e[2*b+1],l[x+2]=l[S]=y-D,l[x+3]=l[S+1]=k-A}render(e){const i=e==null?e=new os:void 0,{delaunay:{halfedges:o,inedges:l,hull:h},circumcenters:c,vectors:g}=this;if(h.length<=1)return null;for(let S=0,A=o.length;S<A;++S){const k=o[S];if(k<S)continue;const y=Math.floor(S/3)*2,D=Math.floor(k/3)*2,C=c[y],U=c[y+1],$=c[D],K=c[D+1];this._renderSegment(C,U,$,K,e)}let b,x=h[h.length-1];for(let S=0;S<h.length;++S){b=x,x=h[S];const A=Math.floor(l[x]/3)*2,k=c[A],y=c[A+1],D=b*4,C=this._project(k,y,g[D+2],g[D+3]);C&&this._renderSegment(k,y,C[0],C[1],e)}return i&&i.value()}renderBounds(e){const i=e==null?e=new os:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),i&&i.value()}renderCell(e,i){const o=i==null?i=new os:void 0,l=this._clip(e);if(l===null||!l.length)return;i.moveTo(l[0],l[1]);let h=l.length;for(;l[0]===l[h-2]&&l[1]===l[h-1]&&h>1;)h-=2;for(let c=2;c<h;c+=2)(l[c]!==l[c-2]||l[c+1]!==l[c-1])&&i.lineTo(l[c],l[c+1]);return i.closePath(),o&&o.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let i=0,o=e.length/2;i<o;++i){const l=this.cellPolygon(i);l&&(l.index=i,yield l)}}cellPolygon(e){const i=new eh;return this.renderCell(e,i),i.value()}_renderSegment(e,i,o,l,h){let c;const g=this._regioncode(e,i),b=this._regioncode(o,l);g===0&&b===0?(h.moveTo(e,i),h.lineTo(o,l)):(c=this._clipSegment(e,i,o,l,g,b))&&(h.moveTo(c[0],c[1]),h.lineTo(c[2],c[3]))}contains(e,i,o){return i=+i,i!==i||(o=+o,o!==o)?!1:this.delaunay._step(e,i,o)===e}*neighbors(e){const i=this._clip(e);if(i)for(const o of this.delaunay.neighbors(e)){const l=this._clip(o);if(l){t:for(let h=0,c=i.length;h<c;h+=2)for(let g=0,b=l.length;g<b;g+=2)if(i[h]===l[g]&&i[h+1]===l[g+1]&&i[(h+2)%c]===l[(g+b-2)%b]&&i[(h+3)%c]===l[(g+b-1)%b]){yield o;break t}}}}_cell(e){const{circumcenters:i,delaunay:{inedges:o,halfedges:l,triangles:h}}=this,c=o[e];if(c===-1)return null;const g=[];let b=c;do{const x=Math.floor(b/3);if(g.push(i[x*2],i[x*2+1]),b=b%3===2?b-2:b+1,h[b]!==e)break;b=l[b]}while(b!==c&&b!==-1);return g}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const i=this._cell(e);if(i===null)return null;const{vectors:o}=this,l=e*4;return this._simplify(o[l]||o[l+1]?this._clipInfinite(e,i,o[l],o[l+1],o[l+2],o[l+3]):this._clipFinite(e,i))}_clipFinite(e,i){const o=i.length;let l=null,h,c,g=i[o-2],b=i[o-1],x,S=this._regioncode(g,b),A,k=0;for(let y=0;y<o;y+=2)if(h=g,c=b,g=i[y],b=i[y+1],x=S,S=this._regioncode(g,b),x===0&&S===0)A=k,k=0,l?l.push(g,b):l=[g,b];else{let D,C,U,$,K;if(x===0){if((D=this._clipSegment(h,c,g,b,x,S))===null)continue;[C,U,$,K]=D}else{if((D=this._clipSegment(g,b,h,c,S,x))===null)continue;[$,K,C,U]=D,A=k,k=this._edgecode(C,U),A&&k&&this._edge(e,A,k,l,l.length),l?l.push(C,U):l=[C,U]}A=k,k=this._edgecode($,K),A&&k&&this._edge(e,A,k,l,l.length),l?l.push($,K):l=[$,K]}if(l)A=k,k=this._edgecode(l[0],l[1]),A&&k&&this._edge(e,A,k,l,l.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(e,i,o,l,h,c){const g=h<c;for(g&&([e,i,o,l,h,c]=[o,l,e,i,c,h]);;){if(h===0&&c===0)return g?[o,l,e,i]:[e,i,o,l];if(h&c)return null;let b,x,S=h||c;S&8?(b=e+(o-e)*(this.ymax-i)/(l-i),x=this.ymax):S&4?(b=e+(o-e)*(this.ymin-i)/(l-i),x=this.ymin):S&2?(x=i+(l-i)*(this.xmax-e)/(o-e),b=this.xmax):(x=i+(l-i)*(this.xmin-e)/(o-e),b=this.xmin),h?(e=b,i=x,h=this._regioncode(e,i)):(o=b,l=x,c=this._regioncode(o,l))}}_clipInfinite(e,i,o,l,h,c){let g=Array.from(i),b;if((b=this._project(g[0],g[1],o,l))&&g.unshift(b[0],b[1]),(b=this._project(g[g.length-2],g[g.length-1],h,c))&&g.push(b[0],b[1]),g=this._clipFinite(e,g))for(let x=0,S=g.length,A,k=this._edgecode(g[S-2],g[S-1]);x<S;x+=2)A=k,k=this._edgecode(g[x],g[x+1]),A&&k&&(x=this._edge(e,A,k,g,x),S=g.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(g=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return g}_edge(e,i,o,l,h){for(;i!==o;){let c,g;switch(i){case 5:i=4;continue;case 4:i=6,c=this.xmax,g=this.ymin;break;case 6:i=2;continue;case 2:i=10,c=this.xmax,g=this.ymax;break;case 10:i=8;continue;case 8:i=9,c=this.xmin,g=this.ymax;break;case 9:i=1;continue;case 1:i=5,c=this.xmin,g=this.ymin;break}(l[h]!==c||l[h+1]!==g)&&this.contains(e,c,g)&&(l.splice(h,0,c,g),h+=2)}return h}_project(e,i,o,l){let h=1/0,c,g,b;if(l<0){if(i<=this.ymin)return null;(c=(this.ymin-i)/l)<h&&(b=this.ymin,g=e+(h=c)*o)}else if(l>0){if(i>=this.ymax)return null;(c=(this.ymax-i)/l)<h&&(b=this.ymax,g=e+(h=c)*o)}if(o>0){if(e>=this.xmax)return null;(c=(this.xmax-e)/o)<h&&(g=this.xmax,b=i+(h=c)*l)}else if(o<0){if(e<=this.xmin)return null;(c=(this.xmin-e)/o)<h&&(g=this.xmin,b=i+(h=c)*l)}return[g,b]}_edgecode(e,i){return(e===this.xmin?1:e===this.xmax?2:0)|(i===this.ymin?4:i===this.ymax?8:0)}_regioncode(e,i){return(e<this.xmin?1:e>this.xmax?2:0)|(i<this.ymin?4:i>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let i=0;i<e.length;i+=2){const o=(i+2)%e.length,l=(i+4)%e.length;(e[i]===e[o]&&e[o]===e[l]||e[i+1]===e[o+1]&&e[o+1]===e[l+1])&&(e.splice(o,2),i-=2)}e.length||(e=null)}return e}}const sb=2*Math.PI,Es=Math.pow;function ab(u){return u[0]}function ob(u){return u[1]}function ub(u){const{triangles:e,coords:i}=u;for(let o=0;o<e.length;o+=3){const l=2*e[o],h=2*e[o+1],c=2*e[o+2];if((i[c]-i[l])*(i[h+1]-i[l+1])-(i[h]-i[l])*(i[c+1]-i[l+1])>1e-10)return!1}return!0}function lb(u,e,i){return[u+Math.sin(u+e)*i,e+Math.cos(u-e)*i]}class Oh{static from(e,i=ab,o=ob,l){return new Oh("length"in e?hb(e,i,o,l):Float64Array.from(fb(e,i,o,l)))}constructor(e){this._delaunator=new jo(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,i=this.points;if(e.hull&&e.hull.length>2&&ub(e)){this.collinear=Int32Array.from({length:i.length/2},(k,y)=>y).sort((k,y)=>i[2*k]-i[2*y]||i[2*k+1]-i[2*y+1]);const b=this.collinear[0],x=this.collinear[this.collinear.length-1],S=[i[2*b],i[2*b+1],i[2*x],i[2*x+1]],A=1e-8*Math.hypot(S[3]-S[1],S[2]-S[0]);for(let k=0,y=i.length/2;k<y;++k){const D=lb(i[2*k],i[2*k+1],A);i[2*k]=D[0],i[2*k+1]=D[1]}this._delaunator=new jo(i)}else delete this.collinear;const o=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,h=this.triangles=this._delaunator.triangles,c=this.inedges.fill(-1),g=this._hullIndex.fill(-1);for(let b=0,x=o.length;b<x;++b){const S=h[b%3===2?b-2:b+1];(o[b]===-1||c[S]===-1)&&(c[S]=b)}for(let b=0,x=l.length;b<x;++b)g[l[b]]=b;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],c[l[0]]=1,l.length===2&&(c[l[1]]=0,this.triangles[1]=l[1],this.triangles[2]=l[1]))}voronoi(e){return new ib(this,e)}*neighbors(e){const{inedges:i,hull:o,_hullIndex:l,halfedges:h,triangles:c,collinear:g}=this;if(g){const A=g.indexOf(e);A>0&&(yield g[A-1]),A<g.length-1&&(yield g[A+1]);return}const b=i[e];if(b===-1)return;let x=b,S=-1;do{if(yield S=c[x],x=x%3===2?x-2:x+1,c[x]!==e)return;if(x=h[x],x===-1){const A=o[(l[e]+1)%o.length];A!==S&&(yield A);return}}while(x!==b)}find(e,i,o=0){if(e=+e,e!==e||(i=+i,i!==i))return-1;const l=o;let h;for(;(h=this._step(o,e,i))>=0&&h!==o&&h!==l;)o=h;return h}_step(e,i,o){const{inedges:l,hull:h,_hullIndex:c,halfedges:g,triangles:b,points:x}=this;if(l[e]===-1||!x.length)return(e+1)%(x.length>>1);let S=e,A=Es(i-x[e*2],2)+Es(o-x[e*2+1],2);const k=l[e];let y=k;do{let D=b[y];const C=Es(i-x[D*2],2)+Es(o-x[D*2+1],2);if(C<A&&(A=C,S=D),y=y%3===2?y-2:y+1,b[y]!==e)break;if(y=g[y],y===-1){if(y=h[(c[e]+1)%h.length],y!==D&&Es(i-x[y*2],2)+Es(o-x[y*2+1],2)<A)return y;break}}while(y!==k);return S}render(e){const i=e==null?e=new os:void 0,{points:o,halfedges:l,triangles:h}=this;for(let c=0,g=l.length;c<g;++c){const b=l[c];if(b<c)continue;const x=h[c]*2,S=h[b]*2;e.moveTo(o[x],o[x+1]),e.lineTo(o[S],o[S+1])}return this.renderHull(e),i&&i.value()}renderPoints(e,i){i===void 0&&(!e||typeof e.moveTo!="function")&&(i=e,e=null),i=i==null?2:+i;const o=e==null?e=new os:void 0,{points:l}=this;for(let h=0,c=l.length;h<c;h+=2){const g=l[h],b=l[h+1];e.moveTo(g+i,b),e.arc(g,b,i,0,sb)}return o&&o.value()}renderHull(e){const i=e==null?e=new os:void 0,{hull:o,points:l}=this,h=o[0]*2,c=o.length;e.moveTo(l[h],l[h+1]);for(let g=1;g<c;++g){const b=2*o[g];e.lineTo(l[b],l[b+1])}return e.closePath(),i&&i.value()}hullPolygon(){const e=new eh;return this.renderHull(e),e.value()}renderTriangle(e,i){const o=i==null?i=new os:void 0,{points:l,triangles:h}=this,c=h[e*=3]*2,g=h[e+1]*2,b=h[e+2]*2;return i.moveTo(l[c],l[c+1]),i.lineTo(l[g],l[g+1]),i.lineTo(l[b],l[b+1]),i.closePath(),o&&o.value()}*trianglePolygons(){const{triangles:e}=this;for(let i=0,o=e.length/3;i<o;++i)yield this.trianglePolygon(i)}trianglePolygon(e){const i=new eh;return this.renderTriangle(e,i),i.value()}}function hb(u,e,i,o){const l=u.length,h=new Float64Array(l*2);for(let c=0;c<l;++c){const g=u[c];h[c*2]=e.call(o,g,c,u),h[c*2+1]=i.call(o,g,c,u)}return h}function*fb(u,e,i,o){let l=0;for(const h of u)yield e.call(o,h,l,u),yield i.call(o,h,l,u),++l}function ba(u,e,i){this.k=u,this.x=e,this.y=i}ba.prototype={constructor:ba,scale:function(u){return u===1?this:new ba(this.k*u,this.x,this.y)},translate:function(u,e){return u===0&e===0?this:new ba(this.k,this.x+this.k*u,this.y+this.k*e)},apply:function(u){return[u[0]*this.k+this.x,u[1]*this.k+this.y]},applyX:function(u){return u*this.k+this.x},applyY:function(u){return u*this.k+this.y},invert:function(u){return[(u[0]-this.x)/this.k,(u[1]-this.y)/this.k]},invertX:function(u){return(u-this.x)/this.k},invertY:function(u){return(u-this.y)/this.k},rescaleX:function(u){return u.copy().domain(u.range().map(this.invertX,this).map(u.invert,u))},rescaleY:function(u){return u.copy().domain(u.range().map(this.invertY,this).map(u.invert,u))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ba.prototype;var Cn=(u=>(u[u.MMMain=0]="MMMain",u[u.MMMiniMap=1]="MMMiniMap",u[u.SSLeft=2]="SSLeft",u[u.SSRight=3]="SSRight",u[u.LMain=4]="LMain",u[u.LLens=5]="LLens",u[u.Preview=6]="Preview",u))(Cn||{}),nh=(u=>(u[u.Bubble=0]="Bubble",u[u.Cursor=1]="Cursor",u))(nh||{});function cb(u){return u===2||u===3}function ks(u){return u===0||cb(u)||u===6}function db(u){return u===1||u===5}function Ls(u){return u?.type==="MM"}function _d(u){return u?.type==="SS"}function pa(u){return u?.type==="L"}const _b=yt.createContext();function gb(){return yt.useContext(_b)}class vb{keyToValue;valueToKey;constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,i){if(this.keyToValue.has(e)){const o=this.keyToValue.get(e);o!==void 0&&this.valueToKey.delete(o)}if(this.valueToKey.has(i)){const o=this.valueToKey.get(i);o!==void 0&&this.keyToValue.delete(o)}this.keyToValue.set(e,i),this.valueToKey.set(i,e)}getValue(e){return this.keyToValue.get(e)}getValues(){return Array.from(this.keyToValue.values())}getKey(e){return this.valueToKey.get(e)}getKeys(){return Array.from(this.keyToValue.keys())}deleteByKey(e){const i=this.keyToValue.get(e);i!==void 0&&(this.keyToValue.delete(e),this.valueToKey.delete(i))}deleteByValue(e){const i=this.valueToKey.get(e);i!==void 0&&(this.valueToKey.delete(e),this.keyToValue.delete(i))}}var pb=G.template("<svg><polygon stroke=black stroke-width=0></svg>",!1,!0),mb=G.template("<svg><rect fill=transparent></svg>",!1,!0),yb=G.template("<svg><defs><clipPath><circle></svg>",!1,!0),wb=G.template("<svg><g><circle fill=white></circle><circle stroke=black fill=transparent></svg>",!1,!0),xb=G.template("<svg>"),bb=G.template("<svg><circle r=3 fill=red></svg>",!1,!0),Sb=G.template("<svg><rect stroke=green fill=none stroke-width=2></svg>",!1,!0),Cb=G.template("<svg><polygon stroke-width=1 stroke=red fill-opacity=0></svg>",!1,!0),Tb=G.template("<svg><rect fill-opacity=0 stroke=blue stroke-width=2></svg>",!1,!0),Ab=G.template("<svg><rect fill=transparent stroke=red stroke-width=8></svg>",!1,!0),Pb=G.template("<br>"),Ob=G.template("<div><h1>Current Node</h1><p></p><pre>"),Mb=G.template("<div><h1>Scenegraph</h1><pre>"),Ib=G.template("<div><h1>Scope</h1><pre>");const Eb=u=>e=>{for(const[i,o]of Object.entries(u))if(o.layoutNode===e)return i;return e},kb=(u,e)=>i=>{const o=Eb(e),l=`Error in ${o(i.source)}:
    ${i.display(o)} (${i.type})

Error path from root:
  ${Bl(u,i.source).concat([i.source]).map(h=>o(h)).join(` >>
  `)}`;console.error(l)},N_=yt.createContext(()=>yt.createUniqueId());function Lb(u){u=yt.mergeProps({padding:10,positioning:"relative"},u);const e=Dd(),{scenegraph:i}=e,[o,l]=Fe.createStore({}),h=Jy(kb(i,o)),c=`Bluefish(${yt.createUniqueId()})`,g=`Bluefish(${yt.createUniqueId()})`,b=c,x=u.id??g,[S,A]=yt.createSignal(()=>{}),[k,y]=yt.createSignal(yt.createUniqueId()),[D,C]=yt.createSignal({scenegraph:i,uid:yt.createUniqueId()});let U;const $=gb(),[K,J]=yt.createSignal([]),ut=new Map,ht=new vb,dt=new Map([["stackSlot-0",["address-0","stack-heap-arrow-0"]],["stack-heap-arrow-0",["address-0","stackSlot-0"]],["address-0",["stack-heap-arrow-0","stackSlot-0","heap-arrow-0-1","heap-arrow-0-4","heap-arrow-0-5","address-1","address-2","address-3"]],["stackSlot-1",["address-1","stack-heap-arrow-1"]],["stack-heap-arrow-1",["address-1","stackSlot-1"]],["address-1",["stack-heap-arrow-1","heap-arrow-0-1","stackSlot-1","address-0"]],["heap-arrow-0-1",["address-1","address-0"]],["address-2",["heap-arrow-0-4","address-4","address-0","heap-arrow-2-4"]],["heap-arrow-0-4",["address-2","address-0"]],["heap-arrow-0-5",["address-3","address-0"]],["address-3",["address-0","heap-arrow-0-5","address-4","heap-arrow-3-1"]],["address-4",["address-3","address-2","heap-arrow-3-1","heap-arrow-2-4"]],["heap-arrow-2-4",["address-2","address-4"]],["heap-arrow-3-1",["address-3","address-4"]]]);function ft(At){const bt=At.match(/([A-Z])\w+/);return bt?bt[0].trim():""}function gt(At){const bt=D().scenegraph[At];return bt&&bt.type==="ref"?gt(bt.refId):At}function ot(At){const bt=D().scenegraph[At];if(!bt||!bt.parent)return{x:0,y:0};const Dt=ot(bt.parent);return bt.type==="node"?{x:Dt.x+(bt.transform.translate.x??0),y:Dt.y+(bt.transform.translate.y??0)}:Dt}function Mt(At){let bt={left:0,top:0,right:0,bottom:0};return At.forEach(Dt=>{const Nt=D().scenegraph[Dt];if(Nt&&Nt.type==="node"&&Nt.bbox){const jt=ot(Dt);bt={left:Math.min(bt.left,jt.x+(Nt.bbox.left??1/0)),top:Math.min(bt.top,jt.y+(Nt.bbox.top??1/0)),right:Math.max(bt.right,jt.x+(Nt.bbox.left??0)+(Nt.bbox.width??0)),bottom:Math.max(bt.bottom,jt.y+(Nt.bbox.top??0)+(Nt.bbox.height??0))}}else if(Nt&&Nt.type==="ref"){const jt=D().scenegraph[Nt.refId],be=ot(Nt.refId);jt&&jt.type==="node"&&jt.bbox&&(bt={left:Math.min(bt.left,be.x+(jt.bbox.left??1/0)),top:Math.min(bt.top,be.y+(jt.bbox.top??1/0)),right:Math.max(bt.right,be.x+(jt.bbox.left??0)+(jt.bbox.width??0)),bottom:Math.max(bt.bottom,be.y+(jt.bbox.top??0)+(jt.bbox.height??0))})}}),{left:bt.left,top:bt.top,width:bt.right-bt.left,height:bt.bottom-bt.top}}function Et(At){const bt=D().scenegraph[At];if(bt&&bt.type==="node"){const Dt=bt.customData;return{left:Math.min(Dt.sx,Dt.ex),top:Math.min(Dt.sy,Dt.ey),width:Math.max(Math.abs(Dt.sx-Dt.ex),1),height:Math.max(Math.abs(Dt.sy-Dt.ey),1)}}else return Et(bt.refId)}function Lt(At){return console.log(At),`${At.x},${At.y}`}function Rt(At){const bt=ft(At),Dt=D().scenegraph[At];return bt==="Align"||bt==="Distribute"?Mt(Dt.children):bt==="Arrow"?Et(At):Dt&&Dt.type==="node"?Dt.bbox:Dt&&Dt.type==="ref"?Rt(Dt.refId):{left:0,top:0,width:0,height:0}}function Ct(At){const bt=Rt(At),Dt=ot(gt(At));return{x:Dt.x+(bt.left??0),y:Dt.y+(bt.top??0)}}function Bt(At,bt){const[Dt,Nt,jt,be]=At.split(" ").map(Number),[ke,Ye,Ce,Te]=bt.split(" ").map(Number);return!(Dt+jt<ke||ke+Ce<Dt||Nt+be<Ye||Ye+Te<Nt)}function pt(At){switch(At){case Cn.MMMiniMap:return"30%";default:return"100%"}}function Vt(At){switch(At){case Cn.MMMiniMap:return{position:"absolute",top:0,left:0,background:"rgba(255, 255, 255, 0.7)","border-right":".2rem solid black","border-bottom":".2rem solid black"};case Cn.LLens:return{position:"absolute",top:0,left:0,"pointer-events":"none"};default:return{}}}yt.createEffect(()=>{if(u.mantisComponentType===Cn.Preview){const At=[],bt=new Set(["stack-heap-arrow-0","stack-heap-arrow-1","address-0","address-1","address-2","address-3","address-4","heap-arrow-0-1","heap-arrow-0-4","heap-arrow-0-5","heap-arrow-2-4","heap-arrow-3-1","stackSlot-0","stackSlot-1","stackSlot-2"]),Dt=Nt=>{for(const jt in o)if(jt.includes(Nt))return jt};for(const Nt of bt){const jt=Dt(Nt);jt&&ht.set(Nt,o[jt].layoutNode??"")}for(const Nt of ht.getValues()){if(ft(Nt)==="Ref")continue;const jt=Rt(Nt),be=ot(Nt),ke={x:be.x+(jt.left??0)+(jt.width??0)/2,y:be.y+(jt.top??0)+(jt.height??0)/2};At.push(ke),ut.set(Lt(ke),Nt)}J(At)}else if(ks(u.mantisComponentType)){const At=[];for(const bt in i){if(ft(bt)==="Ref")continue;const Dt=Rt(bt),Nt=ot(bt),jt={x:Nt.x+(Dt.left??0)+(Dt.width??0)/2,y:Nt.y+(Dt.top??0)+(Dt.height??0)/2};At.push(jt),ut.set(Lt(jt),bt)}J(At)}});const[Ht,Ft]=yt.createSignal(-1),[ae,he]=yt.createSignal(b),Me=()=>D().scenegraph[ae()],tn=()=>ot(ae()),me=()=>ae()?Rt(ae()):{left:0,top:0,width:0,height:0},oe=At=>{yt.untrack(()=>{for(const Ce of At)Ce.owned.left||(Ce.bbox.left=0),Ce.owned.top||(Ce.bbox.top=0)});const bt={left:At.map(Ce=>Ce.bbox.left),top:At.map(Ce=>Ce.bbox.top),width:At.map(Ce=>Ce.bbox.width),height:At.map(Ce=>Ce.bbox.height)},Dt=Uo(bt.left)??0,Nt=Vo(bt.left.map((Ce,Te)=>Br(Ce,bt.width[Te]))),jt=Uo(bt.top)??0,be=Vo(bt.top.map((Ce,Te)=>Br(Ce,bt.height[Te]))),ke=Qe(Nt,Dt),Ye=Qe(be,jt);return{transform:{translate:{x:0,y:0}},bbox:{left:Dt,top:jt,width:ke,height:Ye}}},$e=At=>{const bt=u.mantisTraversalPattern===nh.Bubble?.75:1.25,Dt=.4,Nt=5,jt=2,be=()=>u.width??(At.bbox.width??0)+u.padding*2,ke=()=>u.height??(At.bbox.height??0)+u.padding*2,Ye=()=>-u.padding+(u.positioning==="absolute"?0:At.bbox.left??0),Ce=()=>-u.padding+(u.positioning==="absolute"?0:At.bbox.top??0),Te=()=>`${Ye()} ${Ce()} ${be()} ${ke()}`,[kn,Hr]=yt.createSignal(0),[De,hn]=yt.createSignal(0),[Le,hr]=yt.createSignal(0),[ce,t]=yt.createSignal(0),r=new ResizeObserver(()=>{const It=L({x:0,y:0})??{x:0,y:0},qt=E({x:0,y:0}),te=E({x:It.x+(U?.getBoundingClientRect().width??0),y:It.y+(U?.getBoundingClientRect().height??0)});Hr(te?.x??0),hn(te?.y??0),hr(qt?.x??0),t(qt?.y??0)});yt.createEffect(()=>(U&&r.observe(U),()=>{U&&r.unobserve(U)}));const[a,f]=yt.createSignal(0),[d,v]=yt.createSignal(0),[m,p]=yt.createSignal(!1),[w,T]=yt.createSignal(!0);function E(It){if(U){let qt=U.createSVGPoint();qt.x=It.x,qt.y=It.y;const te=U.getScreenCTM();if(te)return qt=qt.matrixTransform(te.inverse()),{x:qt.x,y:qt.y}}}function L(It){if(U){let qt=U.createSVGPoint();qt.x=It.x,qt.y=It.y;const te=U.getScreenCTM();if(te)return qt=qt.matrixTransform(te),{x:qt.x,y:qt.y}}}function I(It,qt){rt(qt);const te=It.x-(It.x-Ye())/qt+at()/2,le=It.y-(It.y-Ce())/qt+_t()/2;mt(te),kt(le)}function O(It){const qt=document.elementFromPoint(It.clientX,It.clientY);qt&&U&&U.contains(qt)?p(!0):p(!1)}const B=()=>(me()?.left??0)+(tn()?.x??0),q=()=>(me()?.top??0)+(tn()?.y??0),Y=()=>me()?.width??0,z=()=>me()?.height??0,N=()=>B()+Y()/2,M=()=>q()+z()/2,[R,V]=yt.createSignal(0),[W,Z]=yt.createSignal(0),[j,Q]=yt.createSignal(0),[et,it]=yt.createSignal(0),[tt,rt]=yt.createSignal(1),at=()=>kn()/tt(),_t=()=>De()/tt(),[vt,mt]=yt.createSignal(N()),[Ot,kt]=yt.createSignal(M()),zt=()=>vt()-at()/2,Qt=()=>Ot()-_t()/2,Wt=()=>`${zt()} ${Qt()} ${at()} ${_t()}`,[Gt,Zt]=yt.createSignal(N()),[ee,Jt]=yt.createSignal(M()),Ae=()=>{if(U){const It=U.getAttribute("viewBox")?.split(" ");Zt(parseFloat(It[0])+parseFloat(It[2])/2),Jt(parseFloat(It[1])+parseFloat(It[3])/2)}},ue=()=>Oh.from(K(),It=>It.x,It=>It.y),fe=()=>ue().voronoi([Le(),ce(),Le()+kn(),ce()+De()]),[re,ve]=yt.createSignal(!1);function on(){U&&(re()?xa.to(U,{attr:{viewBox:Te()},duration:bt}):xa.to(U,{attr:{viewBox:Wt()},duration:bt}),ve(!re()))}function en(It){const qt=document.elementFromPoint(It.clientX,It.clientY);qt&&(re()||u.mantisComponentType===Cn.LLens)&&U&&U.contains(qt)&&(It.preventDefault(),It.deltaY>0?rt(tt()+Dt):rt(Math.max(1,tt()-Dt)))}const[nn,He]=yt.createSignal(0),[Re,Xe]=yt.createSignal(0),[xn,Ze]=yt.createSignal(!1);function Wn(It){const qt=E({x:It.clientX,y:It.clientY});qt&&(f(qt.x),v(qt.y))}function fr(It){const qt=E({x:It.clientX,y:It.clientY});if(qt){if(Ls($))$.setIsDragging(!0),He(qt.x-R()),Xe(qt.y-W());else if(pa($)&&u.mantisId!==void 0){const te=$.lensInfo()[u.mantisId];He(qt.x-te.x),Xe(qt.y-te.y),Ze(!0)}}}function Ln(It){const qt=E({x:It.clientX,y:It.clientY});qt&&(Ls($)&&$.isDragging()?(V(qt.x-nn()),Z(qt.y-Re()),$.setViewBBox(`${R()} ${W()} ${j()} ${et()}`)):pa($)&&u.mantisId!==void 0&&xn()&&(V(qt.x-nn()),Z(qt.y-Re())))}function Rn(){Ze(!1),Ls($)?$.setIsDragging(!1):pa($)&&($.updateLensInfo(It=>It.map((qt,te)=>te===u.mantisId?{...qt,x:R(),y:W()}:qt)),Ze(!1))}function _n(It){const qt=E({x:It.clientX,y:It.clientY});qt&&pa($)&&(It.preventDefault(),$.updateLensInfo(te=>[...te,{x:qt.x,y:qt.y,magnification:jt}]))}yt.createEffect(()=>{U&&(u.mantisComponentType==Cn.MMMain&&Ls($)?re()?(xa.to(U,{attr:{viewBox:Wt()},duration:$.isDragging()?.5:bt}),$.setViewBBox(Wt())):$.setViewBBox(Te()):ks(u.mantisComponentType)&&re()&&xa.to(U,{attr:{viewBox:Wt()},duration:bt,onUpdate:Ae}))}),yt.createEffect(()=>{u.mantisComponentType===Cn.LLens&&I({x:R(),y:W()},tt())});function Pn(It){ks(u.mantisComponentType)&&m()&&It.key==="f"?T(!w()):m()&&u.mantisComponentType===Cn.LLens&&It.key==="r"&&rt(jt)}yt.createEffect(()=>{U&&(document.addEventListener("keydown",Pn),document.addEventListener("mousemove",O),U.addEventListener("mousemove",It=>{w()&&Wn(It),Ln(It)},!1),ks(u.mantisComponentType)?(U.addEventListener("click",on,!1),U.addEventListener("wheel",en,!1)):db(u.mantisComponentType)?(U.addEventListener("mousedown",fr,!1),U.addEventListener("mouseup",Rn,!1),U.addEventListener("mouseleave",Rn,!1),u.mantisComponentType===Cn.LLens&&U.addEventListener("wheel",en,!1)):u.mantisComponentType===Cn.LMain&&U.addEventListener("click",It=>{It.shiftKey&&_n(It)},!1))}),yt.createEffect(()=>{if(U&&ks(u.mantisComponentType)){const It=ue().find(a(),d());Ft(It);const qt=ut.get(Lt(K()[It]));he(gt(qt??b)),u.mantisTraversalPattern===nh.Bubble?(mt(N()),kt(M()),V(B()),Z(q()),it(z()),Q(Y())):(mt(te=>Math.abs(te-a())>Nt?a():te),kt(te=>Math.abs(te-d())>Nt?d():te)),_d($)&&(u.mantisComponentType===Cn.SSLeft?$.setLeftViewBBox(re()?Wt():Te()):$.setRightViewBBox(re()?Wt():Te()))}}),yt.createEffect(()=>{if(Ls($)&&u.mantisComponentType===Cn.MMMiniMap){const It=$.viewBBox().split(" ");V(parseFloat(It[0])),Z(parseFloat(It[1])),Q(parseFloat(It[2])),it(parseFloat(It[3]))}else if(u.mantisComponentType===Cn.MMMain&&Ls($)&&$.isDragging()){const[It,qt,te,le]=$.viewBBox().split(" ");mt(parseFloat(It)+parseFloat(te)/2),kt(parseFloat(qt)+parseFloat(le)/2)}});const cr=It=>{const qt=yt.mergeProps({arrowheadColor:"purple"},It),te=yt.createMemo(()=>({x:It.targetPoint.x-Gt(),y:It.targetPoint.y-ee()})),le=yt.createMemo(()=>Math.sqrt(te().x**2+te().y**2)),Xt=yt.createMemo(()=>({x:te().x/le(),y:te().y/le()})),_e=()=>Math.min(be(),ke())/tt()/4,Pe=()=>Math.min(be(),ke())/tt()/8,we=()=>Math.min(be(),ke())/tt()/4,Ut=()=>Math.min(be(),ke())/tt()/8,Ve=yt.createMemo(()=>({x:Gt()+Xt().x*(at()/2-we()),y:ee()+Xt().y*(_t()/2-we())})),mn=yt.createMemo(()=>({x:Ve().x-Xt().y*Pe()-Xt().x*Ut(),y:Ve().y+Xt().x*Pe()-Xt().y*Ut()})),Dn=yt.createMemo(()=>({x:Ve().x+Xt().y*Pe()-Xt().x*Ut(),y:Ve().y-Xt().x*Pe()-Xt().y*Ut()})),On=yt.createMemo(()=>({x:Ve().x+Xt().x*_e(),y:Ve().y+Xt().y*_e()}));return yt.createMemo(()=>({x:Ve().x-Xt().x*_e(),y:Ve().y-Xt().y*_e()})),(()=>{var Ar=pb();return G.effect(jn=>{var mi=`${On().x},${On().y} ${mn().x},${mn().y} ${Ve().x},${Ve().y} ${Dn().x},${Dn().y}`,Yi=qt.arrowheadColor;return mi!==jn.e&&G.setAttribute(Ar,"points",jn.e=mi),Yi!==jn.t&&G.setAttribute(Ar,"fill",jn.t=Yi),jn},{e:void 0,t:void 0}),Ar})()},bn=It=>{const qt=()=>(It.viewBox??"0 0 0 0").split(" "),te=()=>parseFloat(qt()[0]),le=()=>parseFloat(qt()[1]),Xt=()=>parseFloat(qt()[2]),_e=()=>parseFloat(qt()[3]),Pe=()=>({x:te()+Xt()/2,y:le()+_e()/2});return[(()=>{var we=mb();return G.effect(Ut=>{var Ve=te(),mn=le(),Dn=Xt(),On=_e(),Ar=It.stroke,jn=It.strokeWidth;return Ve!==Ut.e&&G.setAttribute(we,"x",Ut.e=Ve),mn!==Ut.t&&G.setAttribute(we,"y",Ut.t=mn),Dn!==Ut.a&&G.setAttribute(we,"width",Ut.a=Dn),On!==Ut.o&&G.setAttribute(we,"height",Ut.o=On),Ar!==Ut.i&&G.setAttribute(we,"stroke",Ut.i=Ar),jn!==Ut.n&&G.setAttribute(we,"stroke-width",Ut.n=jn),Ut},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),we})(),G.memo(()=>G.memo(()=>!!(re()&&It.viewBox&&!Bt(Wt(),It.viewBox)))()&&G.createComponent(cr,{get targetPoint(){return Pe()}}))]},ni=It=>{const te=6*jt,le=()=>`${te/tt()}vmin`,Xt=()=>`lensClip-${It.id}`;return yt.onMount(()=>{V(It.lensInfo.x),Z(It.lensInfo.y),I({x:R(),y:W()},It.lensInfo.magnification)}),[(()=>{var _e=yb(),Pe=_e.firstChild,we=Pe.firstChild;return G.effect(Ut=>{var Ve=Xt(),mn=R(),Dn=W(),On=le();return Ve!==Ut.e&&G.setAttribute(Pe,"id",Ut.e=Ve),mn!==Ut.t&&G.setAttribute(we,"cx",Ut.t=mn),Dn!==Ut.a&&G.setAttribute(we,"cy",Ut.a=Dn),On!==Ut.o&&G.setAttribute(we,"r",Ut.o=On),Ut},{e:void 0,t:void 0,a:void 0,o:void 0}),_e})(),(()=>{var _e=wb(),Pe=_e.firstChild,we=Pe.nextSibling;return _e.style.setProperty("pointer-events","auto"),G.insert(_e,()=>It.children,we),G.effect(Ut=>{var Ve=`url(#${Xt()})`,mn=R(),Dn=W(),On=le(),Ar=R(),jn=W(),mi=le(),Yi=8/tt();return Ve!==Ut.e&&G.setAttribute(_e,"clip-path",Ut.e=Ve),mn!==Ut.t&&G.setAttribute(Pe,"cx",Ut.t=mn),Dn!==Ut.a&&G.setAttribute(Pe,"cy",Ut.a=Dn),On!==Ut.o&&G.setAttribute(Pe,"r",Ut.o=On),Ar!==Ut.i&&G.setAttribute(we,"cx",Ut.i=Ar),jn!==Ut.n&&G.setAttribute(we,"cy",Ut.n=jn),mi!==Ut.s&&G.setAttribute(we,"r",Ut.s=mi),Yi!==Ut.h&&G.setAttribute(we,"stroke-width",Ut.h=Yi),Ut},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),_e})()]};return(()=>{var It=xb(),qt=U;return typeof qt=="function"?G.use(qt,It):U=It,G.insert(It,(()=>{var te=G.memo(()=>u.mantisComponentType===Cn.LLens);return()=>te()?G.memo(()=>G.memo(()=>!!(pa($)&&u.mantisId!==void 0))()&&G.createComponent(ni,{get id(){return u.mantisId},get lensInfo(){return $.lensInfo()[u.mantisId]},get children(){return At.children}})):[G.memo(()=>At.children),G.memo(()=>G.memo(()=>!!(ks(u.mantisComponentType)&&Me()))()&&[G.createComponent(yt.For,{get each(){return Array.from(fe().cellPolygons())},children:le=>(()=>{var Xt=Cb();return G.effect(()=>G.setAttribute(Xt,"points",le.map(_e=>_e.join(",")).join(" "))),Xt})()}),(()=>{var le=Sb();return G.effect(Xt=>{var _e=B(),Pe=q(),we=Y(),Ut=z();return _e!==Xt.e&&G.setAttribute(le,"x",Xt.e=_e),Pe!==Xt.t&&G.setAttribute(le,"y",Xt.t=Pe),we!==Xt.a&&G.setAttribute(le,"width",Xt.a=we),Ut!==Xt.o&&G.setAttribute(le,"height",Xt.o=Ut),Xt},{e:void 0,t:void 0,a:void 0,o:void 0}),le})(),G.createComponent(yt.For,{get each(){return dt.get(ht.getKey(ae())??"")??[]},children:le=>{const Xt=ht.getValue(le);if(!Xt||ft(Xt)==="Bluefish")return;const _e=Rt(Xt),Pe=Ct(Xt);return(()=>{var we=Tb();return G.effect(Ut=>{var Ve=Pe.x,mn=Pe.y,Dn=Math.max(_e.width??0,1),On=Math.max(_e.height??0,1);return Ve!==Ut.e&&G.setAttribute(we,"x",Ut.e=Ve),mn!==Ut.t&&G.setAttribute(we,"y",Ut.t=mn),Dn!==Ut.a&&G.setAttribute(we,"width",Ut.a=Dn),On!==Ut.o&&G.setAttribute(we,"height",Ut.o=On),Ut},{e:void 0,t:void 0,a:void 0,o:void 0}),we})()}}),G.createComponent(yt.For,{get each(){return Array.from(fe().neighbors(Ht()))},children:le=>{if(le===void 0||le<0)return;const Xt=()=>K()[le],_e=ut.get(Lt(Xt()));if(!_e)return;const Pe=Rt(_e),we=Ct(_e),Ut=()=>re()&&!Bt(Wt(),`${we.x} ${we.y} ${Pe.width} ${Pe.height}`),Ve=()=>dt.get(ht.getKey(ae())??"")??[],mn=()=>Ve().includes(ht.getKey(_e)??"")?"orange":"purple";return G.createComponent(yt.Show,{get when(){return Ut()},get children(){return G.createComponent(cr,{get targetPoint(){return Xt()},get arrowheadColor(){return mn()}})}})}})]),G.memo(()=>G.memo(()=>u.mantisComponentType===Cn.MMMiniMap)()&&(()=>{var le=Ab();return G.effect(Xt=>{var _e=R(),Pe=W(),we=j(),Ut=et();return _e!==Xt.e&&G.setAttribute(le,"x",Xt.e=_e),Pe!==Xt.t&&G.setAttribute(le,"y",Xt.t=Pe),we!==Xt.a&&G.setAttribute(le,"width",Xt.a=we),Ut!==Xt.o&&G.setAttribute(le,"height",Xt.o=Ut),Xt},{e:void 0,t:void 0,a:void 0,o:void 0}),le})()),G.memo(()=>G.memo(()=>!!_d($))()&&(u.mantisComponentType===Cn.SSLeft?$.rightViewBBox()!==Te()&&G.createComponent(bn,{get viewBox(){return $.rightViewBBox()},stroke:"blue",strokeWidth:2}):$.leftViewBBox()!==Te()&&G.createComponent(bn,{get viewBox(){return $.leftViewBBox()},stroke:"blue",strokeWidth:2}))),(()=>{var le=bb();return G.effect(Xt=>{var _e=a(),Pe=d();return _e!==Xt.e&&G.setAttribute(le,"cx",Xt.e=_e),Pe!==Xt.t&&G.setAttribute(le,"cy",Xt.t=Pe),Xt},{e:void 0,t:void 0}),le})()]})()),G.effect(te=>{var le=Vt(u.mantisComponentType),Xt=pt(u.mantisComponentType),_e=pt(u.mantisComponentType),Pe=u.mantisComponentType===Cn.LLens?Wt():Te();return te.e=G.style(It,le,te.e),Xt!==te.t&&G.setAttribute(It,"width",te.t=Xt),_e!==te.a&&G.setAttribute(It,"height",te.a=_e),Pe!==te.o&&G.setAttribute(It,"viewBox",te.o=Pe),te},{e:void 0,t:void 0,a:void 0,o:void 0}),It})()},Jn=G.createComponent(N_.Provider,{value:k,get children(){return G.createComponent(Rd.Provider,{value:h,get children(){return G.createComponent(tu.Provider,{value:e,get children(){return G.createComponent(Ks.Provider,{value:[o,l],get children(){return(()=>{const At=Oa(G.createComponent(qn,{name:b,layout:oe,paint:$e,get children(){return G.createComponent(Ma.Provider,{value:()=>x,get children(){return u.children}})}}));return A(()=>()=>At[0].layout(null)),At[0].jsx})()}})}})}})}});return yt.createRenderEffect(()=>{for(const bt in i)delete i[bt];S()();const At=yt.createUniqueId();y(At),C({scenegraph:i,uid:At})}),[Jn,G.createComponent(yw,{position:"top-left",containerStyle:{position:"relative",width:"500px"}}),G.createComponent(yt.Show,{get when(){return u.debug===!0},get children(){return[Pb(),(()=>{var At=Ob(),bt=At.firstChild,Dt=bt.nextSibling,Nt=Dt.nextSibling;return At.style.setProperty("float","left"),At.style.setProperty("margin-right","40px"),At.style.setProperty("margin-left","5px"),G.insert(Dt,ae),G.insert(Nt,()=>JSON.stringify(Me(),null,2)),At})(),(()=>{var At=Mb(),bt=At.firstChild,Dt=bt.nextSibling;return At.style.setProperty("float","left"),At.style.setProperty("margin-right","40px"),G.insert(Dt,()=>JSON.stringify(D().scenegraph,null,2)),At})(),(()=>{var At=Ib(),bt=At.firstChild,Dt=bt.nextSibling;return At.style.setProperty("float","left"),G.insert(Dt,()=>JSON.stringify(o,null,2)),At})()]}})]}const qn=u=>{const[e,i]=yt.useContext(Ks);_i();const o=yt.useContext(N_),[l,h]=yt.createSignal([]),[c,g]=Fe.createStore({bbox:{},transform:{translate:{}},customData:{}}),{scenegraph:b,createNode:x,mergeBBoxAndTransform:S,createChildRepr:A}=hh(),k=G.createComponent(Fl.Provider,{value:()=>{},get children(){return(()=>{const D=Oa(u.children);return h(()=>D.map(C=>C.layout)),G.createComponent(G.Dynamic,G.mergeProps({get component(){return u.paint}},c,{get children(){return G.createComponent(yt.For,{each:D,children:C=>C.jsx})}}))})()}});return yt.onCleanup(()=>{i(Fe.produce(D=>{for(const C of Object.keys(D))D[C].layoutNode===u.name&&delete D[C]}))}),yt.createRenderEffect(yt.on(()=>o(),()=>{const D=yr(b[u.name]??{type:"node",bbox:{},transform:{translate:{}},children:[],customData:{}});g({bbox:D.bbox??{},transform:{translate:{x:D.transform?.translate?.x??0,y:D.transform?.translate?.y??0}},customData:D.customData})})),{jsx:k,layout:D=>{x(u.name,D);for(const J of l())J(u.name);const C=yr(b[u.name]),{bbox:U,transform:$,customData:K}=u.layout((C.children??[]).map(J=>A(u.name,J)));S(u.name,u.name,U,$),C.customData=K}}};var jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mh(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function Rb(u){if(u.__esModule)return u;var e=u.default;if(typeof e=="function"){var i=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(u).forEach(function(o){var l=Object.getOwnPropertyDescriptor(u,o);Object.defineProperty(i,o,l.get?l:{enumerable:!0,get:function(){return u[o]}})}),i}var Qo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Qo.exports;(function(u,e){(function(){var i,o="4.17.21",l=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",g="Invalid `variable` option passed into `_.template`",b="__lodash_hash_undefined__",x=500,S="__lodash_placeholder__",A=1,k=2,y=4,D=1,C=2,U=1,$=2,K=4,J=8,ut=16,ht=32,dt=64,ft=128,gt=256,ot=512,Mt=30,Et="...",Lt=800,Rt=16,Ct=1,Bt=2,pt=3,Vt=1/0,Ht=9007199254740991,Ft=17976931348623157e292,ae=0/0,he=4294967295,Me=he-1,tn=he>>>1,me=[["ary",ft],["bind",U],["bindKey",$],["curry",J],["curryRight",ut],["flip",ot],["partial",ht],["partialRight",dt],["rearg",gt]],oe="[object Arguments]",$e="[object Array]",Jn="[object AsyncFunction]",At="[object Boolean]",bt="[object Date]",Dt="[object DOMException]",Nt="[object Error]",jt="[object Function]",be="[object GeneratorFunction]",ke="[object Map]",Ye="[object Number]",Ce="[object Null]",Te="[object Object]",kn="[object Promise]",Hr="[object Proxy]",De="[object RegExp]",hn="[object Set]",Le="[object String]",hr="[object Symbol]",ce="[object Undefined]",t="[object WeakMap]",r="[object WeakSet]",a="[object ArrayBuffer]",f="[object DataView]",d="[object Float32Array]",v="[object Float64Array]",m="[object Int8Array]",p="[object Int16Array]",w="[object Int32Array]",T="[object Uint8Array]",E="[object Uint8ClampedArray]",L="[object Uint16Array]",I="[object Uint32Array]",O=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,N=RegExp(Y.source),M=RegExp(z.source),R=/<%-([\s\S]+?)%>/g,V=/<%([\s\S]+?)%>/g,W=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,it=RegExp(et.source),tt=/^\s+/,rt=/\s/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_t=/\{\n\/\* \[wrapped with (.+)\] \*/,vt=/,? & /,mt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ot=/[()=,{}\[\]\/\s]/,kt=/\\(\\)?/g,zt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qt=/\w*$/,Wt=/^[-+]0x[0-9a-f]+$/i,Gt=/^0b[01]+$/i,Zt=/^\[object .+?Constructor\]$/,ee=/^0o[0-7]+$/i,Jt=/^(?:0|[1-9]\d*)$/,Ae=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,fe=/['\n\r\u2028\u2029\\]/g,re="\\ud800-\\udfff",ve="\\u0300-\\u036f",on="\\ufe20-\\ufe2f",en="\\u20d0-\\u20ff",nn=ve+on+en,He="\\u2700-\\u27bf",Re="a-z\\xdf-\\xf6\\xf8-\\xff",Xe="\\xac\\xb1\\xd7\\xf7",xn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ze="\\u2000-\\u206f",Wn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fr="A-Z\\xc0-\\xd6\\xd8-\\xde",Ln="\\ufe0e\\ufe0f",Rn=Xe+xn+Ze+Wn,_n="['’]",Pn="["+re+"]",cr="["+Rn+"]",bn="["+nn+"]",ni="\\d+",It="["+He+"]",qt="["+Re+"]",te="[^"+re+Rn+ni+He+Re+fr+"]",le="\\ud83c[\\udffb-\\udfff]",Xt="(?:"+bn+"|"+le+")",_e="[^"+re+"]",Pe="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",Ut="["+fr+"]",Ve="\\u200d",mn="(?:"+qt+"|"+te+")",Dn="(?:"+Ut+"|"+te+")",On="(?:"+_n+"(?:d|ll|m|re|s|t|ve))?",Ar="(?:"+_n+"(?:D|LL|M|RE|S|T|VE))?",jn=Xt+"?",mi="["+Ln+"]?",Yi="(?:"+Ve+"(?:"+[_e,Pe,we].join("|")+")"+mi+jn+")*",Q_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tg="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",kh=mi+jn+Yi,eg="(?:"+[It,Pe,we].join("|")+")"+kh,ng="(?:"+[_e+bn+"?",bn,Pe,we,Pn].join("|")+")",rg=RegExp(_n,"g"),ig=RegExp(bn,"g"),ou=RegExp(le+"(?="+le+")|"+ng+kh,"g"),sg=RegExp([Ut+"?"+qt+"+"+On+"(?="+[cr,Ut,"$"].join("|")+")",Dn+"+"+Ar+"(?="+[cr,Ut+mn,"$"].join("|")+")",Ut+"?"+mn+"+"+On,Ut+"+"+Ar,tg,Q_,ni,eg].join("|"),"g"),ag=RegExp("["+Ve+re+nn+Ln+"]"),og=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ug=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lg=-1,Ke={};Ke[d]=Ke[v]=Ke[m]=Ke[p]=Ke[w]=Ke[T]=Ke[E]=Ke[L]=Ke[I]=!0,Ke[oe]=Ke[$e]=Ke[a]=Ke[At]=Ke[f]=Ke[bt]=Ke[Nt]=Ke[jt]=Ke[ke]=Ke[Ye]=Ke[Te]=Ke[De]=Ke[hn]=Ke[Le]=Ke[t]=!1;var Ge={};Ge[oe]=Ge[$e]=Ge[a]=Ge[f]=Ge[At]=Ge[bt]=Ge[d]=Ge[v]=Ge[m]=Ge[p]=Ge[w]=Ge[ke]=Ge[Ye]=Ge[Te]=Ge[De]=Ge[hn]=Ge[Le]=Ge[hr]=Ge[T]=Ge[E]=Ge[L]=Ge[I]=!0,Ge[Nt]=Ge[jt]=Ge[t]=!1;var hg={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},fg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},dg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_g=parseFloat,gg=parseInt,Lh=typeof jr=="object"&&jr&&jr.Object===Object&&jr,vg=typeof self=="object"&&self&&self.Object===Object&&self,Mn=Lh||vg||Function("return this")(),uu=e&&!e.nodeType&&e,Hi=uu&&!0&&u&&!u.nodeType&&u,Rh=Hi&&Hi.exports===uu,lu=Rh&&Lh.process,Pr=function(){try{var lt=Hi&&Hi.require&&Hi.require("util").types;return lt||lu&&lu.binding&&lu.binding("util")}catch{}}(),Dh=Pr&&Pr.isArrayBuffer,zh=Pr&&Pr.isDate,Bh=Pr&&Pr.isMap,Nh=Pr&&Pr.isRegExp,Fh=Pr&&Pr.isSet,$h=Pr&&Pr.isTypedArray;function dr(lt,xt,wt){switch(wt.length){case 0:return lt.call(xt);case 1:return lt.call(xt,wt[0]);case 2:return lt.call(xt,wt[0],wt[1]);case 3:return lt.call(xt,wt[0],wt[1],wt[2])}return lt.apply(xt,wt)}function pg(lt,xt,wt,Yt){for(var de=-1,ze=lt==null?0:lt.length;++de<ze;){var yn=lt[de];xt(Yt,yn,wt(yn),lt)}return Yt}function Or(lt,xt){for(var wt=-1,Yt=lt==null?0:lt.length;++wt<Yt&&xt(lt[wt],wt,lt)!==!1;);return lt}function mg(lt,xt){for(var wt=lt==null?0:lt.length;wt--&&xt(lt[wt],wt,lt)!==!1;);return lt}function Vh(lt,xt){for(var wt=-1,Yt=lt==null?0:lt.length;++wt<Yt;)if(!xt(lt[wt],wt,lt))return!1;return!0}function yi(lt,xt){for(var wt=-1,Yt=lt==null?0:lt.length,de=0,ze=[];++wt<Yt;){var yn=lt[wt];xt(yn,wt,lt)&&(ze[de++]=yn)}return ze}function Va(lt,xt){var wt=lt==null?0:lt.length;return!!wt&&gs(lt,xt,0)>-1}function hu(lt,xt,wt){for(var Yt=-1,de=lt==null?0:lt.length;++Yt<de;)if(wt(xt,lt[Yt]))return!0;return!1}function Je(lt,xt){for(var wt=-1,Yt=lt==null?0:lt.length,de=Array(Yt);++wt<Yt;)de[wt]=xt(lt[wt],wt,lt);return de}function wi(lt,xt){for(var wt=-1,Yt=xt.length,de=lt.length;++wt<Yt;)lt[de+wt]=xt[wt];return lt}function fu(lt,xt,wt,Yt){var de=-1,ze=lt==null?0:lt.length;for(Yt&&ze&&(wt=lt[++de]);++de<ze;)wt=xt(wt,lt[de],de,lt);return wt}function yg(lt,xt,wt,Yt){var de=lt==null?0:lt.length;for(Yt&&de&&(wt=lt[--de]);de--;)wt=xt(wt,lt[de],de,lt);return wt}function cu(lt,xt){for(var wt=-1,Yt=lt==null?0:lt.length;++wt<Yt;)if(xt(lt[wt],wt,lt))return!0;return!1}var wg=du("length");function xg(lt){return lt.split("")}function bg(lt){return lt.match(mt)||[]}function Uh(lt,xt,wt){var Yt;return wt(lt,function(de,ze,yn){if(xt(de,ze,yn))return Yt=ze,!1}),Yt}function Ua(lt,xt,wt,Yt){for(var de=lt.length,ze=wt+(Yt?1:-1);Yt?ze--:++ze<de;)if(xt(lt[ze],ze,lt))return ze;return-1}function gs(lt,xt,wt){return xt===xt?Rg(lt,xt,wt):Ua(lt,qh,wt)}function Sg(lt,xt,wt,Yt){for(var de=wt-1,ze=lt.length;++de<ze;)if(Yt(lt[de],xt))return de;return-1}function qh(lt){return lt!==lt}function Wh(lt,xt){var wt=lt==null?0:lt.length;return wt?gu(lt,xt)/wt:ae}function du(lt){return function(xt){return xt==null?i:xt[lt]}}function _u(lt){return function(xt){return lt==null?i:lt[xt]}}function Yh(lt,xt,wt,Yt,de){return de(lt,function(ze,yn,Ue){wt=Yt?(Yt=!1,ze):xt(wt,ze,yn,Ue)}),wt}function Cg(lt,xt){var wt=lt.length;for(lt.sort(xt);wt--;)lt[wt]=lt[wt].value;return lt}function gu(lt,xt){for(var wt,Yt=-1,de=lt.length;++Yt<de;){var ze=xt(lt[Yt]);ze!==i&&(wt=wt===i?ze:wt+ze)}return wt}function vu(lt,xt){for(var wt=-1,Yt=Array(lt);++wt<lt;)Yt[wt]=xt(wt);return Yt}function Tg(lt,xt){return Je(xt,function(wt){return[wt,lt[wt]]})}function Hh(lt){return lt&&lt.slice(0,Kh(lt)+1).replace(tt,"")}function _r(lt){return function(xt){return lt(xt)}}function pu(lt,xt){return Je(xt,function(wt){return lt[wt]})}function ta(lt,xt){return lt.has(xt)}function Xh(lt,xt){for(var wt=-1,Yt=lt.length;++wt<Yt&&gs(xt,lt[wt],0)>-1;);return wt}function Gh(lt,xt){for(var wt=lt.length;wt--&&gs(xt,lt[wt],0)>-1;);return wt}function Ag(lt,xt){for(var wt=lt.length,Yt=0;wt--;)lt[wt]===xt&&++Yt;return Yt}var Pg=_u(hg),Og=_u(fg);function Mg(lt){return"\\"+dg[lt]}function Ig(lt,xt){return lt==null?i:lt[xt]}function vs(lt){return ag.test(lt)}function Eg(lt){return og.test(lt)}function kg(lt){for(var xt,wt=[];!(xt=lt.next()).done;)wt.push(xt.value);return wt}function mu(lt){var xt=-1,wt=Array(lt.size);return lt.forEach(function(Yt,de){wt[++xt]=[de,Yt]}),wt}function Zh(lt,xt){return function(wt){return lt(xt(wt))}}function xi(lt,xt){for(var wt=-1,Yt=lt.length,de=0,ze=[];++wt<Yt;){var yn=lt[wt];(yn===xt||yn===S)&&(lt[wt]=S,ze[de++]=wt)}return ze}function qa(lt){var xt=-1,wt=Array(lt.size);return lt.forEach(function(Yt){wt[++xt]=Yt}),wt}function Lg(lt){var xt=-1,wt=Array(lt.size);return lt.forEach(function(Yt){wt[++xt]=[Yt,Yt]}),wt}function Rg(lt,xt,wt){for(var Yt=wt-1,de=lt.length;++Yt<de;)if(lt[Yt]===xt)return Yt;return-1}function Dg(lt,xt,wt){for(var Yt=wt+1;Yt--;)if(lt[Yt]===xt)return Yt;return Yt}function ps(lt){return vs(lt)?Bg(lt):wg(lt)}function $r(lt){return vs(lt)?Ng(lt):xg(lt)}function Kh(lt){for(var xt=lt.length;xt--&&rt.test(lt.charAt(xt)););return xt}var zg=_u(cg);function Bg(lt){for(var xt=ou.lastIndex=0;ou.test(lt);)++xt;return xt}function Ng(lt){return lt.match(ou)||[]}function Fg(lt){return lt.match(sg)||[]}var $g=function lt(xt){xt=xt==null?Mn:ms.defaults(Mn.Object(),xt,ms.pick(Mn,ug));var wt=xt.Array,Yt=xt.Date,de=xt.Error,ze=xt.Function,yn=xt.Math,Ue=xt.Object,yu=xt.RegExp,Vg=xt.String,Mr=xt.TypeError,Wa=wt.prototype,Ug=ze.prototype,ys=Ue.prototype,Ya=xt["__core-js_shared__"],Ha=Ug.toString,Ne=ys.hasOwnProperty,qg=0,Jh=function(){var n=/[^.]+$/.exec(Ya&&Ya.keys&&Ya.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Xa=ys.toString,Wg=Ha.call(Ue),Yg=Mn._,Hg=yu("^"+Ha.call(Ne).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ga=Rh?xt.Buffer:i,bi=xt.Symbol,Za=xt.Uint8Array,jh=Ga?Ga.allocUnsafe:i,Ka=Zh(Ue.getPrototypeOf,Ue),Qh=Ue.create,tf=ys.propertyIsEnumerable,Ja=Wa.splice,ef=bi?bi.isConcatSpreadable:i,ea=bi?bi.iterator:i,Xi=bi?bi.toStringTag:i,ja=function(){try{var n=ji(Ue,"defineProperty");return n({},"",{}),n}catch{}}(),Xg=xt.clearTimeout!==Mn.clearTimeout&&xt.clearTimeout,Gg=Yt&&Yt.now!==Mn.Date.now&&Yt.now,Zg=xt.setTimeout!==Mn.setTimeout&&xt.setTimeout,Qa=yn.ceil,to=yn.floor,wu=Ue.getOwnPropertySymbols,Kg=Ga?Ga.isBuffer:i,nf=xt.isFinite,Jg=Wa.join,jg=Zh(Ue.keys,Ue),wn=yn.max,zn=yn.min,Qg=Yt.now,t0=xt.parseInt,rf=yn.random,e0=Wa.reverse,xu=ji(xt,"DataView"),na=ji(xt,"Map"),bu=ji(xt,"Promise"),ws=ji(xt,"Set"),ra=ji(xt,"WeakMap"),ia=ji(Ue,"create"),eo=ra&&new ra,xs={},n0=Qi(xu),r0=Qi(na),i0=Qi(bu),s0=Qi(ws),a0=Qi(ra),no=bi?bi.prototype:i,sa=no?no.valueOf:i,sf=no?no.toString:i;function H(n){if(un(n)&&!ge(n)&&!(n instanceof Oe)){if(n instanceof Ir)return n;if(Ne.call(n,"__wrapped__"))return ac(n)}return new Ir(n)}var bs=function(){function n(){}return function(s){if(!rn(s))return{};if(Qh)return Qh(s);n.prototype=s;var _=new n;return n.prototype=i,_}}();function ro(){}function Ir(n,s){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=i}H.templateSettings={escape:R,evaluate:V,interpolate:W,variable:"",imports:{_:H}},H.prototype=ro.prototype,H.prototype.constructor=H,Ir.prototype=bs(ro.prototype),Ir.prototype.constructor=Ir;function Oe(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=he,this.__views__=[]}function o0(){var n=new Oe(this.__wrapped__);return n.__actions__=Qn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Qn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Qn(this.__views__),n}function u0(){if(this.__filtered__){var n=new Oe(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function l0(){var n=this.__wrapped__.value(),s=this.__dir__,_=ge(n),P=s<0,F=_?n.length:0,X=xv(0,F,this.__views__),nt=X.start,st=X.end,ct=st-nt,St=P?st:nt-1,Tt=this.__iteratees__,Pt=Tt.length,$t=0,Kt=zn(ct,this.__takeCount__);if(!_||!P&&F==ct&&Kt==ct)return Mf(n,this.__actions__);var ie=[];t:for(;ct--&&$t<Kt;){St+=s;for(var ye=-1,se=n[St];++ye<Pt;){var Se=Tt[ye],Ie=Se.iteratee,pr=Se.type,Xn=Ie(se);if(pr==Bt)se=Xn;else if(!Xn){if(pr==Ct)continue t;break t}}ie[$t++]=se}return ie}Oe.prototype=bs(ro.prototype),Oe.prototype.constructor=Oe;function Gi(n){var s=-1,_=n==null?0:n.length;for(this.clear();++s<_;){var P=n[s];this.set(P[0],P[1])}}function h0(){this.__data__=ia?ia(null):{},this.size=0}function f0(n){var s=this.has(n)&&delete this.__data__[n];return this.size-=s?1:0,s}function c0(n){var s=this.__data__;if(ia){var _=s[n];return _===b?i:_}return Ne.call(s,n)?s[n]:i}function d0(n){var s=this.__data__;return ia?s[n]!==i:Ne.call(s,n)}function _0(n,s){var _=this.__data__;return this.size+=this.has(n)?0:1,_[n]=ia&&s===i?b:s,this}Gi.prototype.clear=h0,Gi.prototype.delete=f0,Gi.prototype.get=c0,Gi.prototype.has=d0,Gi.prototype.set=_0;function ri(n){var s=-1,_=n==null?0:n.length;for(this.clear();++s<_;){var P=n[s];this.set(P[0],P[1])}}function g0(){this.__data__=[],this.size=0}function v0(n){var s=this.__data__,_=io(s,n);if(_<0)return!1;var P=s.length-1;return _==P?s.pop():Ja.call(s,_,1),--this.size,!0}function p0(n){var s=this.__data__,_=io(s,n);return _<0?i:s[_][1]}function m0(n){return io(this.__data__,n)>-1}function y0(n,s){var _=this.__data__,P=io(_,n);return P<0?(++this.size,_.push([n,s])):_[P][1]=s,this}ri.prototype.clear=g0,ri.prototype.delete=v0,ri.prototype.get=p0,ri.prototype.has=m0,ri.prototype.set=y0;function ii(n){var s=-1,_=n==null?0:n.length;for(this.clear();++s<_;){var P=n[s];this.set(P[0],P[1])}}function w0(){this.size=0,this.__data__={hash:new Gi,map:new(na||ri),string:new Gi}}function x0(n){var s=po(this,n).delete(n);return this.size-=s?1:0,s}function b0(n){return po(this,n).get(n)}function S0(n){return po(this,n).has(n)}function C0(n,s){var _=po(this,n),P=_.size;return _.set(n,s),this.size+=_.size==P?0:1,this}ii.prototype.clear=w0,ii.prototype.delete=x0,ii.prototype.get=b0,ii.prototype.has=S0,ii.prototype.set=C0;function Zi(n){var s=-1,_=n==null?0:n.length;for(this.__data__=new ii;++s<_;)this.add(n[s])}function T0(n){return this.__data__.set(n,b),this}function A0(n){return this.__data__.has(n)}Zi.prototype.add=Zi.prototype.push=T0,Zi.prototype.has=A0;function Vr(n){var s=this.__data__=new ri(n);this.size=s.size}function P0(){this.__data__=new ri,this.size=0}function O0(n){var s=this.__data__,_=s.delete(n);return this.size=s.size,_}function M0(n){return this.__data__.get(n)}function I0(n){return this.__data__.has(n)}function E0(n,s){var _=this.__data__;if(_ instanceof ri){var P=_.__data__;if(!na||P.length<l-1)return P.push([n,s]),this.size=++_.size,this;_=this.__data__=new ii(P)}return _.set(n,s),this.size=_.size,this}Vr.prototype.clear=P0,Vr.prototype.delete=O0,Vr.prototype.get=M0,Vr.prototype.has=I0,Vr.prototype.set=E0;function af(n,s){var _=ge(n),P=!_&&ts(n),F=!_&&!P&&Pi(n),X=!_&&!P&&!F&&As(n),nt=_||P||F||X,st=nt?vu(n.length,Vg):[],ct=st.length;for(var St in n)(s||Ne.call(n,St))&&!(nt&&(St=="length"||F&&(St=="offset"||St=="parent")||X&&(St=="buffer"||St=="byteLength"||St=="byteOffset")||ui(St,ct)))&&st.push(St);return st}function of(n){var s=n.length;return s?n[Lu(0,s-1)]:i}function k0(n,s){return mo(Qn(n),Ki(s,0,n.length))}function L0(n){return mo(Qn(n))}function Su(n,s,_){(_!==i&&!Ur(n[s],_)||_===i&&!(s in n))&&si(n,s,_)}function aa(n,s,_){var P=n[s];(!(Ne.call(n,s)&&Ur(P,_))||_===i&&!(s in n))&&si(n,s,_)}function io(n,s){for(var _=n.length;_--;)if(Ur(n[_][0],s))return _;return-1}function R0(n,s,_,P){return Si(n,function(F,X,nt){s(P,F,_(F),nt)}),P}function uf(n,s){return n&&Gr(s,Sn(s),n)}function D0(n,s){return n&&Gr(s,er(s),n)}function si(n,s,_){s=="__proto__"&&ja?ja(n,s,{configurable:!0,enumerable:!0,value:_,writable:!0}):n[s]=_}function Cu(n,s){for(var _=-1,P=s.length,F=wt(P),X=n==null;++_<P;)F[_]=X?i:il(n,s[_]);return F}function Ki(n,s,_){return n===n&&(_!==i&&(n=n<=_?n:_),s!==i&&(n=n>=s?n:s)),n}function Er(n,s,_,P,F,X){var nt,st=s&A,ct=s&k,St=s&y;if(_&&(nt=F?_(n,P,F,X):_(n)),nt!==i)return nt;if(!rn(n))return n;var Tt=ge(n);if(Tt){if(nt=Sv(n),!st)return Qn(n,nt)}else{var Pt=Bn(n),$t=Pt==jt||Pt==be;if(Pi(n))return kf(n,st);if(Pt==Te||Pt==oe||$t&&!F){if(nt=ct||$t?{}:Jf(n),!st)return ct?cv(n,D0(nt,n)):fv(n,uf(nt,n))}else{if(!Ge[Pt])return F?n:{};nt=Cv(n,Pt,st)}}X||(X=new Vr);var Kt=X.get(n);if(Kt)return Kt;X.set(n,nt),Ac(n)?n.forEach(function(se){nt.add(Er(se,s,_,se,n,X))}):Cc(n)&&n.forEach(function(se,Se){nt.set(Se,Er(se,s,_,Se,n,X))});var ie=St?ct?Wu:qu:ct?er:Sn,ye=Tt?i:ie(n);return Or(ye||n,function(se,Se){ye&&(Se=se,se=n[Se]),aa(nt,Se,Er(se,s,_,Se,n,X))}),nt}function z0(n){var s=Sn(n);return function(_){return lf(_,n,s)}}function lf(n,s,_){var P=_.length;if(n==null)return!P;for(n=Ue(n);P--;){var F=_[P],X=s[F],nt=n[F];if(nt===i&&!(F in n)||!X(nt))return!1}return!0}function hf(n,s,_){if(typeof n!="function")throw new Mr(c);return da(function(){n.apply(i,_)},s)}function oa(n,s,_,P){var F=-1,X=Va,nt=!0,st=n.length,ct=[],St=s.length;if(!st)return ct;_&&(s=Je(s,_r(_))),P?(X=hu,nt=!1):s.length>=l&&(X=ta,nt=!1,s=new Zi(s));t:for(;++F<st;){var Tt=n[F],Pt=_==null?Tt:_(Tt);if(Tt=P||Tt!==0?Tt:0,nt&&Pt===Pt){for(var $t=St;$t--;)if(s[$t]===Pt)continue t;ct.push(Tt)}else X(s,Pt,P)||ct.push(Tt)}return ct}var Si=Bf(Xr),ff=Bf(Au,!0);function B0(n,s){var _=!0;return Si(n,function(P,F,X){return _=!!s(P,F,X),_}),_}function so(n,s,_){for(var P=-1,F=n.length;++P<F;){var X=n[P],nt=s(X);if(nt!=null&&(st===i?nt===nt&&!vr(nt):_(nt,st)))var st=nt,ct=X}return ct}function N0(n,s,_,P){var F=n.length;for(_=pe(_),_<0&&(_=-_>F?0:F+_),P=P===i||P>F?F:pe(P),P<0&&(P+=F),P=_>P?0:Oc(P);_<P;)n[_++]=s;return n}function cf(n,s){var _=[];return Si(n,function(P,F,X){s(P,F,X)&&_.push(P)}),_}function In(n,s,_,P,F){var X=-1,nt=n.length;for(_||(_=Av),F||(F=[]);++X<nt;){var st=n[X];s>0&&_(st)?s>1?In(st,s-1,_,P,F):wi(F,st):P||(F[F.length]=st)}return F}var Tu=Nf(),df=Nf(!0);function Xr(n,s){return n&&Tu(n,s,Sn)}function Au(n,s){return n&&df(n,s,Sn)}function ao(n,s){return yi(s,function(_){return li(n[_])})}function Ji(n,s){s=Ti(s,n);for(var _=0,P=s.length;n!=null&&_<P;)n=n[Zr(s[_++])];return _&&_==P?n:i}function _f(n,s,_){var P=s(n);return ge(n)?P:wi(P,_(n))}function Yn(n){return n==null?n===i?ce:Ce:Xi&&Xi in Ue(n)?wv(n):Lv(n)}function Pu(n,s){return n>s}function F0(n,s){return n!=null&&Ne.call(n,s)}function $0(n,s){return n!=null&&s in Ue(n)}function V0(n,s,_){return n>=zn(s,_)&&n<wn(s,_)}function Ou(n,s,_){for(var P=_?hu:Va,F=n[0].length,X=n.length,nt=X,st=wt(X),ct=1/0,St=[];nt--;){var Tt=n[nt];nt&&s&&(Tt=Je(Tt,_r(s))),ct=zn(Tt.length,ct),st[nt]=!_&&(s||F>=120&&Tt.length>=120)?new Zi(nt&&Tt):i}Tt=n[0];var Pt=-1,$t=st[0];t:for(;++Pt<F&&St.length<ct;){var Kt=Tt[Pt],ie=s?s(Kt):Kt;if(Kt=_||Kt!==0?Kt:0,!($t?ta($t,ie):P(St,ie,_))){for(nt=X;--nt;){var ye=st[nt];if(!(ye?ta(ye,ie):P(n[nt],ie,_)))continue t}$t&&$t.push(ie),St.push(Kt)}}return St}function U0(n,s,_,P){return Xr(n,function(F,X,nt){s(P,_(F),X,nt)}),P}function ua(n,s,_){s=Ti(s,n),n=ec(n,s);var P=n==null?n:n[Zr(Lr(s))];return P==null?i:dr(P,n,_)}function gf(n){return un(n)&&Yn(n)==oe}function q0(n){return un(n)&&Yn(n)==a}function W0(n){return un(n)&&Yn(n)==bt}function la(n,s,_,P,F){return n===s?!0:n==null||s==null||!un(n)&&!un(s)?n!==n&&s!==s:Y0(n,s,_,P,la,F)}function Y0(n,s,_,P,F,X){var nt=ge(n),st=ge(s),ct=nt?$e:Bn(n),St=st?$e:Bn(s);ct=ct==oe?Te:ct,St=St==oe?Te:St;var Tt=ct==Te,Pt=St==Te,$t=ct==St;if($t&&Pi(n)){if(!Pi(s))return!1;nt=!0,Tt=!1}if($t&&!Tt)return X||(X=new Vr),nt||As(n)?Gf(n,s,_,P,F,X):mv(n,s,ct,_,P,F,X);if(!(_&D)){var Kt=Tt&&Ne.call(n,"__wrapped__"),ie=Pt&&Ne.call(s,"__wrapped__");if(Kt||ie){var ye=Kt?n.value():n,se=ie?s.value():s;return X||(X=new Vr),F(ye,se,_,P,X)}}return $t?(X||(X=new Vr),yv(n,s,_,P,F,X)):!1}function H0(n){return un(n)&&Bn(n)==ke}function Mu(n,s,_,P){var F=_.length,X=F,nt=!P;if(n==null)return!X;for(n=Ue(n);F--;){var st=_[F];if(nt&&st[2]?st[1]!==n[st[0]]:!(st[0]in n))return!1}for(;++F<X;){st=_[F];var ct=st[0],St=n[ct],Tt=st[1];if(nt&&st[2]){if(St===i&&!(ct in n))return!1}else{var Pt=new Vr;if(P)var $t=P(St,Tt,ct,n,s,Pt);if(!($t===i?la(Tt,St,D|C,P,Pt):$t))return!1}}return!0}function vf(n){if(!rn(n)||Ov(n))return!1;var s=li(n)?Hg:Zt;return s.test(Qi(n))}function X0(n){return un(n)&&Yn(n)==De}function G0(n){return un(n)&&Bn(n)==hn}function Z0(n){return un(n)&&Co(n.length)&&!!Ke[Yn(n)]}function pf(n){return typeof n=="function"?n:n==null?nr:typeof n=="object"?ge(n)?wf(n[0],n[1]):yf(n):Fc(n)}function Iu(n){if(!ca(n))return jg(n);var s=[];for(var _ in Ue(n))Ne.call(n,_)&&_!="constructor"&&s.push(_);return s}function K0(n){if(!rn(n))return kv(n);var s=ca(n),_=[];for(var P in n)P=="constructor"&&(s||!Ne.call(n,P))||_.push(P);return _}function Eu(n,s){return n<s}function mf(n,s){var _=-1,P=tr(n)?wt(n.length):[];return Si(n,function(F,X,nt){P[++_]=s(F,X,nt)}),P}function yf(n){var s=Hu(n);return s.length==1&&s[0][2]?Qf(s[0][0],s[0][1]):function(_){return _===n||Mu(_,n,s)}}function wf(n,s){return Gu(n)&&jf(s)?Qf(Zr(n),s):function(_){var P=il(_,n);return P===i&&P===s?sl(_,n):la(s,P,D|C)}}function oo(n,s,_,P,F){n!==s&&Tu(s,function(X,nt){if(F||(F=new Vr),rn(X))J0(n,s,nt,_,oo,P,F);else{var st=P?P(Ku(n,nt),X,nt+"",n,s,F):i;st===i&&(st=X),Su(n,nt,st)}},er)}function J0(n,s,_,P,F,X,nt){var st=Ku(n,_),ct=Ku(s,_),St=nt.get(ct);if(St){Su(n,_,St);return}var Tt=X?X(st,ct,_+"",n,s,nt):i,Pt=Tt===i;if(Pt){var $t=ge(ct),Kt=!$t&&Pi(ct),ie=!$t&&!Kt&&As(ct);Tt=ct,$t||Kt||ie?ge(st)?Tt=st:fn(st)?Tt=Qn(st):Kt?(Pt=!1,Tt=kf(ct,!0)):ie?(Pt=!1,Tt=Lf(ct,!0)):Tt=[]:_a(ct)||ts(ct)?(Tt=st,ts(st)?Tt=Mc(st):(!rn(st)||li(st))&&(Tt=Jf(ct))):Pt=!1}Pt&&(nt.set(ct,Tt),F(Tt,ct,P,X,nt),nt.delete(ct)),Su(n,_,Tt)}function xf(n,s){var _=n.length;if(_)return s+=s<0?_:0,ui(s,_)?n[s]:i}function bf(n,s,_){s.length?s=Je(s,function(X){return ge(X)?function(nt){return Ji(nt,X.length===1?X[0]:X)}:X}):s=[nr];var P=-1;s=Je(s,_r(ne()));var F=mf(n,function(X,nt,st){var ct=Je(s,function(St){return St(X)});return{criteria:ct,index:++P,value:X}});return Cg(F,function(X,nt){return hv(X,nt,_)})}function j0(n,s){return Sf(n,s,function(_,P){return sl(n,P)})}function Sf(n,s,_){for(var P=-1,F=s.length,X={};++P<F;){var nt=s[P],st=Ji(n,nt);_(st,nt)&&ha(X,Ti(nt,n),st)}return X}function Q0(n){return function(s){return Ji(s,n)}}function ku(n,s,_,P){var F=P?Sg:gs,X=-1,nt=s.length,st=n;for(n===s&&(s=Qn(s)),_&&(st=Je(n,_r(_)));++X<nt;)for(var ct=0,St=s[X],Tt=_?_(St):St;(ct=F(st,Tt,ct,P))>-1;)st!==n&&Ja.call(st,ct,1),Ja.call(n,ct,1);return n}function Cf(n,s){for(var _=n?s.length:0,P=_-1;_--;){var F=s[_];if(_==P||F!==X){var X=F;ui(F)?Ja.call(n,F,1):zu(n,F)}}return n}function Lu(n,s){return n+to(rf()*(s-n+1))}function tv(n,s,_,P){for(var F=-1,X=wn(Qa((s-n)/(_||1)),0),nt=wt(X);X--;)nt[P?X:++F]=n,n+=_;return nt}function Ru(n,s){var _="";if(!n||s<1||s>Ht)return _;do s%2&&(_+=n),s=to(s/2),s&&(n+=n);while(s);return _}function xe(n,s){return Ju(tc(n,s,nr),n+"")}function ev(n){return of(Ps(n))}function nv(n,s){var _=Ps(n);return mo(_,Ki(s,0,_.length))}function ha(n,s,_,P){if(!rn(n))return n;s=Ti(s,n);for(var F=-1,X=s.length,nt=X-1,st=n;st!=null&&++F<X;){var ct=Zr(s[F]),St=_;if(ct==="__proto__"||ct==="constructor"||ct==="prototype")return n;if(F!=nt){var Tt=st[ct];St=P?P(Tt,ct,st):i,St===i&&(St=rn(Tt)?Tt:ui(s[F+1])?[]:{})}aa(st,ct,St),st=st[ct]}return n}var Tf=eo?function(n,s){return eo.set(n,s),n}:nr,rv=ja?function(n,s){return ja(n,"toString",{configurable:!0,enumerable:!1,value:ol(s),writable:!0})}:nr;function iv(n){return mo(Ps(n))}function kr(n,s,_){var P=-1,F=n.length;s<0&&(s=-s>F?0:F+s),_=_>F?F:_,_<0&&(_+=F),F=s>_?0:_-s>>>0,s>>>=0;for(var X=wt(F);++P<F;)X[P]=n[P+s];return X}function sv(n,s){var _;return Si(n,function(P,F,X){return _=s(P,F,X),!_}),!!_}function uo(n,s,_){var P=0,F=n==null?P:n.length;if(typeof s=="number"&&s===s&&F<=tn){for(;P<F;){var X=P+F>>>1,nt=n[X];nt!==null&&!vr(nt)&&(_?nt<=s:nt<s)?P=X+1:F=X}return F}return Du(n,s,nr,_)}function Du(n,s,_,P){var F=0,X=n==null?0:n.length;if(X===0)return 0;s=_(s);for(var nt=s!==s,st=s===null,ct=vr(s),St=s===i;F<X;){var Tt=to((F+X)/2),Pt=_(n[Tt]),$t=Pt!==i,Kt=Pt===null,ie=Pt===Pt,ye=vr(Pt);if(nt)var se=P||ie;else St?se=ie&&(P||$t):st?se=ie&&$t&&(P||!Kt):ct?se=ie&&$t&&!Kt&&(P||!ye):Kt||ye?se=!1:se=P?Pt<=s:Pt<s;se?F=Tt+1:X=Tt}return zn(X,Me)}function Af(n,s){for(var _=-1,P=n.length,F=0,X=[];++_<P;){var nt=n[_],st=s?s(nt):nt;if(!_||!Ur(st,ct)){var ct=st;X[F++]=nt===0?0:nt}}return X}function Pf(n){return typeof n=="number"?n:vr(n)?ae:+n}function gr(n){if(typeof n=="string")return n;if(ge(n))return Je(n,gr)+"";if(vr(n))return sf?sf.call(n):"";var s=n+"";return s=="0"&&1/n==-Vt?"-0":s}function Ci(n,s,_){var P=-1,F=Va,X=n.length,nt=!0,st=[],ct=st;if(_)nt=!1,F=hu;else if(X>=l){var St=s?null:vv(n);if(St)return qa(St);nt=!1,F=ta,ct=new Zi}else ct=s?[]:st;t:for(;++P<X;){var Tt=n[P],Pt=s?s(Tt):Tt;if(Tt=_||Tt!==0?Tt:0,nt&&Pt===Pt){for(var $t=ct.length;$t--;)if(ct[$t]===Pt)continue t;s&&ct.push(Pt),st.push(Tt)}else F(ct,Pt,_)||(ct!==st&&ct.push(Pt),st.push(Tt))}return st}function zu(n,s){return s=Ti(s,n),n=ec(n,s),n==null||delete n[Zr(Lr(s))]}function Of(n,s,_,P){return ha(n,s,_(Ji(n,s)),P)}function lo(n,s,_,P){for(var F=n.length,X=P?F:-1;(P?X--:++X<F)&&s(n[X],X,n););return _?kr(n,P?0:X,P?X+1:F):kr(n,P?X+1:0,P?F:X)}function Mf(n,s){var _=n;return _ instanceof Oe&&(_=_.value()),fu(s,function(P,F){return F.func.apply(F.thisArg,wi([P],F.args))},_)}function Bu(n,s,_){var P=n.length;if(P<2)return P?Ci(n[0]):[];for(var F=-1,X=wt(P);++F<P;)for(var nt=n[F],st=-1;++st<P;)st!=F&&(X[F]=oa(X[F]||nt,n[st],s,_));return Ci(In(X,1),s,_)}function If(n,s,_){for(var P=-1,F=n.length,X=s.length,nt={};++P<F;){var st=P<X?s[P]:i;_(nt,n[P],st)}return nt}function Nu(n){return fn(n)?n:[]}function Fu(n){return typeof n=="function"?n:nr}function Ti(n,s){return ge(n)?n:Gu(n,s)?[n]:sc(Be(n))}var av=xe;function Ai(n,s,_){var P=n.length;return _=_===i?P:_,!s&&_>=P?n:kr(n,s,_)}var Ef=Xg||function(n){return Mn.clearTimeout(n)};function kf(n,s){if(s)return n.slice();var _=n.length,P=jh?jh(_):new n.constructor(_);return n.copy(P),P}function $u(n){var s=new n.constructor(n.byteLength);return new Za(s).set(new Za(n)),s}function ov(n,s){var _=s?$u(n.buffer):n.buffer;return new n.constructor(_,n.byteOffset,n.byteLength)}function uv(n){var s=new n.constructor(n.source,Qt.exec(n));return s.lastIndex=n.lastIndex,s}function lv(n){return sa?Ue(sa.call(n)):{}}function Lf(n,s){var _=s?$u(n.buffer):n.buffer;return new n.constructor(_,n.byteOffset,n.length)}function Rf(n,s){if(n!==s){var _=n!==i,P=n===null,F=n===n,X=vr(n),nt=s!==i,st=s===null,ct=s===s,St=vr(s);if(!st&&!St&&!X&&n>s||X&&nt&&ct&&!st&&!St||P&&nt&&ct||!_&&ct||!F)return 1;if(!P&&!X&&!St&&n<s||St&&_&&F&&!P&&!X||st&&_&&F||!nt&&F||!ct)return-1}return 0}function hv(n,s,_){for(var P=-1,F=n.criteria,X=s.criteria,nt=F.length,st=_.length;++P<nt;){var ct=Rf(F[P],X[P]);if(ct){if(P>=st)return ct;var St=_[P];return ct*(St=="desc"?-1:1)}}return n.index-s.index}function Df(n,s,_,P){for(var F=-1,X=n.length,nt=_.length,st=-1,ct=s.length,St=wn(X-nt,0),Tt=wt(ct+St),Pt=!P;++st<ct;)Tt[st]=s[st];for(;++F<nt;)(Pt||F<X)&&(Tt[_[F]]=n[F]);for(;St--;)Tt[st++]=n[F++];return Tt}function zf(n,s,_,P){for(var F=-1,X=n.length,nt=-1,st=_.length,ct=-1,St=s.length,Tt=wn(X-st,0),Pt=wt(Tt+St),$t=!P;++F<Tt;)Pt[F]=n[F];for(var Kt=F;++ct<St;)Pt[Kt+ct]=s[ct];for(;++nt<st;)($t||F<X)&&(Pt[Kt+_[nt]]=n[F++]);return Pt}function Qn(n,s){var _=-1,P=n.length;for(s||(s=wt(P));++_<P;)s[_]=n[_];return s}function Gr(n,s,_,P){var F=!_;_||(_={});for(var X=-1,nt=s.length;++X<nt;){var st=s[X],ct=P?P(_[st],n[st],st,_,n):i;ct===i&&(ct=n[st]),F?si(_,st,ct):aa(_,st,ct)}return _}function fv(n,s){return Gr(n,Xu(n),s)}function cv(n,s){return Gr(n,Zf(n),s)}function ho(n,s){return function(_,P){var F=ge(_)?pg:R0,X=s?s():{};return F(_,n,ne(P,2),X)}}function Ss(n){return xe(function(s,_){var P=-1,F=_.length,X=F>1?_[F-1]:i,nt=F>2?_[2]:i;for(X=n.length>3&&typeof X=="function"?(F--,X):i,nt&&Hn(_[0],_[1],nt)&&(X=F<3?i:X,F=1),s=Ue(s);++P<F;){var st=_[P];st&&n(s,st,P,X)}return s})}function Bf(n,s){return function(_,P){if(_==null)return _;if(!tr(_))return n(_,P);for(var F=_.length,X=s?F:-1,nt=Ue(_);(s?X--:++X<F)&&P(nt[X],X,nt)!==!1;);return _}}function Nf(n){return function(s,_,P){for(var F=-1,X=Ue(s),nt=P(s),st=nt.length;st--;){var ct=nt[n?st:++F];if(_(X[ct],ct,X)===!1)break}return s}}function dv(n,s,_){var P=s&U,F=fa(n);function X(){var nt=this&&this!==Mn&&this instanceof X?F:n;return nt.apply(P?_:this,arguments)}return X}function Ff(n){return function(s){s=Be(s);var _=vs(s)?$r(s):i,P=_?_[0]:s.charAt(0),F=_?Ai(_,1).join(""):s.slice(1);return P[n]()+F}}function Cs(n){return function(s){return fu(Bc(zc(s).replace(rg,"")),n,"")}}function fa(n){return function(){var s=arguments;switch(s.length){case 0:return new n;case 1:return new n(s[0]);case 2:return new n(s[0],s[1]);case 3:return new n(s[0],s[1],s[2]);case 4:return new n(s[0],s[1],s[2],s[3]);case 5:return new n(s[0],s[1],s[2],s[3],s[4]);case 6:return new n(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new n(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var _=bs(n.prototype),P=n.apply(_,s);return rn(P)?P:_}}function _v(n,s,_){var P=fa(n);function F(){for(var X=arguments.length,nt=wt(X),st=X,ct=Ts(F);st--;)nt[st]=arguments[st];var St=X<3&&nt[0]!==ct&&nt[X-1]!==ct?[]:xi(nt,ct);if(X-=St.length,X<_)return Wf(n,s,fo,F.placeholder,i,nt,St,i,i,_-X);var Tt=this&&this!==Mn&&this instanceof F?P:n;return dr(Tt,this,nt)}return F}function $f(n){return function(s,_,P){var F=Ue(s);if(!tr(s)){var X=ne(_,3);s=Sn(s),_=function(st){return X(F[st],st,F)}}var nt=n(s,_,P);return nt>-1?F[X?s[nt]:nt]:i}}function Vf(n){return oi(function(s){var _=s.length,P=_,F=Ir.prototype.thru;for(n&&s.reverse();P--;){var X=s[P];if(typeof X!="function")throw new Mr(c);if(F&&!nt&&vo(X)=="wrapper")var nt=new Ir([],!0)}for(P=nt?P:_;++P<_;){X=s[P];var st=vo(X),ct=st=="wrapper"?Yu(X):i;ct&&Zu(ct[0])&&ct[1]==(ft|J|ht|gt)&&!ct[4].length&&ct[9]==1?nt=nt[vo(ct[0])].apply(nt,ct[3]):nt=X.length==1&&Zu(X)?nt[st]():nt.thru(X)}return function(){var St=arguments,Tt=St[0];if(nt&&St.length==1&&ge(Tt))return nt.plant(Tt).value();for(var Pt=0,$t=_?s[Pt].apply(this,St):Tt;++Pt<_;)$t=s[Pt].call(this,$t);return $t}})}function fo(n,s,_,P,F,X,nt,st,ct,St){var Tt=s&ft,Pt=s&U,$t=s&$,Kt=s&(J|ut),ie=s&ot,ye=$t?i:fa(n);function se(){for(var Se=arguments.length,Ie=wt(Se),pr=Se;pr--;)Ie[pr]=arguments[pr];if(Kt)var Xn=Ts(se),mr=Ag(Ie,Xn);if(P&&(Ie=Df(Ie,P,F,Kt)),X&&(Ie=zf(Ie,X,nt,Kt)),Se-=mr,Kt&&Se<St){var cn=xi(Ie,Xn);return Wf(n,s,fo,se.placeholder,_,Ie,cn,st,ct,St-Se)}var qr=Pt?_:this,fi=$t?qr[n]:n;return Se=Ie.length,st?Ie=Rv(Ie,st):ie&&Se>1&&Ie.reverse(),Tt&&ct<Se&&(Ie.length=ct),this&&this!==Mn&&this instanceof se&&(fi=ye||fa(fi)),fi.apply(qr,Ie)}return se}function Uf(n,s){return function(_,P){return U0(_,n,s(P),{})}}function co(n,s){return function(_,P){var F;if(_===i&&P===i)return s;if(_!==i&&(F=_),P!==i){if(F===i)return P;typeof _=="string"||typeof P=="string"?(_=gr(_),P=gr(P)):(_=Pf(_),P=Pf(P)),F=n(_,P)}return F}}function Vu(n){return oi(function(s){return s=Je(s,_r(ne())),xe(function(_){var P=this;return n(s,function(F){return dr(F,P,_)})})})}function _o(n,s){s=s===i?" ":gr(s);var _=s.length;if(_<2)return _?Ru(s,n):s;var P=Ru(s,Qa(n/ps(s)));return vs(s)?Ai($r(P),0,n).join(""):P.slice(0,n)}function gv(n,s,_,P){var F=s&U,X=fa(n);function nt(){for(var st=-1,ct=arguments.length,St=-1,Tt=P.length,Pt=wt(Tt+ct),$t=this&&this!==Mn&&this instanceof nt?X:n;++St<Tt;)Pt[St]=P[St];for(;ct--;)Pt[St++]=arguments[++st];return dr($t,F?_:this,Pt)}return nt}function qf(n){return function(s,_,P){return P&&typeof P!="number"&&Hn(s,_,P)&&(_=P=i),s=hi(s),_===i?(_=s,s=0):_=hi(_),P=P===i?s<_?1:-1:hi(P),tv(s,_,P,n)}}function go(n){return function(s,_){return typeof s=="string"&&typeof _=="string"||(s=Rr(s),_=Rr(_)),n(s,_)}}function Wf(n,s,_,P,F,X,nt,st,ct,St){var Tt=s&J,Pt=Tt?nt:i,$t=Tt?i:nt,Kt=Tt?X:i,ie=Tt?i:X;s|=Tt?ht:dt,s&=~(Tt?dt:ht),s&K||(s&=~(U|$));var ye=[n,s,F,Kt,Pt,ie,$t,st,ct,St],se=_.apply(i,ye);return Zu(n)&&nc(se,ye),se.placeholder=P,rc(se,n,s)}function Uu(n){var s=yn[n];return function(_,P){if(_=Rr(_),P=P==null?0:zn(pe(P),292),P&&nf(_)){var F=(Be(_)+"e").split("e"),X=s(F[0]+"e"+(+F[1]+P));return F=(Be(X)+"e").split("e"),+(F[0]+"e"+(+F[1]-P))}return s(_)}}var vv=ws&&1/qa(new ws([,-0]))[1]==Vt?function(n){return new ws(n)}:hl;function Yf(n){return function(s){var _=Bn(s);return _==ke?mu(s):_==hn?Lg(s):Tg(s,n(s))}}function ai(n,s,_,P,F,X,nt,st){var ct=s&$;if(!ct&&typeof n!="function")throw new Mr(c);var St=P?P.length:0;if(St||(s&=~(ht|dt),P=F=i),nt=nt===i?nt:wn(pe(nt),0),st=st===i?st:pe(st),St-=F?F.length:0,s&dt){var Tt=P,Pt=F;P=F=i}var $t=ct?i:Yu(n),Kt=[n,s,_,P,F,Tt,Pt,X,nt,st];if($t&&Ev(Kt,$t),n=Kt[0],s=Kt[1],_=Kt[2],P=Kt[3],F=Kt[4],st=Kt[9]=Kt[9]===i?ct?0:n.length:wn(Kt[9]-St,0),!st&&s&(J|ut)&&(s&=~(J|ut)),!s||s==U)var ie=dv(n,s,_);else s==J||s==ut?ie=_v(n,s,st):(s==ht||s==(U|ht))&&!F.length?ie=gv(n,s,_,P):ie=fo.apply(i,Kt);var ye=$t?Tf:nc;return rc(ye(ie,Kt),n,s)}function Hf(n,s,_,P){return n===i||Ur(n,ys[_])&&!Ne.call(P,_)?s:n}function Xf(n,s,_,P,F,X){return rn(n)&&rn(s)&&(X.set(s,n),oo(n,s,i,Xf,X),X.delete(s)),n}function pv(n){return _a(n)?i:n}function Gf(n,s,_,P,F,X){var nt=_&D,st=n.length,ct=s.length;if(st!=ct&&!(nt&&ct>st))return!1;var St=X.get(n),Tt=X.get(s);if(St&&Tt)return St==s&&Tt==n;var Pt=-1,$t=!0,Kt=_&C?new Zi:i;for(X.set(n,s),X.set(s,n);++Pt<st;){var ie=n[Pt],ye=s[Pt];if(P)var se=nt?P(ye,ie,Pt,s,n,X):P(ie,ye,Pt,n,s,X);if(se!==i){if(se)continue;$t=!1;break}if(Kt){if(!cu(s,function(Se,Ie){if(!ta(Kt,Ie)&&(ie===Se||F(ie,Se,_,P,X)))return Kt.push(Ie)})){$t=!1;break}}else if(!(ie===ye||F(ie,ye,_,P,X))){$t=!1;break}}return X.delete(n),X.delete(s),$t}function mv(n,s,_,P,F,X,nt){switch(_){case f:if(n.byteLength!=s.byteLength||n.byteOffset!=s.byteOffset)return!1;n=n.buffer,s=s.buffer;case a:return!(n.byteLength!=s.byteLength||!X(new Za(n),new Za(s)));case At:case bt:case Ye:return Ur(+n,+s);case Nt:return n.name==s.name&&n.message==s.message;case De:case Le:return n==s+"";case ke:var st=mu;case hn:var ct=P&D;if(st||(st=qa),n.size!=s.size&&!ct)return!1;var St=nt.get(n);if(St)return St==s;P|=C,nt.set(n,s);var Tt=Gf(st(n),st(s),P,F,X,nt);return nt.delete(n),Tt;case hr:if(sa)return sa.call(n)==sa.call(s)}return!1}function yv(n,s,_,P,F,X){var nt=_&D,st=qu(n),ct=st.length,St=qu(s),Tt=St.length;if(ct!=Tt&&!nt)return!1;for(var Pt=ct;Pt--;){var $t=st[Pt];if(!(nt?$t in s:Ne.call(s,$t)))return!1}var Kt=X.get(n),ie=X.get(s);if(Kt&&ie)return Kt==s&&ie==n;var ye=!0;X.set(n,s),X.set(s,n);for(var se=nt;++Pt<ct;){$t=st[Pt];var Se=n[$t],Ie=s[$t];if(P)var pr=nt?P(Ie,Se,$t,s,n,X):P(Se,Ie,$t,n,s,X);if(!(pr===i?Se===Ie||F(Se,Ie,_,P,X):pr)){ye=!1;break}se||(se=$t=="constructor")}if(ye&&!se){var Xn=n.constructor,mr=s.constructor;Xn!=mr&&"constructor"in n&&"constructor"in s&&!(typeof Xn=="function"&&Xn instanceof Xn&&typeof mr=="function"&&mr instanceof mr)&&(ye=!1)}return X.delete(n),X.delete(s),ye}function oi(n){return Ju(tc(n,i,lc),n+"")}function qu(n){return _f(n,Sn,Xu)}function Wu(n){return _f(n,er,Zf)}var Yu=eo?function(n){return eo.get(n)}:hl;function vo(n){for(var s=n.name+"",_=xs[s],P=Ne.call(xs,s)?_.length:0;P--;){var F=_[P],X=F.func;if(X==null||X==n)return F.name}return s}function Ts(n){var s=Ne.call(H,"placeholder")?H:n;return s.placeholder}function ne(){var n=H.iteratee||ul;return n=n===ul?pf:n,arguments.length?n(arguments[0],arguments[1]):n}function po(n,s){var _=n.__data__;return Pv(s)?_[typeof s=="string"?"string":"hash"]:_.map}function Hu(n){for(var s=Sn(n),_=s.length;_--;){var P=s[_],F=n[P];s[_]=[P,F,jf(F)]}return s}function ji(n,s){var _=Ig(n,s);return vf(_)?_:i}function wv(n){var s=Ne.call(n,Xi),_=n[Xi];try{n[Xi]=i;var P=!0}catch{}var F=Xa.call(n);return P&&(s?n[Xi]=_:delete n[Xi]),F}var Xu=wu?function(n){return n==null?[]:(n=Ue(n),yi(wu(n),function(s){return tf.call(n,s)}))}:fl,Zf=wu?function(n){for(var s=[];n;)wi(s,Xu(n)),n=Ka(n);return s}:fl,Bn=Yn;(xu&&Bn(new xu(new ArrayBuffer(1)))!=f||na&&Bn(new na)!=ke||bu&&Bn(bu.resolve())!=kn||ws&&Bn(new ws)!=hn||ra&&Bn(new ra)!=t)&&(Bn=function(n){var s=Yn(n),_=s==Te?n.constructor:i,P=_?Qi(_):"";if(P)switch(P){case n0:return f;case r0:return ke;case i0:return kn;case s0:return hn;case a0:return t}return s});function xv(n,s,_){for(var P=-1,F=_.length;++P<F;){var X=_[P],nt=X.size;switch(X.type){case"drop":n+=nt;break;case"dropRight":s-=nt;break;case"take":s=zn(s,n+nt);break;case"takeRight":n=wn(n,s-nt);break}}return{start:n,end:s}}function bv(n){var s=n.match(_t);return s?s[1].split(vt):[]}function Kf(n,s,_){s=Ti(s,n);for(var P=-1,F=s.length,X=!1;++P<F;){var nt=Zr(s[P]);if(!(X=n!=null&&_(n,nt)))break;n=n[nt]}return X||++P!=F?X:(F=n==null?0:n.length,!!F&&Co(F)&&ui(nt,F)&&(ge(n)||ts(n)))}function Sv(n){var s=n.length,_=new n.constructor(s);return s&&typeof n[0]=="string"&&Ne.call(n,"index")&&(_.index=n.index,_.input=n.input),_}function Jf(n){return typeof n.constructor=="function"&&!ca(n)?bs(Ka(n)):{}}function Cv(n,s,_){var P=n.constructor;switch(s){case a:return $u(n);case At:case bt:return new P(+n);case f:return ov(n,_);case d:case v:case m:case p:case w:case T:case E:case L:case I:return Lf(n,_);case ke:return new P;case Ye:case Le:return new P(n);case De:return uv(n);case hn:return new P;case hr:return lv(n)}}function Tv(n,s){var _=s.length;if(!_)return n;var P=_-1;return s[P]=(_>1?"& ":"")+s[P],s=s.join(_>2?", ":" "),n.replace(at,`{
/* [wrapped with `+s+`] */
`)}function Av(n){return ge(n)||ts(n)||!!(ef&&n&&n[ef])}function ui(n,s){var _=typeof n;return s=s??Ht,!!s&&(_=="number"||_!="symbol"&&Jt.test(n))&&n>-1&&n%1==0&&n<s}function Hn(n,s,_){if(!rn(_))return!1;var P=typeof s;return(P=="number"?tr(_)&&ui(s,_.length):P=="string"&&s in _)?Ur(_[s],n):!1}function Gu(n,s){if(ge(n))return!1;var _=typeof n;return _=="number"||_=="symbol"||_=="boolean"||n==null||vr(n)?!0:j.test(n)||!Z.test(n)||s!=null&&n in Ue(s)}function Pv(n){var s=typeof n;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null}function Zu(n){var s=vo(n),_=H[s];if(typeof _!="function"||!(s in Oe.prototype))return!1;if(n===_)return!0;var P=Yu(_);return!!P&&n===P[0]}function Ov(n){return!!Jh&&Jh in n}var Mv=Ya?li:cl;function ca(n){var s=n&&n.constructor,_=typeof s=="function"&&s.prototype||ys;return n===_}function jf(n){return n===n&&!rn(n)}function Qf(n,s){return function(_){return _==null?!1:_[n]===s&&(s!==i||n in Ue(_))}}function Iv(n){var s=bo(n,function(P){return _.size===x&&_.clear(),P}),_=s.cache;return s}function Ev(n,s){var _=n[1],P=s[1],F=_|P,X=F<(U|$|ft),nt=P==ft&&_==J||P==ft&&_==gt&&n[7].length<=s[8]||P==(ft|gt)&&s[7].length<=s[8]&&_==J;if(!(X||nt))return n;P&U&&(n[2]=s[2],F|=_&U?0:K);var st=s[3];if(st){var ct=n[3];n[3]=ct?Df(ct,st,s[4]):st,n[4]=ct?xi(n[3],S):s[4]}return st=s[5],st&&(ct=n[5],n[5]=ct?zf(ct,st,s[6]):st,n[6]=ct?xi(n[5],S):s[6]),st=s[7],st&&(n[7]=st),P&ft&&(n[8]=n[8]==null?s[8]:zn(n[8],s[8])),n[9]==null&&(n[9]=s[9]),n[0]=s[0],n[1]=F,n}function kv(n){var s=[];if(n!=null)for(var _ in Ue(n))s.push(_);return s}function Lv(n){return Xa.call(n)}function tc(n,s,_){return s=wn(s===i?n.length-1:s,0),function(){for(var P=arguments,F=-1,X=wn(P.length-s,0),nt=wt(X);++F<X;)nt[F]=P[s+F];F=-1;for(var st=wt(s+1);++F<s;)st[F]=P[F];return st[s]=_(nt),dr(n,this,st)}}function ec(n,s){return s.length<2?n:Ji(n,kr(s,0,-1))}function Rv(n,s){for(var _=n.length,P=zn(s.length,_),F=Qn(n);P--;){var X=s[P];n[P]=ui(X,_)?F[X]:i}return n}function Ku(n,s){if(!(s==="constructor"&&typeof n[s]=="function")&&s!="__proto__")return n[s]}var nc=ic(Tf),da=Zg||function(n,s){return Mn.setTimeout(n,s)},Ju=ic(rv);function rc(n,s,_){var P=s+"";return Ju(n,Tv(P,Dv(bv(P),_)))}function ic(n){var s=0,_=0;return function(){var P=Qg(),F=Rt-(P-_);if(_=P,F>0){if(++s>=Lt)return arguments[0]}else s=0;return n.apply(i,arguments)}}function mo(n,s){var _=-1,P=n.length,F=P-1;for(s=s===i?P:s;++_<s;){var X=Lu(_,F),nt=n[X];n[X]=n[_],n[_]=nt}return n.length=s,n}var sc=Iv(function(n){var s=[];return n.charCodeAt(0)===46&&s.push(""),n.replace(Q,function(_,P,F,X){s.push(F?X.replace(kt,"$1"):P||_)}),s});function Zr(n){if(typeof n=="string"||vr(n))return n;var s=n+"";return s=="0"&&1/n==-Vt?"-0":s}function Qi(n){if(n!=null){try{return Ha.call(n)}catch{}try{return n+""}catch{}}return""}function Dv(n,s){return Or(me,function(_){var P="_."+_[0];s&_[1]&&!Va(n,P)&&n.push(P)}),n.sort()}function ac(n){if(n instanceof Oe)return n.clone();var s=new Ir(n.__wrapped__,n.__chain__);return s.__actions__=Qn(n.__actions__),s.__index__=n.__index__,s.__values__=n.__values__,s}function zv(n,s,_){(_?Hn(n,s,_):s===i)?s=1:s=wn(pe(s),0);var P=n==null?0:n.length;if(!P||s<1)return[];for(var F=0,X=0,nt=wt(Qa(P/s));F<P;)nt[X++]=kr(n,F,F+=s);return nt}function Bv(n){for(var s=-1,_=n==null?0:n.length,P=0,F=[];++s<_;){var X=n[s];X&&(F[P++]=X)}return F}function Nv(){var n=arguments.length;if(!n)return[];for(var s=wt(n-1),_=arguments[0],P=n;P--;)s[P-1]=arguments[P];return wi(ge(_)?Qn(_):[_],In(s,1))}var Fv=xe(function(n,s){return fn(n)?oa(n,In(s,1,fn,!0)):[]}),$v=xe(function(n,s){var _=Lr(s);return fn(_)&&(_=i),fn(n)?oa(n,In(s,1,fn,!0),ne(_,2)):[]}),Vv=xe(function(n,s){var _=Lr(s);return fn(_)&&(_=i),fn(n)?oa(n,In(s,1,fn,!0),i,_):[]});function Uv(n,s,_){var P=n==null?0:n.length;return P?(s=_||s===i?1:pe(s),kr(n,s<0?0:s,P)):[]}function qv(n,s,_){var P=n==null?0:n.length;return P?(s=_||s===i?1:pe(s),s=P-s,kr(n,0,s<0?0:s)):[]}function Wv(n,s){return n&&n.length?lo(n,ne(s,3),!0,!0):[]}function Yv(n,s){return n&&n.length?lo(n,ne(s,3),!0):[]}function Hv(n,s,_,P){var F=n==null?0:n.length;return F?(_&&typeof _!="number"&&Hn(n,s,_)&&(_=0,P=F),N0(n,s,_,P)):[]}function oc(n,s,_){var P=n==null?0:n.length;if(!P)return-1;var F=_==null?0:pe(_);return F<0&&(F=wn(P+F,0)),Ua(n,ne(s,3),F)}function uc(n,s,_){var P=n==null?0:n.length;if(!P)return-1;var F=P-1;return _!==i&&(F=pe(_),F=_<0?wn(P+F,0):zn(F,P-1)),Ua(n,ne(s,3),F,!0)}function lc(n){var s=n==null?0:n.length;return s?In(n,1):[]}function Xv(n){var s=n==null?0:n.length;return s?In(n,Vt):[]}function Gv(n,s){var _=n==null?0:n.length;return _?(s=s===i?1:pe(s),In(n,s)):[]}function Zv(n){for(var s=-1,_=n==null?0:n.length,P={};++s<_;){var F=n[s];P[F[0]]=F[1]}return P}function hc(n){return n&&n.length?n[0]:i}function Kv(n,s,_){var P=n==null?0:n.length;if(!P)return-1;var F=_==null?0:pe(_);return F<0&&(F=wn(P+F,0)),gs(n,s,F)}function Jv(n){var s=n==null?0:n.length;return s?kr(n,0,-1):[]}var jv=xe(function(n){var s=Je(n,Nu);return s.length&&s[0]===n[0]?Ou(s):[]}),Qv=xe(function(n){var s=Lr(n),_=Je(n,Nu);return s===Lr(_)?s=i:_.pop(),_.length&&_[0]===n[0]?Ou(_,ne(s,2)):[]}),tp=xe(function(n){var s=Lr(n),_=Je(n,Nu);return s=typeof s=="function"?s:i,s&&_.pop(),_.length&&_[0]===n[0]?Ou(_,i,s):[]});function ep(n,s){return n==null?"":Jg.call(n,s)}function Lr(n){var s=n==null?0:n.length;return s?n[s-1]:i}function np(n,s,_){var P=n==null?0:n.length;if(!P)return-1;var F=P;return _!==i&&(F=pe(_),F=F<0?wn(P+F,0):zn(F,P-1)),s===s?Dg(n,s,F):Ua(n,qh,F,!0)}function rp(n,s){return n&&n.length?xf(n,pe(s)):i}var ip=xe(fc);function fc(n,s){return n&&n.length&&s&&s.length?ku(n,s):n}function sp(n,s,_){return n&&n.length&&s&&s.length?ku(n,s,ne(_,2)):n}function ap(n,s,_){return n&&n.length&&s&&s.length?ku(n,s,i,_):n}var op=oi(function(n,s){var _=n==null?0:n.length,P=Cu(n,s);return Cf(n,Je(s,function(F){return ui(F,_)?+F:F}).sort(Rf)),P});function up(n,s){var _=[];if(!(n&&n.length))return _;var P=-1,F=[],X=n.length;for(s=ne(s,3);++P<X;){var nt=n[P];s(nt,P,n)&&(_.push(nt),F.push(P))}return Cf(n,F),_}function ju(n){return n==null?n:e0.call(n)}function lp(n,s,_){var P=n==null?0:n.length;return P?(_&&typeof _!="number"&&Hn(n,s,_)?(s=0,_=P):(s=s==null?0:pe(s),_=_===i?P:pe(_)),kr(n,s,_)):[]}function hp(n,s){return uo(n,s)}function fp(n,s,_){return Du(n,s,ne(_,2))}function cp(n,s){var _=n==null?0:n.length;if(_){var P=uo(n,s);if(P<_&&Ur(n[P],s))return P}return-1}function dp(n,s){return uo(n,s,!0)}function _p(n,s,_){return Du(n,s,ne(_,2),!0)}function gp(n,s){var _=n==null?0:n.length;if(_){var P=uo(n,s,!0)-1;if(Ur(n[P],s))return P}return-1}function vp(n){return n&&n.length?Af(n):[]}function pp(n,s){return n&&n.length?Af(n,ne(s,2)):[]}function mp(n){var s=n==null?0:n.length;return s?kr(n,1,s):[]}function yp(n,s,_){return n&&n.length?(s=_||s===i?1:pe(s),kr(n,0,s<0?0:s)):[]}function wp(n,s,_){var P=n==null?0:n.length;return P?(s=_||s===i?1:pe(s),s=P-s,kr(n,s<0?0:s,P)):[]}function xp(n,s){return n&&n.length?lo(n,ne(s,3),!1,!0):[]}function bp(n,s){return n&&n.length?lo(n,ne(s,3)):[]}var Sp=xe(function(n){return Ci(In(n,1,fn,!0))}),Cp=xe(function(n){var s=Lr(n);return fn(s)&&(s=i),Ci(In(n,1,fn,!0),ne(s,2))}),Tp=xe(function(n){var s=Lr(n);return s=typeof s=="function"?s:i,Ci(In(n,1,fn,!0),i,s)});function Ap(n){return n&&n.length?Ci(n):[]}function Pp(n,s){return n&&n.length?Ci(n,ne(s,2)):[]}function Op(n,s){return s=typeof s=="function"?s:i,n&&n.length?Ci(n,i,s):[]}function Qu(n){if(!(n&&n.length))return[];var s=0;return n=yi(n,function(_){if(fn(_))return s=wn(_.length,s),!0}),vu(s,function(_){return Je(n,du(_))})}function cc(n,s){if(!(n&&n.length))return[];var _=Qu(n);return s==null?_:Je(_,function(P){return dr(s,i,P)})}var Mp=xe(function(n,s){return fn(n)?oa(n,s):[]}),Ip=xe(function(n){return Bu(yi(n,fn))}),Ep=xe(function(n){var s=Lr(n);return fn(s)&&(s=i),Bu(yi(n,fn),ne(s,2))}),kp=xe(function(n){var s=Lr(n);return s=typeof s=="function"?s:i,Bu(yi(n,fn),i,s)}),Lp=xe(Qu);function Rp(n,s){return If(n||[],s||[],aa)}function Dp(n,s){return If(n||[],s||[],ha)}var zp=xe(function(n){var s=n.length,_=s>1?n[s-1]:i;return _=typeof _=="function"?(n.pop(),_):i,cc(n,_)});function dc(n){var s=H(n);return s.__chain__=!0,s}function Bp(n,s){return s(n),n}function yo(n,s){return s(n)}var Np=oi(function(n){var s=n.length,_=s?n[0]:0,P=this.__wrapped__,F=function(X){return Cu(X,n)};return s>1||this.__actions__.length||!(P instanceof Oe)||!ui(_)?this.thru(F):(P=P.slice(_,+_+(s?1:0)),P.__actions__.push({func:yo,args:[F],thisArg:i}),new Ir(P,this.__chain__).thru(function(X){return s&&!X.length&&X.push(i),X}))});function Fp(){return dc(this)}function $p(){return new Ir(this.value(),this.__chain__)}function Vp(){this.__values__===i&&(this.__values__=Pc(this.value()));var n=this.__index__>=this.__values__.length,s=n?i:this.__values__[this.__index__++];return{done:n,value:s}}function Up(){return this}function qp(n){for(var s,_=this;_ instanceof ro;){var P=ac(_);P.__index__=0,P.__values__=i,s?F.__wrapped__=P:s=P;var F=P;_=_.__wrapped__}return F.__wrapped__=n,s}function Wp(){var n=this.__wrapped__;if(n instanceof Oe){var s=n;return this.__actions__.length&&(s=new Oe(this)),s=s.reverse(),s.__actions__.push({func:yo,args:[ju],thisArg:i}),new Ir(s,this.__chain__)}return this.thru(ju)}function Yp(){return Mf(this.__wrapped__,this.__actions__)}var Hp=ho(function(n,s,_){Ne.call(n,_)?++n[_]:si(n,_,1)});function Xp(n,s,_){var P=ge(n)?Vh:B0;return _&&Hn(n,s,_)&&(s=i),P(n,ne(s,3))}function Gp(n,s){var _=ge(n)?yi:cf;return _(n,ne(s,3))}var Zp=$f(oc),Kp=$f(uc);function Jp(n,s){return In(wo(n,s),1)}function jp(n,s){return In(wo(n,s),Vt)}function Qp(n,s,_){return _=_===i?1:pe(_),In(wo(n,s),_)}function _c(n,s){var _=ge(n)?Or:Si;return _(n,ne(s,3))}function gc(n,s){var _=ge(n)?mg:ff;return _(n,ne(s,3))}var tm=ho(function(n,s,_){Ne.call(n,_)?n[_].push(s):si(n,_,[s])});function em(n,s,_,P){n=tr(n)?n:Ps(n),_=_&&!P?pe(_):0;var F=n.length;return _<0&&(_=wn(F+_,0)),To(n)?_<=F&&n.indexOf(s,_)>-1:!!F&&gs(n,s,_)>-1}var nm=xe(function(n,s,_){var P=-1,F=typeof s=="function",X=tr(n)?wt(n.length):[];return Si(n,function(nt){X[++P]=F?dr(s,nt,_):ua(nt,s,_)}),X}),rm=ho(function(n,s,_){si(n,_,s)});function wo(n,s){var _=ge(n)?Je:mf;return _(n,ne(s,3))}function im(n,s,_,P){return n==null?[]:(ge(s)||(s=s==null?[]:[s]),_=P?i:_,ge(_)||(_=_==null?[]:[_]),bf(n,s,_))}var sm=ho(function(n,s,_){n[_?0:1].push(s)},function(){return[[],[]]});function am(n,s,_){var P=ge(n)?fu:Yh,F=arguments.length<3;return P(n,ne(s,4),_,F,Si)}function om(n,s,_){var P=ge(n)?yg:Yh,F=arguments.length<3;return P(n,ne(s,4),_,F,ff)}function um(n,s){var _=ge(n)?yi:cf;return _(n,So(ne(s,3)))}function lm(n){var s=ge(n)?of:ev;return s(n)}function hm(n,s,_){(_?Hn(n,s,_):s===i)?s=1:s=pe(s);var P=ge(n)?k0:nv;return P(n,s)}function fm(n){var s=ge(n)?L0:iv;return s(n)}function cm(n){if(n==null)return 0;if(tr(n))return To(n)?ps(n):n.length;var s=Bn(n);return s==ke||s==hn?n.size:Iu(n).length}function dm(n,s,_){var P=ge(n)?cu:sv;return _&&Hn(n,s,_)&&(s=i),P(n,ne(s,3))}var _m=xe(function(n,s){if(n==null)return[];var _=s.length;return _>1&&Hn(n,s[0],s[1])?s=[]:_>2&&Hn(s[0],s[1],s[2])&&(s=[s[0]]),bf(n,In(s,1),[])}),xo=Gg||function(){return Mn.Date.now()};function gm(n,s){if(typeof s!="function")throw new Mr(c);return n=pe(n),function(){if(--n<1)return s.apply(this,arguments)}}function vc(n,s,_){return s=_?i:s,s=n&&s==null?n.length:s,ai(n,ft,i,i,i,i,s)}function pc(n,s){var _;if(typeof s!="function")throw new Mr(c);return n=pe(n),function(){return--n>0&&(_=s.apply(this,arguments)),n<=1&&(s=i),_}}var tl=xe(function(n,s,_){var P=U;if(_.length){var F=xi(_,Ts(tl));P|=ht}return ai(n,P,s,_,F)}),mc=xe(function(n,s,_){var P=U|$;if(_.length){var F=xi(_,Ts(mc));P|=ht}return ai(s,P,n,_,F)});function yc(n,s,_){s=_?i:s;var P=ai(n,J,i,i,i,i,i,s);return P.placeholder=yc.placeholder,P}function wc(n,s,_){s=_?i:s;var P=ai(n,ut,i,i,i,i,i,s);return P.placeholder=wc.placeholder,P}function xc(n,s,_){var P,F,X,nt,st,ct,St=0,Tt=!1,Pt=!1,$t=!0;if(typeof n!="function")throw new Mr(c);s=Rr(s)||0,rn(_)&&(Tt=!!_.leading,Pt="maxWait"in _,X=Pt?wn(Rr(_.maxWait)||0,s):X,$t="trailing"in _?!!_.trailing:$t);function Kt(cn){var qr=P,fi=F;return P=F=i,St=cn,nt=n.apply(fi,qr),nt}function ie(cn){return St=cn,st=da(Se,s),Tt?Kt(cn):nt}function ye(cn){var qr=cn-ct,fi=cn-St,$c=s-qr;return Pt?zn($c,X-fi):$c}function se(cn){var qr=cn-ct,fi=cn-St;return ct===i||qr>=s||qr<0||Pt&&fi>=X}function Se(){var cn=xo();if(se(cn))return Ie(cn);st=da(Se,ye(cn))}function Ie(cn){return st=i,$t&&P?Kt(cn):(P=F=i,nt)}function pr(){st!==i&&Ef(st),St=0,P=ct=F=st=i}function Xn(){return st===i?nt:Ie(xo())}function mr(){var cn=xo(),qr=se(cn);if(P=arguments,F=this,ct=cn,qr){if(st===i)return ie(ct);if(Pt)return Ef(st),st=da(Se,s),Kt(ct)}return st===i&&(st=da(Se,s)),nt}return mr.cancel=pr,mr.flush=Xn,mr}var vm=xe(function(n,s){return hf(n,1,s)}),pm=xe(function(n,s,_){return hf(n,Rr(s)||0,_)});function mm(n){return ai(n,ot)}function bo(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new Mr(c);var _=function(){var P=arguments,F=s?s.apply(this,P):P[0],X=_.cache;if(X.has(F))return X.get(F);var nt=n.apply(this,P);return _.cache=X.set(F,nt)||X,nt};return _.cache=new(bo.Cache||ii),_}bo.Cache=ii;function So(n){if(typeof n!="function")throw new Mr(c);return function(){var s=arguments;switch(s.length){case 0:return!n.call(this);case 1:return!n.call(this,s[0]);case 2:return!n.call(this,s[0],s[1]);case 3:return!n.call(this,s[0],s[1],s[2])}return!n.apply(this,s)}}function ym(n){return pc(2,n)}var wm=av(function(n,s){s=s.length==1&&ge(s[0])?Je(s[0],_r(ne())):Je(In(s,1),_r(ne()));var _=s.length;return xe(function(P){for(var F=-1,X=zn(P.length,_);++F<X;)P[F]=s[F].call(this,P[F]);return dr(n,this,P)})}),el=xe(function(n,s){var _=xi(s,Ts(el));return ai(n,ht,i,s,_)}),bc=xe(function(n,s){var _=xi(s,Ts(bc));return ai(n,dt,i,s,_)}),xm=oi(function(n,s){return ai(n,gt,i,i,i,s)});function bm(n,s){if(typeof n!="function")throw new Mr(c);return s=s===i?s:pe(s),xe(n,s)}function Sm(n,s){if(typeof n!="function")throw new Mr(c);return s=s==null?0:wn(pe(s),0),xe(function(_){var P=_[s],F=Ai(_,0,s);return P&&wi(F,P),dr(n,this,F)})}function Cm(n,s,_){var P=!0,F=!0;if(typeof n!="function")throw new Mr(c);return rn(_)&&(P="leading"in _?!!_.leading:P,F="trailing"in _?!!_.trailing:F),xc(n,s,{leading:P,maxWait:s,trailing:F})}function Tm(n){return vc(n,1)}function Am(n,s){return el(Fu(s),n)}function Pm(){if(!arguments.length)return[];var n=arguments[0];return ge(n)?n:[n]}function Om(n){return Er(n,y)}function Mm(n,s){return s=typeof s=="function"?s:i,Er(n,y,s)}function Im(n){return Er(n,A|y)}function Em(n,s){return s=typeof s=="function"?s:i,Er(n,A|y,s)}function km(n,s){return s==null||lf(n,s,Sn(s))}function Ur(n,s){return n===s||n!==n&&s!==s}var Lm=go(Pu),Rm=go(function(n,s){return n>=s}),ts=gf(function(){return arguments}())?gf:function(n){return un(n)&&Ne.call(n,"callee")&&!tf.call(n,"callee")},ge=wt.isArray,Dm=Dh?_r(Dh):q0;function tr(n){return n!=null&&Co(n.length)&&!li(n)}function fn(n){return un(n)&&tr(n)}function zm(n){return n===!0||n===!1||un(n)&&Yn(n)==At}var Pi=Kg||cl,Bm=zh?_r(zh):W0;function Nm(n){return un(n)&&n.nodeType===1&&!_a(n)}function Fm(n){if(n==null)return!0;if(tr(n)&&(ge(n)||typeof n=="string"||typeof n.splice=="function"||Pi(n)||As(n)||ts(n)))return!n.length;var s=Bn(n);if(s==ke||s==hn)return!n.size;if(ca(n))return!Iu(n).length;for(var _ in n)if(Ne.call(n,_))return!1;return!0}function $m(n,s){return la(n,s)}function Vm(n,s,_){_=typeof _=="function"?_:i;var P=_?_(n,s):i;return P===i?la(n,s,i,_):!!P}function nl(n){if(!un(n))return!1;var s=Yn(n);return s==Nt||s==Dt||typeof n.message=="string"&&typeof n.name=="string"&&!_a(n)}function Um(n){return typeof n=="number"&&nf(n)}function li(n){if(!rn(n))return!1;var s=Yn(n);return s==jt||s==be||s==Jn||s==Hr}function Sc(n){return typeof n=="number"&&n==pe(n)}function Co(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Ht}function rn(n){var s=typeof n;return n!=null&&(s=="object"||s=="function")}function un(n){return n!=null&&typeof n=="object"}var Cc=Bh?_r(Bh):H0;function qm(n,s){return n===s||Mu(n,s,Hu(s))}function Wm(n,s,_){return _=typeof _=="function"?_:i,Mu(n,s,Hu(s),_)}function Ym(n){return Tc(n)&&n!=+n}function Hm(n){if(Mv(n))throw new de(h);return vf(n)}function Xm(n){return n===null}function Gm(n){return n==null}function Tc(n){return typeof n=="number"||un(n)&&Yn(n)==Ye}function _a(n){if(!un(n)||Yn(n)!=Te)return!1;var s=Ka(n);if(s===null)return!0;var _=Ne.call(s,"constructor")&&s.constructor;return typeof _=="function"&&_ instanceof _&&Ha.call(_)==Wg}var rl=Nh?_r(Nh):X0;function Zm(n){return Sc(n)&&n>=-Ht&&n<=Ht}var Ac=Fh?_r(Fh):G0;function To(n){return typeof n=="string"||!ge(n)&&un(n)&&Yn(n)==Le}function vr(n){return typeof n=="symbol"||un(n)&&Yn(n)==hr}var As=$h?_r($h):Z0;function Km(n){return n===i}function Jm(n){return un(n)&&Bn(n)==t}function jm(n){return un(n)&&Yn(n)==r}var Qm=go(Eu),t1=go(function(n,s){return n<=s});function Pc(n){if(!n)return[];if(tr(n))return To(n)?$r(n):Qn(n);if(ea&&n[ea])return kg(n[ea]());var s=Bn(n),_=s==ke?mu:s==hn?qa:Ps;return _(n)}function hi(n){if(!n)return n===0?n:0;if(n=Rr(n),n===Vt||n===-Vt){var s=n<0?-1:1;return s*Ft}return n===n?n:0}function pe(n){var s=hi(n),_=s%1;return s===s?_?s-_:s:0}function Oc(n){return n?Ki(pe(n),0,he):0}function Rr(n){if(typeof n=="number")return n;if(vr(n))return ae;if(rn(n)){var s=typeof n.valueOf=="function"?n.valueOf():n;n=rn(s)?s+"":s}if(typeof n!="string")return n===0?n:+n;n=Hh(n);var _=Gt.test(n);return _||ee.test(n)?gg(n.slice(2),_?2:8):Wt.test(n)?ae:+n}function Mc(n){return Gr(n,er(n))}function e1(n){return n?Ki(pe(n),-Ht,Ht):n===0?n:0}function Be(n){return n==null?"":gr(n)}var n1=Ss(function(n,s){if(ca(s)||tr(s)){Gr(s,Sn(s),n);return}for(var _ in s)Ne.call(s,_)&&aa(n,_,s[_])}),Ic=Ss(function(n,s){Gr(s,er(s),n)}),Ao=Ss(function(n,s,_,P){Gr(s,er(s),n,P)}),r1=Ss(function(n,s,_,P){Gr(s,Sn(s),n,P)}),i1=oi(Cu);function s1(n,s){var _=bs(n);return s==null?_:uf(_,s)}var a1=xe(function(n,s){n=Ue(n);var _=-1,P=s.length,F=P>2?s[2]:i;for(F&&Hn(s[0],s[1],F)&&(P=1);++_<P;)for(var X=s[_],nt=er(X),st=-1,ct=nt.length;++st<ct;){var St=nt[st],Tt=n[St];(Tt===i||Ur(Tt,ys[St])&&!Ne.call(n,St))&&(n[St]=X[St])}return n}),o1=xe(function(n){return n.push(i,Xf),dr(Ec,i,n)});function u1(n,s){return Uh(n,ne(s,3),Xr)}function l1(n,s){return Uh(n,ne(s,3),Au)}function h1(n,s){return n==null?n:Tu(n,ne(s,3),er)}function f1(n,s){return n==null?n:df(n,ne(s,3),er)}function c1(n,s){return n&&Xr(n,ne(s,3))}function d1(n,s){return n&&Au(n,ne(s,3))}function _1(n){return n==null?[]:ao(n,Sn(n))}function g1(n){return n==null?[]:ao(n,er(n))}function il(n,s,_){var P=n==null?i:Ji(n,s);return P===i?_:P}function v1(n,s){return n!=null&&Kf(n,s,F0)}function sl(n,s){return n!=null&&Kf(n,s,$0)}var p1=Uf(function(n,s,_){s!=null&&typeof s.toString!="function"&&(s=Xa.call(s)),n[s]=_},ol(nr)),m1=Uf(function(n,s,_){s!=null&&typeof s.toString!="function"&&(s=Xa.call(s)),Ne.call(n,s)?n[s].push(_):n[s]=[_]},ne),y1=xe(ua);function Sn(n){return tr(n)?af(n):Iu(n)}function er(n){return tr(n)?af(n,!0):K0(n)}function w1(n,s){var _={};return s=ne(s,3),Xr(n,function(P,F,X){si(_,s(P,F,X),P)}),_}function x1(n,s){var _={};return s=ne(s,3),Xr(n,function(P,F,X){si(_,F,s(P,F,X))}),_}var b1=Ss(function(n,s,_){oo(n,s,_)}),Ec=Ss(function(n,s,_,P){oo(n,s,_,P)}),S1=oi(function(n,s){var _={};if(n==null)return _;var P=!1;s=Je(s,function(X){return X=Ti(X,n),P||(P=X.length>1),X}),Gr(n,Wu(n),_),P&&(_=Er(_,A|k|y,pv));for(var F=s.length;F--;)zu(_,s[F]);return _});function C1(n,s){return kc(n,So(ne(s)))}var T1=oi(function(n,s){return n==null?{}:j0(n,s)});function kc(n,s){if(n==null)return{};var _=Je(Wu(n),function(P){return[P]});return s=ne(s),Sf(n,_,function(P,F){return s(P,F[0])})}function A1(n,s,_){s=Ti(s,n);var P=-1,F=s.length;for(F||(F=1,n=i);++P<F;){var X=n==null?i:n[Zr(s[P])];X===i&&(P=F,X=_),n=li(X)?X.call(n):X}return n}function P1(n,s,_){return n==null?n:ha(n,s,_)}function O1(n,s,_,P){return P=typeof P=="function"?P:i,n==null?n:ha(n,s,_,P)}var Lc=Yf(Sn),Rc=Yf(er);function M1(n,s,_){var P=ge(n),F=P||Pi(n)||As(n);if(s=ne(s,4),_==null){var X=n&&n.constructor;F?_=P?new X:[]:rn(n)?_=li(X)?bs(Ka(n)):{}:_={}}return(F?Or:Xr)(n,function(nt,st,ct){return s(_,nt,st,ct)}),_}function I1(n,s){return n==null?!0:zu(n,s)}function E1(n,s,_){return n==null?n:Of(n,s,Fu(_))}function k1(n,s,_,P){return P=typeof P=="function"?P:i,n==null?n:Of(n,s,Fu(_),P)}function Ps(n){return n==null?[]:pu(n,Sn(n))}function L1(n){return n==null?[]:pu(n,er(n))}function R1(n,s,_){return _===i&&(_=s,s=i),_!==i&&(_=Rr(_),_=_===_?_:0),s!==i&&(s=Rr(s),s=s===s?s:0),Ki(Rr(n),s,_)}function D1(n,s,_){return s=hi(s),_===i?(_=s,s=0):_=hi(_),n=Rr(n),V0(n,s,_)}function z1(n,s,_){if(_&&typeof _!="boolean"&&Hn(n,s,_)&&(s=_=i),_===i&&(typeof s=="boolean"?(_=s,s=i):typeof n=="boolean"&&(_=n,n=i)),n===i&&s===i?(n=0,s=1):(n=hi(n),s===i?(s=n,n=0):s=hi(s)),n>s){var P=n;n=s,s=P}if(_||n%1||s%1){var F=rf();return zn(n+F*(s-n+_g("1e-"+((F+"").length-1))),s)}return Lu(n,s)}var B1=Cs(function(n,s,_){return s=s.toLowerCase(),n+(_?Dc(s):s)});function Dc(n){return al(Be(n).toLowerCase())}function zc(n){return n=Be(n),n&&n.replace(Ae,Pg).replace(ig,"")}function N1(n,s,_){n=Be(n),s=gr(s);var P=n.length;_=_===i?P:Ki(pe(_),0,P);var F=_;return _-=s.length,_>=0&&n.slice(_,F)==s}function F1(n){return n=Be(n),n&&M.test(n)?n.replace(z,Og):n}function $1(n){return n=Be(n),n&&it.test(n)?n.replace(et,"\\$&"):n}var V1=Cs(function(n,s,_){return n+(_?"-":"")+s.toLowerCase()}),U1=Cs(function(n,s,_){return n+(_?" ":"")+s.toLowerCase()}),q1=Ff("toLowerCase");function W1(n,s,_){n=Be(n),s=pe(s);var P=s?ps(n):0;if(!s||P>=s)return n;var F=(s-P)/2;return _o(to(F),_)+n+_o(Qa(F),_)}function Y1(n,s,_){n=Be(n),s=pe(s);var P=s?ps(n):0;return s&&P<s?n+_o(s-P,_):n}function H1(n,s,_){n=Be(n),s=pe(s);var P=s?ps(n):0;return s&&P<s?_o(s-P,_)+n:n}function X1(n,s,_){return _||s==null?s=0:s&&(s=+s),t0(Be(n).replace(tt,""),s||0)}function G1(n,s,_){return(_?Hn(n,s,_):s===i)?s=1:s=pe(s),Ru(Be(n),s)}function Z1(){var n=arguments,s=Be(n[0]);return n.length<3?s:s.replace(n[1],n[2])}var K1=Cs(function(n,s,_){return n+(_?"_":"")+s.toLowerCase()});function J1(n,s,_){return _&&typeof _!="number"&&Hn(n,s,_)&&(s=_=i),_=_===i?he:_>>>0,_?(n=Be(n),n&&(typeof s=="string"||s!=null&&!rl(s))&&(s=gr(s),!s&&vs(n))?Ai($r(n),0,_):n.split(s,_)):[]}var j1=Cs(function(n,s,_){return n+(_?" ":"")+al(s)});function Q1(n,s,_){return n=Be(n),_=_==null?0:Ki(pe(_),0,n.length),s=gr(s),n.slice(_,_+s.length)==s}function ty(n,s,_){var P=H.templateSettings;_&&Hn(n,s,_)&&(s=i),n=Be(n),s=Ao({},s,P,Hf);var F=Ao({},s.imports,P.imports,Hf),X=Sn(F),nt=pu(F,X),st,ct,St=0,Tt=s.interpolate||ue,Pt="__p += '",$t=yu((s.escape||ue).source+"|"+Tt.source+"|"+(Tt===W?zt:ue).source+"|"+(s.evaluate||ue).source+"|$","g"),Kt="//# sourceURL="+(Ne.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lg+"]")+`
`;n.replace($t,function(se,Se,Ie,pr,Xn,mr){return Ie||(Ie=pr),Pt+=n.slice(St,mr).replace(fe,Mg),Se&&(st=!0,Pt+=`' +
__e(`+Se+`) +
'`),Xn&&(ct=!0,Pt+=`';
`+Xn+`;
__p += '`),Ie&&(Pt+=`' +
((__t = (`+Ie+`)) == null ? '' : __t) +
'`),St=mr+se.length,se}),Pt+=`';
`;var ie=Ne.call(s,"variable")&&s.variable;if(!ie)Pt=`with (obj) {
`+Pt+`
}
`;else if(Ot.test(ie))throw new de(g);Pt=(ct?Pt.replace(O,""):Pt).replace(B,"$1").replace(q,"$1;"),Pt="function("+(ie||"obj")+`) {
`+(ie?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(st?", __e = _.escape":"")+(ct?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Pt+`return __p
}`;var ye=Nc(function(){return ze(X,Kt+"return "+Pt).apply(i,nt)});if(ye.source=Pt,nl(ye))throw ye;return ye}function ey(n){return Be(n).toLowerCase()}function ny(n){return Be(n).toUpperCase()}function ry(n,s,_){if(n=Be(n),n&&(_||s===i))return Hh(n);if(!n||!(s=gr(s)))return n;var P=$r(n),F=$r(s),X=Xh(P,F),nt=Gh(P,F)+1;return Ai(P,X,nt).join("")}function iy(n,s,_){if(n=Be(n),n&&(_||s===i))return n.slice(0,Kh(n)+1);if(!n||!(s=gr(s)))return n;var P=$r(n),F=Gh(P,$r(s))+1;return Ai(P,0,F).join("")}function sy(n,s,_){if(n=Be(n),n&&(_||s===i))return n.replace(tt,"");if(!n||!(s=gr(s)))return n;var P=$r(n),F=Xh(P,$r(s));return Ai(P,F).join("")}function ay(n,s){var _=Mt,P=Et;if(rn(s)){var F="separator"in s?s.separator:F;_="length"in s?pe(s.length):_,P="omission"in s?gr(s.omission):P}n=Be(n);var X=n.length;if(vs(n)){var nt=$r(n);X=nt.length}if(_>=X)return n;var st=_-ps(P);if(st<1)return P;var ct=nt?Ai(nt,0,st).join(""):n.slice(0,st);if(F===i)return ct+P;if(nt&&(st+=ct.length-st),rl(F)){if(n.slice(st).search(F)){var St,Tt=ct;for(F.global||(F=yu(F.source,Be(Qt.exec(F))+"g")),F.lastIndex=0;St=F.exec(Tt);)var Pt=St.index;ct=ct.slice(0,Pt===i?st:Pt)}}else if(n.indexOf(gr(F),st)!=st){var $t=ct.lastIndexOf(F);$t>-1&&(ct=ct.slice(0,$t))}return ct+P}function oy(n){return n=Be(n),n&&N.test(n)?n.replace(Y,zg):n}var uy=Cs(function(n,s,_){return n+(_?" ":"")+s.toUpperCase()}),al=Ff("toUpperCase");function Bc(n,s,_){return n=Be(n),s=_?i:s,s===i?Eg(n)?Fg(n):bg(n):n.match(s)||[]}var Nc=xe(function(n,s){try{return dr(n,i,s)}catch(_){return nl(_)?_:new de(_)}}),ly=oi(function(n,s){return Or(s,function(_){_=Zr(_),si(n,_,tl(n[_],n))}),n});function hy(n){var s=n==null?0:n.length,_=ne();return n=s?Je(n,function(P){if(typeof P[1]!="function")throw new Mr(c);return[_(P[0]),P[1]]}):[],xe(function(P){for(var F=-1;++F<s;){var X=n[F];if(dr(X[0],this,P))return dr(X[1],this,P)}})}function fy(n){return z0(Er(n,A))}function ol(n){return function(){return n}}function cy(n,s){return n==null||n!==n?s:n}var dy=Vf(),_y=Vf(!0);function nr(n){return n}function ul(n){return pf(typeof n=="function"?n:Er(n,A))}function gy(n){return yf(Er(n,A))}function vy(n,s){return wf(n,Er(s,A))}var py=xe(function(n,s){return function(_){return ua(_,n,s)}}),my=xe(function(n,s){return function(_){return ua(n,_,s)}});function ll(n,s,_){var P=Sn(s),F=ao(s,P);_==null&&!(rn(s)&&(F.length||!P.length))&&(_=s,s=n,n=this,F=ao(s,Sn(s)));var X=!(rn(_)&&"chain"in _)||!!_.chain,nt=li(n);return Or(F,function(st){var ct=s[st];n[st]=ct,nt&&(n.prototype[st]=function(){var St=this.__chain__;if(X||St){var Tt=n(this.__wrapped__),Pt=Tt.__actions__=Qn(this.__actions__);return Pt.push({func:ct,args:arguments,thisArg:n}),Tt.__chain__=St,Tt}return ct.apply(n,wi([this.value()],arguments))})}),n}function yy(){return Mn._===this&&(Mn._=Yg),this}function hl(){}function wy(n){return n=pe(n),xe(function(s){return xf(s,n)})}var xy=Vu(Je),by=Vu(Vh),Sy=Vu(cu);function Fc(n){return Gu(n)?du(Zr(n)):Q0(n)}function Cy(n){return function(s){return n==null?i:Ji(n,s)}}var Ty=qf(),Ay=qf(!0);function fl(){return[]}function cl(){return!1}function Py(){return{}}function Oy(){return""}function My(){return!0}function Iy(n,s){if(n=pe(n),n<1||n>Ht)return[];var _=he,P=zn(n,he);s=ne(s),n-=he;for(var F=vu(P,s);++_<n;)s(_);return F}function Ey(n){return ge(n)?Je(n,Zr):vr(n)?[n]:Qn(sc(Be(n)))}function ky(n){var s=++qg;return Be(n)+s}var Ly=co(function(n,s){return n+s},0),Ry=Uu("ceil"),Dy=co(function(n,s){return n/s},1),zy=Uu("floor");function By(n){return n&&n.length?so(n,nr,Pu):i}function Ny(n,s){return n&&n.length?so(n,ne(s,2),Pu):i}function Fy(n){return Wh(n,nr)}function $y(n,s){return Wh(n,ne(s,2))}function Vy(n){return n&&n.length?so(n,nr,Eu):i}function Uy(n,s){return n&&n.length?so(n,ne(s,2),Eu):i}var qy=co(function(n,s){return n*s},1),Wy=Uu("round"),Yy=co(function(n,s){return n-s},0);function Hy(n){return n&&n.length?gu(n,nr):0}function Xy(n,s){return n&&n.length?gu(n,ne(s,2)):0}return H.after=gm,H.ary=vc,H.assign=n1,H.assignIn=Ic,H.assignInWith=Ao,H.assignWith=r1,H.at=i1,H.before=pc,H.bind=tl,H.bindAll=ly,H.bindKey=mc,H.castArray=Pm,H.chain=dc,H.chunk=zv,H.compact=Bv,H.concat=Nv,H.cond=hy,H.conforms=fy,H.constant=ol,H.countBy=Hp,H.create=s1,H.curry=yc,H.curryRight=wc,H.debounce=xc,H.defaults=a1,H.defaultsDeep=o1,H.defer=vm,H.delay=pm,H.difference=Fv,H.differenceBy=$v,H.differenceWith=Vv,H.drop=Uv,H.dropRight=qv,H.dropRightWhile=Wv,H.dropWhile=Yv,H.fill=Hv,H.filter=Gp,H.flatMap=Jp,H.flatMapDeep=jp,H.flatMapDepth=Qp,H.flatten=lc,H.flattenDeep=Xv,H.flattenDepth=Gv,H.flip=mm,H.flow=dy,H.flowRight=_y,H.fromPairs=Zv,H.functions=_1,H.functionsIn=g1,H.groupBy=tm,H.initial=Jv,H.intersection=jv,H.intersectionBy=Qv,H.intersectionWith=tp,H.invert=p1,H.invertBy=m1,H.invokeMap=nm,H.iteratee=ul,H.keyBy=rm,H.keys=Sn,H.keysIn=er,H.map=wo,H.mapKeys=w1,H.mapValues=x1,H.matches=gy,H.matchesProperty=vy,H.memoize=bo,H.merge=b1,H.mergeWith=Ec,H.method=py,H.methodOf=my,H.mixin=ll,H.negate=So,H.nthArg=wy,H.omit=S1,H.omitBy=C1,H.once=ym,H.orderBy=im,H.over=xy,H.overArgs=wm,H.overEvery=by,H.overSome=Sy,H.partial=el,H.partialRight=bc,H.partition=sm,H.pick=T1,H.pickBy=kc,H.property=Fc,H.propertyOf=Cy,H.pull=ip,H.pullAll=fc,H.pullAllBy=sp,H.pullAllWith=ap,H.pullAt=op,H.range=Ty,H.rangeRight=Ay,H.rearg=xm,H.reject=um,H.remove=up,H.rest=bm,H.reverse=ju,H.sampleSize=hm,H.set=P1,H.setWith=O1,H.shuffle=fm,H.slice=lp,H.sortBy=_m,H.sortedUniq=vp,H.sortedUniqBy=pp,H.split=J1,H.spread=Sm,H.tail=mp,H.take=yp,H.takeRight=wp,H.takeRightWhile=xp,H.takeWhile=bp,H.tap=Bp,H.throttle=Cm,H.thru=yo,H.toArray=Pc,H.toPairs=Lc,H.toPairsIn=Rc,H.toPath=Ey,H.toPlainObject=Mc,H.transform=M1,H.unary=Tm,H.union=Sp,H.unionBy=Cp,H.unionWith=Tp,H.uniq=Ap,H.uniqBy=Pp,H.uniqWith=Op,H.unset=I1,H.unzip=Qu,H.unzipWith=cc,H.update=E1,H.updateWith=k1,H.values=Ps,H.valuesIn=L1,H.without=Mp,H.words=Bc,H.wrap=Am,H.xor=Ip,H.xorBy=Ep,H.xorWith=kp,H.zip=Lp,H.zipObject=Rp,H.zipObjectDeep=Dp,H.zipWith=zp,H.entries=Lc,H.entriesIn=Rc,H.extend=Ic,H.extendWith=Ao,ll(H,H),H.add=Ly,H.attempt=Nc,H.camelCase=B1,H.capitalize=Dc,H.ceil=Ry,H.clamp=R1,H.clone=Om,H.cloneDeep=Im,H.cloneDeepWith=Em,H.cloneWith=Mm,H.conformsTo=km,H.deburr=zc,H.defaultTo=cy,H.divide=Dy,H.endsWith=N1,H.eq=Ur,H.escape=F1,H.escapeRegExp=$1,H.every=Xp,H.find=Zp,H.findIndex=oc,H.findKey=u1,H.findLast=Kp,H.findLastIndex=uc,H.findLastKey=l1,H.floor=zy,H.forEach=_c,H.forEachRight=gc,H.forIn=h1,H.forInRight=f1,H.forOwn=c1,H.forOwnRight=d1,H.get=il,H.gt=Lm,H.gte=Rm,H.has=v1,H.hasIn=sl,H.head=hc,H.identity=nr,H.includes=em,H.indexOf=Kv,H.inRange=D1,H.invoke=y1,H.isArguments=ts,H.isArray=ge,H.isArrayBuffer=Dm,H.isArrayLike=tr,H.isArrayLikeObject=fn,H.isBoolean=zm,H.isBuffer=Pi,H.isDate=Bm,H.isElement=Nm,H.isEmpty=Fm,H.isEqual=$m,H.isEqualWith=Vm,H.isError=nl,H.isFinite=Um,H.isFunction=li,H.isInteger=Sc,H.isLength=Co,H.isMap=Cc,H.isMatch=qm,H.isMatchWith=Wm,H.isNaN=Ym,H.isNative=Hm,H.isNil=Gm,H.isNull=Xm,H.isNumber=Tc,H.isObject=rn,H.isObjectLike=un,H.isPlainObject=_a,H.isRegExp=rl,H.isSafeInteger=Zm,H.isSet=Ac,H.isString=To,H.isSymbol=vr,H.isTypedArray=As,H.isUndefined=Km,H.isWeakMap=Jm,H.isWeakSet=jm,H.join=ep,H.kebabCase=V1,H.last=Lr,H.lastIndexOf=np,H.lowerCase=U1,H.lowerFirst=q1,H.lt=Qm,H.lte=t1,H.max=By,H.maxBy=Ny,H.mean=Fy,H.meanBy=$y,H.min=Vy,H.minBy=Uy,H.stubArray=fl,H.stubFalse=cl,H.stubObject=Py,H.stubString=Oy,H.stubTrue=My,H.multiply=qy,H.nth=rp,H.noConflict=yy,H.noop=hl,H.now=xo,H.pad=W1,H.padEnd=Y1,H.padStart=H1,H.parseInt=X1,H.random=z1,H.reduce=am,H.reduceRight=om,H.repeat=G1,H.replace=Z1,H.result=A1,H.round=Wy,H.runInContext=lt,H.sample=lm,H.size=cm,H.snakeCase=K1,H.some=dm,H.sortedIndex=hp,H.sortedIndexBy=fp,H.sortedIndexOf=cp,H.sortedLastIndex=dp,H.sortedLastIndexBy=_p,H.sortedLastIndexOf=gp,H.startCase=j1,H.startsWith=Q1,H.subtract=Yy,H.sum=Hy,H.sumBy=Xy,H.template=ty,H.times=Iy,H.toFinite=hi,H.toInteger=pe,H.toLength=Oc,H.toLower=ey,H.toNumber=Rr,H.toSafeInteger=e1,H.toString=Be,H.toUpper=ny,H.trim=ry,H.trimEnd=iy,H.trimStart=sy,H.truncate=ay,H.unescape=oy,H.uniqueId=ky,H.upperCase=uy,H.upperFirst=al,H.each=_c,H.eachRight=gc,H.first=hc,ll(H,function(){var n={};return Xr(H,function(s,_){Ne.call(H.prototype,_)||(n[_]=s)}),n}(),{chain:!1}),H.VERSION=o,Or(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){H[n].placeholder=H}),Or(["drop","take"],function(n,s){Oe.prototype[n]=function(_){_=_===i?1:wn(pe(_),0);var P=this.__filtered__&&!s?new Oe(this):this.clone();return P.__filtered__?P.__takeCount__=zn(_,P.__takeCount__):P.__views__.push({size:zn(_,he),type:n+(P.__dir__<0?"Right":"")}),P},Oe.prototype[n+"Right"]=function(_){return this.reverse()[n](_).reverse()}}),Or(["filter","map","takeWhile"],function(n,s){var _=s+1,P=_==Ct||_==pt;Oe.prototype[n]=function(F){var X=this.clone();return X.__iteratees__.push({iteratee:ne(F,3),type:_}),X.__filtered__=X.__filtered__||P,X}}),Or(["head","last"],function(n,s){var _="take"+(s?"Right":"");Oe.prototype[n]=function(){return this[_](1).value()[0]}}),Or(["initial","tail"],function(n,s){var _="drop"+(s?"":"Right");Oe.prototype[n]=function(){return this.__filtered__?new Oe(this):this[_](1)}}),Oe.prototype.compact=function(){return this.filter(nr)},Oe.prototype.find=function(n){return this.filter(n).head()},Oe.prototype.findLast=function(n){return this.reverse().find(n)},Oe.prototype.invokeMap=xe(function(n,s){return typeof n=="function"?new Oe(this):this.map(function(_){return ua(_,n,s)})}),Oe.prototype.reject=function(n){return this.filter(So(ne(n)))},Oe.prototype.slice=function(n,s){n=pe(n);var _=this;return _.__filtered__&&(n>0||s<0)?new Oe(_):(n<0?_=_.takeRight(-n):n&&(_=_.drop(n)),s!==i&&(s=pe(s),_=s<0?_.dropRight(-s):_.take(s-n)),_)},Oe.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Oe.prototype.toArray=function(){return this.take(he)},Xr(Oe.prototype,function(n,s){var _=/^(?:filter|find|map|reject)|While$/.test(s),P=/^(?:head|last)$/.test(s),F=H[P?"take"+(s=="last"?"Right":""):s],X=P||/^find/.test(s);F&&(H.prototype[s]=function(){var nt=this.__wrapped__,st=P?[1]:arguments,ct=nt instanceof Oe,St=st[0],Tt=ct||ge(nt),Pt=function(Se){var Ie=F.apply(H,wi([Se],st));return P&&$t?Ie[0]:Ie};Tt&&_&&typeof St=="function"&&St.length!=1&&(ct=Tt=!1);var $t=this.__chain__,Kt=!!this.__actions__.length,ie=X&&!$t,ye=ct&&!Kt;if(!X&&Tt){nt=ye?nt:new Oe(this);var se=n.apply(nt,st);return se.__actions__.push({func:yo,args:[Pt],thisArg:i}),new Ir(se,$t)}return ie&&ye?n.apply(this,st):(se=this.thru(Pt),ie?P?se.value()[0]:se.value():se)})}),Or(["pop","push","shift","sort","splice","unshift"],function(n){var s=Wa[n],_=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",P=/^(?:pop|shift)$/.test(n);H.prototype[n]=function(){var F=arguments;if(P&&!this.__chain__){var X=this.value();return s.apply(ge(X)?X:[],F)}return this[_](function(nt){return s.apply(ge(nt)?nt:[],F)})}}),Xr(Oe.prototype,function(n,s){var _=H[s];if(_){var P=_.name+"";Ne.call(xs,P)||(xs[P]=[]),xs[P].push({name:s,func:_})}}),xs[fo(i,$).name]=[{name:"wrapper",func:i}],Oe.prototype.clone=o0,Oe.prototype.reverse=u0,Oe.prototype.value=l0,H.prototype.at=Np,H.prototype.chain=Fp,H.prototype.commit=$p,H.prototype.next=Vp,H.prototype.plant=qp,H.prototype.reverse=Wp,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=Yp,H.prototype.first=H.prototype.head,ea&&(H.prototype[ea]=Up),H},ms=$g();Hi?((Hi.exports=ms)._=ms,uu._=ms):Mn._=ms}).call(jr)})(Qo,Qo.exports);var Db=Qo.exports;const Zn=Mh(Db);var zb=G.template("<svg><g></svg>",!1,!0);const Bb={topLeft:"top",topCenter:"top",topRight:"top",centerLeft:"centerY",center:"centerY",centerRight:"centerY",bottomLeft:"bottom",bottomCenter:"bottom",bottomRight:"bottom",top:"top",centerY:"centerY",bottom:"bottom",left:void 0,centerX:void 0,right:void 0},rh=u=>Bb[u],Nb={topLeft:"left",topCenter:"centerX",topRight:"right",centerLeft:"left",center:"centerX",centerRight:"right",bottomLeft:"left",bottomCenter:"centerX",bottomRight:"right",top:void 0,centerY:void 0,bottom:void 0,left:"left",centerX:"centerX",right:"right"},ih=u=>Nb[u],Fb=u=>[rh(u),ih(u)],$b=An(u=>{const e=o=>{if(o=Array.from(o),u.name.endsWith("DEBUG"))debugger;const l=o.map(k=>u.alignment).map(k=>Fb(k)),h=Zn.zip(o,l).filter(([k,y])=>y[0]!==void 0).map(([k,y])=>[k,y[0]]),g=h.filter(([k,y])=>k.owned[y]).map(([k,y])=>[k,k.bbox[y]])[0]?.[1]??0;for(const[k,y]of h)k.owned[y]||(k.bbox[y]=g);const b=Zn.zip(o,l).filter(([k,y])=>y[1]!==void 0).map(([k,y])=>[k,y[1]]),S=b.filter(([k,y])=>k.owned[y]).map(([k,y])=>[k,k.bbox[y]])[0]?.[1]??0;for(const[k,y]of b)k.owned[y]||(k.bbox[y]=S);const A=Nl(o.map(k=>k.bbox));return{transform:{translate:{x:Qe(u.x,A.left),y:Qe(u.y,A.top)}},bbox:{centerX:ih(u.alignment)!==void 0?A.centerX:void 0,width:ih(u.alignment)!==void 0?A.width:void 0,centerY:rh(u.alignment)!==void 0?A.centerY:void 0,height:rh(u.alignment)!==void 0?A.height:void 0}}},i=o=>(()=>{var l=zb();return G.insert(l,()=>o.children),G.effect(()=>G.setAttribute(l,"transform",`translate(${o.transform.translate.x??0}, ${o.transform.translate.y??0})`)),l})();return G.createComponent(qn,{get name(){return u.name},layout:e,paint:i,get children(){return u.children}})},{displayName:"Align"});var Us=Math.PI;function rs(u,e,i,o){o===void 0&&(o=!1);var l=e[0],h=e[1],c=i[0],g=i[1],b=c+(u-l)/(h-l)*(g-c);if(o===!0)if(c<g){if(b<c)return c;if(b>g)return g}else{if(b>c)return c;if(b<g)return g}return b}function gd(u,e,i,o,l){var h=Math.sin(l),c=Math.cos(l),g=u-i,b=e-o,x=g*c-b*h,S=g*h+b*c;return[x+i,S+o]}function Lo(u,e,i,o){return Math.hypot(o-e,i-u)}function ss(u,e,i,o){return Math.atan2(o-e,i-u)}function ki(u,e,i,o,l){return l===void 0&&(l=.5),[u+(i-u)*l,e+(o-e)*l]}function Vb(u,e){return e===void 0&&(e=8),Math.floor(e*(.5+u/(Us*2)%e))}function Ub(u,e,i,o,l,h,c,g){return!(u>=l+c||l>=u+i||e>=h+g||h>=e+o)}function qb(u,e,i,o,l,h,c){var g,b,x,S,A,k,y,D,C=[h-o,c-l],U=[o-u,l-e];return g=C[0]*U[0]+C[1]*U[1],b=2*(C[0]*C[0]+C[1]*C[1]),g*=-2,x=Math.sqrt(g*g-2*b*(U[0]*U[0]+U[1]*U[1]-i*i)),isNaN(x)?[]:(S=(g-x)/b,A=(g+x)/b,y=[],D=[],k=[],S<=1&&S>=0&&(y[0]=o+C[0]*S,y[1]=l+C[1]*S,k[0]=y),A<=1&&A>=0&&(D[0]=o+C[0]*A,D[1]=l+C[1]*A,k[k.length]=D),k)}function F_(u){return u-Us*2*Math.floor(u/(Us*2))}function $_(u,e,i,o,l,h,c,g){var b,x,S;if(o*(c-l)!==i*(g-h)&&(S=i*(g-h)-o*(c-l),S!==0&&(b=((e-h)*(c-l)-(u-l)*(g-h))/S,x=((e-h)*i-(u-l)*o)/S,b>=0&&x>=0&&x<=1)))return[u+b*i,e+b*o]}function Cl(u){return[Math.cos(u),Math.sin(u)]}function Wb(u){return Math.abs(Math.abs(u%(Us/2))-Us/4)/(Us/4)}function Yb(u,e,i,o,l,h,c,g,b,x){var S=u+i/2,A=e+o/2,k=h+g/2,y=c+b/2,D=Pa(S,A,k-S,y-A,u,e,i,o,l)||[[S,A]],C=D[0],U=C[0],$=C[1],K=Pa(k,y,S-k,A-y,h,c,g,b,x)||[[k,y]],J=K[0],ut=J[0],ht=J[1];return[U,$,ut,ht]}function Pa(u,e,i,o,l,h,c,g,b){var x=l+c,S=h+g,A=l+b-1,k=h+b-1,y=l+c-b+1,D=h+g-b+1,C=[[l,D,l,k],[A,h,y,h],[x,k,x,D],[y,S,A,S]],U=[[A,k,Math.PI,Math.PI*1.5],[y,k,Math.PI*1.5,Math.PI*2],[y,D,0,Math.PI*.5],[A,D,Math.PI*.5,Math.PI]],$=[];return C.forEach(function(K,J){var ut=K[0],ht=K[1],dt=K[2],ft=K[3],gt=U[J],ot=gt[0],Mt=gt[1],Et=gt[2],Lt=gt[3],Rt=Xb(ot,Mt,b,u,e,i,o);Rt&&Rt.filter(function(Bt){var pt=F_(ss(ot,Mt,Bt[0],Bt[1]));return pt>Et&&pt<Lt}).forEach(function(Bt){return $.push(Bt)});var Ct=$_(u,e,i,o,ut,ht,dt,ft);Ct&&$.push(Ct)}),$}function vd(u,e,i,o,l,h,c,g){return Hb(u,e,i,o).find(function(b){var x=b[0],S=b[1],A=b[2],k=b[3];return $_(l,h,c,g,x,S,A,k)})}function Hb(u,e,i,o){return[[u,e,u+i,e],[u+i,e,u+i,e+o],[u+i,e+o,u,e+o],[u,e+o,u,e]]}function Xb(u,e,i,o,l,h,c){return qb(u,e,i,o,l,h*999999,c*999999)}var rr=Math.PI,pd=rr*2,md=rr/24;function Gb(u,e,i,o,l,h,c,g,b){b===void 0&&(b={});var x,S,A,k,y=b,D=y.bow,C=D===void 0?0:D,U=y.stretch,$=U===void 0?.25:U,K=y.stretchMin,J=K===void 0?50:K,ut=y.stretchMax,ht=ut===void 0?420:ut,dt=y.padStart,ft=dt===void 0?0:dt,gt=y.padEnd,ot=gt===void 0?20:gt,Mt=y.flip,Et=Mt===void 0?!1:Mt,Lt=y.straights,Rt=Lt===void 0?!0:Lt,Ct=u-ft,Bt=e-ft,pt=i+ft*2,Vt=o+ft*2,Ht=l-ot,Ft=h-ot,ae=c+ot*2,he=g+ot*2,Me=u+i/2,tn=e+o/2,me=l+c/2,oe=h+g/2,$e=F_(ss(Me,tn,me,oe)),Jn=Lo(Me,tn,me,oe);if(Jn===0){var At=Me,bt=Bt,Dt=me,Nt=Ft,jt=ki(At,bt,Dt,Nt,.5),be=jt[0],ke=jt[1],Ye=ss(At,bt,Dt,Nt);return[At,bt,be,ke,Dt,Nt,Ye,Ye,Ye]}var Ce=(Vb($e)%2===0?-1:1)*(Et?-1:1),Te=Wb($e);Te<1&&Te>.85&&(Te=.99);var kn=Ub(Ct,Bt,pt,Vt,Ht,Ft,ae,he),Hr=Yb(Ct,Bt,pt,Vt,ft,Ht,Ft,ae,he,ot),De=Hr[0],hn=Hr[1],Le=Hr[2],hr=Hr[3],ce=Lo(De,hn,Le,hr);if(!kn&&Rt&&Te%.5===0){var t=ki(De,hn,Le,hr,.5),r=t[0],a=t[1];return[De,hn,r,a,Le,hr,$e,$e-rr,$e]}var f=kn?rs(ce,[0,Jn],[0,1],!0):0,d=1-ce/Jn,v=rs(ce,[J,ht],[1,0],!0),m=C+v*$,p=rs(Te*Te,[0,1],[rr*.125,0],!0),w=kn?rr*.5*Te:rs(d,[.75,1],[0,rr*.5],!0)*Te,T=w+p*(kn?1-f:1),E=f>=.5?$e+rr*Ce:$e+Math.max(md,T)*Ce,L=Cl(+(E%pd).toPrecision(3)),I=L[0],O=L[1],B=Pa(Me,tn,I,O,Ct,Bt,pt,Vt,ft),q=B[0],Y=q[0],z=q[1],N=vd(Ct,Bt,pt,Vt,Me,tn,I,O);if(!N)throw Error;var M=N[0],R=N[1],V=N[2],W=N[3],Z=ki(M,R,V,W,.5),j=Z[0],Q=Z[1],et=ki(Y,z,j,Q,kn?Math.max(f,.15):.15);if(x=et[0],S=et[1],m*=1+(Math.max(-2,Math.min(d,2))*Te-f)/2,kn&&(m=m<0?Math.min(m,-.5):Math.max(m,.5)),f>=.5){var it=ss(Me,tn,j,Q),tt=Cl(it),rt=tt[0],at=tt[1],_t=Pa(me,oe,rt,at,Ht,Ft,ae,he,ot),vt=_t[0];A=vt[0],k=vt[1]}else{var mt=rs(d,[.75,1],[0,1],!0),Ot=kn?rs(f,[0,1],[0,rr/8],!0):0,kt=rs(Te*mt,[0,1],[0,rr/16],!0),zt=d*(rr/12)+(kt+Ot)+(w+p)/2,Qt=f>=.5?$e+rr*Ce:$e+rr-Math.max(zt,md)*Ce,Wt=Cl(+(Qt%pd).toPrecision(3)),Gt=Wt[0],Zt=Wt[1],ee=Pa(me,oe,Gt,Zt,Ht,Ft,ae,he,ot),Jt=ee[0],Ae=Jt[0],ue=Jt[1],fe=vd(Ht,Ft,ae,he,me,oe,Gt,Zt);if(!fe)throw Error;var re=fe[0],ve=fe[1],on=fe[2],en=fe[3],nn=ki(re,ve,on,en,.5),He=nn[0],Re=nn[1],Xe=ki(Ae,ue,He,Re,.25+f*.25);A=Xe[0],k=Xe[1]}var xn=ki(x,S,A,k,.5),Ze=xn[0],Wn=xn[1],fr=ki(x,S,A,k,Math.max(-1,Math.min(1,.5+m))),Ln=fr[0],Rn=fr[1],_n=gd(Ln,Rn,Ze,Wn,rr/2*Ce),Pn=_n[0],cr=_n[1],bn=gd(Ln,Rn,Ze,Wn,rr/2*-Ce),ni=bn[0],It=bn[1],qt=kn&&Lo(Pn,cr,me,oe)<Lo(ni,It,me,oe)?[ni,It]:[Pn,cr],te=qt[0],le=qt[1],Xt=ss(te,le,x,S),_e=ss(te,le,A,k);return[x,S,te,le,A,k,_e,Xt,ss(x,S,A,k)]}var Zb=G.template("<svg><circle></svg>",!1,!0),Kb=G.template("<svg><g><path fill=none></path><polygon></svg>",!1,!0),Jb=G.template("<svg><g></svg>",!1,!0);const jb=An(u=>{u=yt.mergeProps({bow:.2,stretch:.5,stretchMin:40,stretchMax:420,padStart:5,padEnd:20,flip:!1,straights:!0,"stroke-width":3,stroke:"black"},u);const e=o=>{if(o=Array.from(o),u.name.endsWith("DEBUG"))debugger;const l=o[0].bbox,h=o[1].bbox,c=Gb(l.left??0,l.top??0,l.width??0,l.height??0,h.left??0,h.top??0,h.width??0,h.height??0,u),g=qs([l.left,h.left]),b=qs([l.top,h.top]),x=Ri([l.right,h.right]),S=Ri([l.bottom,h.bottom]),A=Qe(x,g),k=Qe(S,b);return{transform:{translate:{x:Qe(u.x,g),y:Qe(u.y,b)}},bbox:{left:g,top:b,right:x,bottom:S,width:A,height:k},customData:{sx:c[0],sy:c[1],cx:c[2],cy:c[3],ex:c[4],ey:c[5],ae:c[6],as:c[7],ec:c[8]}}},i=o=>{const l=()=>o.customData.ae*(180/Math.PI),h=()=>{const c=[[0,-2],[4,0],[0,2]];return c.forEach(g=>{g[0]*=u["stroke-width"],g[1]*=u["stroke-width"]}),c.map(g=>g.map(b=>b.toString()).join(",")).join(" ")};return G.createComponent(yt.Show,{get when(){return o.customData},get fallback(){return(()=>{var c=Jb();return G.insert(c,()=>o.children),c})()},get children(){var c=Kb(),g=c.firstChild,b=g.nextSibling;return G.insert(c,G.createComponent(yt.Show,{get when(){return u.start},fallback:[],get children(){var x=Zb();return G.effect(S=>{var A=o.customData.sx,k=o.customData.sy,y=4/3*u["stroke-width"],D=u.stroke;return A!==S.e&&G.setAttribute(x,"cx",S.e=A),k!==S.t&&G.setAttribute(x,"cy",S.t=k),y!==S.a&&G.setAttribute(x,"r",S.a=y),D!==S.o&&G.setAttribute(x,"fill",S.o=D),S},{e:void 0,t:void 0,a:void 0,o:void 0}),x}}),g),G.insert(c,()=>o.children,null),G.effect(x=>{var S=`translate(${o.transform.translate.x??0}, ${o.transform.translate.y??0})`,A=`M${o.customData.sx},${o.customData.sy} Q${o.customData.cx},${o.customData.cy} ${o.customData.ex},${o.customData.ey}`,k=u.stroke,y=u["stroke-width"],D=h(),C=`translate(${o.customData.ex},${o.customData.ey}) rotate(${l()})`,U=u.stroke;return S!==x.e&&G.setAttribute(c,"transform",x.e=S),A!==x.t&&G.setAttribute(g,"d",x.t=A),k!==x.a&&G.setAttribute(g,"stroke",x.a=k),y!==x.o&&G.setAttribute(g,"stroke-width",x.o=y),D!==x.i&&G.setAttribute(b,"points",x.i=D),C!==x.n&&G.setAttribute(b,"transform",x.n=C),U!==x.s&&G.setAttribute(b,"fill",x.s=U),x},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),c}})};return G.createComponent(qn,{get name(){return u.name},layout:e,paint:i,get children(){return u.children}})},{displayName:"Arrow"});var Qb=G.template("<svg><rect></svg>",!1,!0);const V_=An(u=>{const e=()=>({bbox:{left:0,top:0,width:u.width,height:u.height},transform:{translate:{x:u.x,y:u.y}}}),i=o=>{const[l,h]=yt.splitProps(u,["name","x","y","width","height"]);return(()=>{var c=Qb();return G.spread(c,G.mergeProps(h,{get x(){return(o.bbox.left??0)+(o.transform.translate.x??0)},get y(){return(o.bbox.top??0)+(o.transform.translate.y??0)},get width(){return o.bbox.width},get height(){return o.bbox.height}}),!0,!1),c})()};return G.createComponent(qn,{get name(){return u.name},layout:e,paint:i})},{displayName:"Rect"});var t2=G.template("<svg><g></svg>",!1,!0);const e2=An(u=>{u=yt.mergeProps({padding:10,stroke:"black",fill:"none","stroke-width":3},u);const[e,i]=yt.splitProps(u,["padding"]),o=h=>{if(h=Array.from(h),u.name.endsWith("DEBUG"))debugger;const[c,...g]=h;let b,x;if(c.owned.left)throw new Error("Background x must be inferred from children");{const S=g.filter(k=>k.owned.left).map(k=>k.bbox.left);b=(S.length===0?0:qs(S)??0)-u.padding,c.bbox.left=b}if(c.owned.top)throw new Error("Background y must be inferred from children");{const S=g.filter(k=>k.owned.top).map(k=>k.bbox.top);x=(S.length===0?0:qs(S)??0)-u.padding,c.bbox.top=x}if(!c.owned.width){const S=g.filter(D=>D.owned.left&&D.owned.width).map(D=>Br(D.bbox.left,D.bbox.width)),A=S.length===0?void 0:Ri(S),k=g.map(D=>D.bbox.width),y=Qe(A,b+u.padding)??(k.length===0?0:Ri(k)??0);c.bbox.width=y+2*u.padding}for(const S of g)S.owned.left||(S.bbox.left=b+(c.bbox.width-S.bbox.width)/2);if(!c.owned.height){const S=g.filter(D=>D.owned.top&&D.owned.height).map(D=>Br(D.bbox.top,D.bbox.height)),A=S.length===0?void 0:Ri(S),k=g.map(D=>D.bbox.height),y=Qe(A,x+u.padding)??(k.length===0?0:Ri(k)??0);c.bbox.height=y+2*u.padding}for(const S of g)S.owned.top||(S.bbox.top=x+(c.bbox.height-S.bbox.height)/2);return{bbox:{left:b,top:x,width:c.bbox.width,height:c.bbox.height},transform:{translate:{x:Qe(u.x,b),y:Qe(u.y,x)}}}},l=h=>(()=>{var c=t2();return G.insert(c,()=>h.children),G.effect(()=>G.setAttribute(c,"transform",`translate(${h.transform.translate.x??0}, ${h.transform.translate.y??0})`)),c})();return G.createComponent(qn,{get name(){return u.name},layout:o,paint:l,get children(){return[G.createComponent(yt.Show,{get when(){return u.background!==void 0},get fallback(){return G.createComponent(V_,i)},get children(){return u.background()}}),G.memo(()=>u.children)]}})},{displayName:"Background"});var n2=G.template("<svg><g><path></svg>",!1,!0);const r2=An(u=>{const[e,i]=yt.splitProps(u,["name","path"]),o=()=>{const c=u.path.clone();return c.closed=!0,c.smooth({type:"continuous"}),c.flatten(4),c.smooth({type:"continuous"}),c},l=()=>{const c=o().strokeBounds;return{bbox:{left:c.left,top:c.top,width:c.width,height:c.height},transform:{translate:{}}}},h=c=>{const g=()=>o().exportSVG().getAttribute("d")??"";return(()=>{var b=n2(),x=b.firstChild;return G.spread(x,G.mergeProps(i,{get d(){return g()}}),!0,!1),G.effect(()=>G.setAttribute(b,"transform",`translate(${c.transform.translate.x}, ${c.transform.translate.y})`)),b})()};return G.createComponent(qn,{get name(){return u.name},layout:l,paint:h})},{displayName:"Blob"});var i2=G.template("<svg><circle></svg>",!1,!0);const s2=An(u=>{const e=()=>({bbox:{left:-u.r,top:-u.r,width:u.r*2,height:u.r*2},transform:{translate:{x:u.cx,y:u.cy}}}),i=o=>{const[l,h]=yt.splitProps(u,["name","cx","cy","r"]),c=()=>(o.bbox.width??0)/2;return(()=>{var g=i2();return G.spread(g,G.mergeProps(h,{get cx(){return(o.bbox.left??0)+c()+(o.transform.translate.x??0)},get cy(){return(o.bbox.top??0)+c()+(o.transform.translate.y??0)},get r(){return c()}}),!0,!1),g})()};return G.createComponent(qn,{get name(){return u.name},layout:e,paint:i})},{displayName:"Circle"}),a2=u=>e=>{const i=_i();if(u.name.endsWith("DEBUG"))debugger;const o=e.map(g=>u.alignment),l=Zn.zip(e,o).filter(([g,b])=>b!==void 0),c=l.filter(([g,b])=>g.owned[b]).map(([g,b])=>[g,g.bbox[b]])[0]?.[1]??0;for(const[g,b]of l)g.owned[b]||(g.bbox[b]=c);if(u.direction==="vertical"){let g,b;if(u.spacing!==void 0&&u.total!==void 0){b=u.spacing,g=u.total;let y=g;for(const U of e)U.owned.height&&(y-=U.bbox.height);const D=e.filter(U=>!U.owned.height),C=y/D.length;for(const U of D)U.bbox.height=C}else if(u.spacing!==void 0){b=u.spacing;for(const y of e)if(!y.owned.height)return i(Di({source:u.name,name:y.name,dim:"height"})),{bbox:{},transform:{translate:{}}};g=Zn.sumBy(e,y=>y.bbox.height)+b*(e.length-1)}else if(u.total!==void 0){g=u.total;for(const D of e)if(!D.owned.height)return i(Di({source:u.name,name:D.name,dim:"height"})),{bbox:{},transform:{translate:{}}};const y=Zn.sumBy(e,D=>D.bbox.height);b=(u.total-y)/(e.length-1)}else throw new Error("invalid options");const x=e.findIndex(y=>y.owned.top);let A=x===-1?0:e[x].bbox.top-b*x-Zn.sumBy(e.slice(0,x),y=>y.bbox.height);for(const y of e)y.owned.top||(y.bbox.top=A),A+=y.bbox.height+b;const k=Nl(e.map(y=>y.bbox));return{bbox:k,transform:{translate:{x:Qe(u.x,k.left),y:Qe(u.y,k.top)}}}}else if(u.direction==="horizontal"){let g,b;if(u.spacing!==void 0&&u.total!==void 0){b=u.spacing,g=u.total;let y=g;for(const U of e)U.owned.width&&(y-=U.bbox.width);const D=e.filter(U=>!U.owned.width),C=y/D.length;for(const U of D)U.bbox.width=C}else if(u.spacing!==void 0){b=u.spacing;for(const y of e)if(!y.owned.width)return i(Di({source:u.name,name:y.name,dim:"width"})),{bbox:{},transform:{translate:{}}};g=Zn.sumBy(e,y=>y.bbox.width)+b*(e.length-1)}else if(u.total!==void 0){g=u.total;for(const D of e)if(!D.owned.width)return i(Di({source:u.name,name:D.name,dim:"width"})),{bbox:{},transform:{translate:{}}};const y=Zn.sumBy(e,D=>D.bbox.width);b=(u.total-y)/(e.length-1)}else throw new Error("Invalid options for space");const x=e.findIndex(y=>y.owned.left);let A=x===-1?0:e[x].bbox.left-b*x-Zn.sumBy(e.slice(0,x),y=>y.bbox.width);for(const y of e)y.owned.left||(y.bbox.left=A),A+=y.bbox.width+b;const k=Nl(e.map(y=>y.bbox));return{bbox:k,transform:{translate:{x:Qe(u.x,k.left),y:Qe(u.y,k.top)}}}}else throw new Error("Invalid direction")};var o2=G.template("<svg><g></svg>",!1,!0);const U_=An(u=>{const e=yt.createMemo(()=>u.total===void 0&&u.spacing===void 0?10:u.spacing),i=yt.createMemo(()=>{if(u.direction==="vertical")return"centerX";if(u.direction==="horizontal")return"centerY"});u=yt.mergeProps({get spacing(){return e()},get alignment(){return i()}},u);const o=h=>a2(u)(h),l=h=>(()=>{var c=o2();return G.insert(c,()=>h.children),G.effect(()=>G.setAttribute(c,"transform",`translate(${h.transform.translate.x??0}, ${h.transform.translate.y??0})`)),c})();return G.createComponent(qn,{get name(){return u.name},layout:o,paint:l,get children(){return u.children}})},{displayName:"Stack"}),u2=An(u=>{const e=yt.mergeProps({direction:"vertical",alignment:"centerX"},u);return G.createComponent(U_,e)},{displayName:"StackV"});var l2=G.template("<svg><g></svg>",!1,!0);const h2=An(u=>{const e=_i(),i=l=>{if(l=Array.from(l),u.name.endsWith("DEBUG"))debugger;if(u.direction==="vertical"){let h,c;if(u.spacing!==void 0&&u.total!==void 0){c=u.spacing,h=u.total;let S=h;for(const y of l)y.owned.height&&(S-=y.bbox.height);const A=l.filter(y=>!y.owned.height),k=S/A.length;for(const y of A)y.bbox.height=k}else if(u.spacing!==void 0){c=u.spacing;for(const S of l)if(!S.owned.height)return e(Di({source:u.name,name:S.name,dim:"height"})),{bbox:{},transform:{translate:{}}};h=Zn.sumBy(l,S=>S.bbox.height)+c*(l.length-1)}else if(u.total!==void 0){h=u.total;for(const A of l)if(!A.owned.height)return e(Di({source:u.name,name:A.name,dim:"height"})),{bbox:{},transform:{translate:{}}};const S=Zn.sumBy(l,A=>A.bbox.height);c=(u.total-S)/(l.length-1)}else throw new Error("invalid options");const g=l.findIndex(S=>S.owned.top),b=g===-1?0:l[g].bbox.top-c*g-Zn.sumBy(l.slice(0,g),S=>S.bbox.height);let x=b;for(const S of l)S.owned.top||(S.bbox.top=x),x+=S.bbox.height+c;return{bbox:{top:b,height:h},transform:{translate:{}}}}else if(u.direction==="horizontal"){let h,c;if(u.spacing!==void 0&&u.total!==void 0){c=u.spacing,h=u.total;let S=h;for(const y of l)y.owned.width&&(S-=y.bbox.width);const A=l.filter(y=>!y.owned.width),k=S/A.length;for(const y of A)y.bbox.width=k}else if(u.spacing!==void 0){c=u.spacing;for(const S of l)if(!S.owned.width)return e(Di({source:u.name,name:S.name,dim:"width"})),{bbox:{},transform:{translate:{}}};h=Zn.sumBy(l,S=>S.bbox.width)+c*(l.length-1)}else if(u.total!==void 0){h=u.total;for(const A of l)if(!A.owned.width)return e(Di({source:u.name,name:A.name,dim:"width"})),{bbox:{},transform:{translate:{}}};const S=Zn.sumBy(l,A=>A.bbox.width);c=(u.total-S)/(l.length-1)}else throw new Error("Invalid options for space");const g=l.findIndex(S=>S.owned.left),b=g===-1?0:l[g].bbox.left-c*g-Zn.sumBy(l.slice(0,g),S=>S.bbox.width);let x=b;for(const S of l)S.owned.left||(S.bbox.left=x),x+=S.bbox.width+c;return{bbox:{left:b,width:h},transform:{translate:{}}}}else throw new Error("Invalid direction")},o=l=>(()=>{var h=l2();return G.insert(h,()=>l.children),G.effect(()=>G.setAttribute(h,"transform",`translate(${l.transform.translate.x??0}, ${l.transform.translate.y??0})`)),h})();return G.createComponent(qn,{get name(){return u.name},layout:i,paint:o,get children(){return u.children}})},{displayName:"Distribute"});var f2=G.template("<svg><g></svg>",!1,!0);const c2=An(u=>{const e=o=>{if(u.name.endsWith("DEBUG"))debugger;for(const A of o)A.owned.left||(A.bbox.left=0),A.owned.top||(A.bbox.top=0);const l={left:o.map(A=>A.bbox.left),top:o.map(A=>A.bbox.top),width:o.map(A=>A.bbox.width),height:o.map(A=>A.bbox.height)},h=Uo(l.left)??0,c=Vo(l.left.map((A,k)=>Br(A,l.width[k]))),g=Uo(l.top)??0,b=Vo(l.top.map((A,k)=>Br(A,l.height[k]))),x=Qe(c,h),S=Qe(b,g);return{transform:{translate:{x:Qe(u.x,h),y:Qe(u.y,g)}},bbox:{left:h,top:g,width:x,height:S}}},i=o=>(()=>{var l=f2();return G.insert(l,()=>o.children),G.effect(()=>G.setAttribute(l,"transform",`translate(${o.transform.translate.x??0}, ${o.transform.translate.y??0})`)),l})();return G.createComponent(qn,{get name(){return u.name},layout:e,paint:i,get children(){return[G.memo(()=>u.children),G.memo(()=>u.rels?.()??null)]}})},{displayName:"Group"});var d2=G.template("<svg><image></svg>",!1,!0);const _2=An(u=>{const e=()=>({bbox:{left:0,top:0,width:u.width,height:u.height},transform:{translate:{x:u.x,y:u.y}}}),i=o=>{const[l,h]=yt.splitProps(u,["name","x","y","width","height"]);return(()=>{var c=d2();return G.spread(c,G.mergeProps(h,{get x(){return(o.bbox.left??0)+(o.transform.translate.x??0)},get y(){return(o.bbox.top??0)+(o.transform.translate.y??0)},get width(){return o.bbox.width},get height(){return o.bbox.height}}),!0,!1),c})()};return G.createComponent(qn,{get name(){return u.name},layout:e,paint:i})},{displayName:"Image"});var g2=G.template("<svg><g></svg>",!1,!0);const v2=An(u=>{u=yt.mergeProps({},u);const e=o=>{const l=o[0].bbox,h=o[1].bbox;for(const[c,g]of Object.entries(u.f(l,h)))h[c]=g;return{transform:{translate:{x:u.x,y:u.y}},bbox:h}},i=o=>(()=>{var l=g2();return G.insert(l,()=>o.children),l})();return G.createComponent(qn,{get name(){return u.name},layout:e,paint:i,get children(){return u.children}})},{displayName:"LayoutFunction"});var p2=G.template("<svg><g><line></svg>",!1,!0),m2=G.template("<svg><g></svg>",!1,!0);const y2=(u,e,i)=>Math.min(Math.max(u,e),i),w2=(u,e,i)=>e+(i-e)*u,Li=(u,e,i)=>e!==void 0&&i!==void 0&&u!==void 0?w2(u,e,i):void 0,Dr=(u,e,i)=>e!==void 0&&i!==void 0&&u!==void 0?y2(u,e,i):void 0,Ro=(u,e)=>u!==void 0&&e!==void 0?u-e:void 0,yd=(u,e)=>u!==void 0&&e!==void 0?Math.min(u,e):void 0,wd=(u,e)=>u!==void 0&&e!==void 0?Math.max(u,e):void 0,x2=An(u=>{u=yt.mergeProps({"stroke-width":3,stroke:"black",source:void 0,target:void 0},u);const e=o=>{o=Array.from(o);const l=o[0].bbox,h=o[1].bbox,c={fromX:l.left+l.width/2,fromY:l.top+l.height/2,toX:h.left+h.width/2,toY:h.top+h.height/2};let g={};if(u.source&&u.target)g={fromX:Li(u.source[0],l.left,l.right),fromY:Li(u.source[1],l.top,l.bottom),toX:Li(u.target[0],h.left,h.right),toY:Li(u.target[1],h.top,h.bottom)};else if(u.source){const D=Li(u.source[0],l.left,l.right),C=Li(u.source[1],l.top,l.bottom);g={fromX:D,fromY:C,toX:Dr(D,h.left,h.right),toY:Dr(C,h.top,h.bottom)}}else if(u.target){const D=Li(u.target[0],h.left,h.right),C=Li(u.target[1],h.top,h.bottom);g={fromX:Dr(D,l.left,l.right),fromY:Dr(C,l.top,l.bottom),toX:D,toY:C}}else g={fromX:Dr(Dr(c.fromX,h.left,h.right),l.left,l.right),fromY:Dr(Dr(c.fromY,h.top,h.bottom),l.top,l.bottom),toX:Dr(Dr(c.toX,l.left,l.right),h.left,h.right),toY:Dr(Dr(c.toY,l.top,l.bottom),h.top,h.bottom)};const b=yd(g.fromX,g.toX),x=yd(g.fromY,g.toY),S=wd(g.fromX,g.toX),A=wd(g.fromY,g.toY),k=Ro(S,b),y=Ro(A,x);return{transform:{translate:{x:Ro(u.x,b),y:Ro(u.y,x)}},bbox:{left:b,top:x,width:k,height:y},customData:g}},i=o=>G.createComponent(yt.Show,{get when(){return o.customData},get fallback(){return(()=>{var l=m2();return G.insert(l,()=>o.children),l})()},get children(){var l=p2(),h=l.firstChild;return G.insert(l,()=>o.children,null),G.effect(c=>{var g=`translate(${o.transform.translate.x??0}, ${o.transform.translate.y??0})`,b=o.customData.fromX,x=o.customData.toX,S=o.customData.fromY,A=o.customData.toY,k=u.stroke,y=u["stroke-width"],D=u["stroke-dasharray"];return g!==c.e&&G.setAttribute(l,"transform",c.e=g),b!==c.t&&G.setAttribute(h,"x1",c.t=b),x!==c.a&&G.setAttribute(h,"x2",c.a=x),S!==c.o&&G.setAttribute(h,"y1",c.o=S),A!==c.i&&G.setAttribute(h,"y2",c.i=A),k!==c.n&&G.setAttribute(h,"stroke",c.n=k),y!==c.s&&G.setAttribute(h,"stroke-width",c.s=y),D!==c.h&&G.setAttribute(h,"stroke-dasharray",c.h=D),c},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),l}});return G.createComponent(qn,{get name(){return u.name},layout:e,paint:i,get children(){return u.children}})},{displayName:"Line"}),b2=u=>Array.isArray(u)?u:[u],S2=(u,e)=>{const[i,...o]=e;let l=i;if(!(i in u))throw new Error(`Could not find ${i}. Available names: ${Object.keys(u).join(", ")}`);for(const c of o){const g=u[l].children[c];if(g===void 0)throw console.log(JSON.parse(JSON.stringify(u))),new Error(`Could not find ${c} in ${l}. Available names: ${Object.keys(u[l].children).join(", ")}`);l=g}const h=u[l].layoutNode;if(h===void 0)throw console.log(JSON.parse(JSON.stringify(u))),new Error(`Could not find layout node for ${l}. Available names: ${Object.keys(u[l].children).join(", ")}`);return h},C2=An(u=>{_i();const[e,i]=yt.useContext(Ks),{createRef:o}=hh(),l=()=>b2(u.select);return yt.onCleanup(()=>{i(Fe.produce(h=>{for(const c of Object.keys(h))h[c].layoutNode===u.name&&delete h[c]}))}),{jsx:[],layout:h=>{if(h===null)throw new Error("Ref must be a child of a Layout");o(u.name,S2(e,l()),h)}}},{displayName:"Ref"}),T2=An(u=>{const e=yt.mergeProps({direction:"horizontal",alignment:"centerY"},u);return G.createComponent(U_,e)},{displayName:"StackH"});var sh={exports:{}},Tl="(".charCodeAt(0),Al=")".charCodeAt(0),Do="'".charCodeAt(0),Pl='"'.charCodeAt(0),Ol="\\".charCodeAt(0),zo="/".charCodeAt(0),Ml=",".charCodeAt(0),Il=":".charCodeAt(0),xd="*".charCodeAt(0),A2=function(u){for(var e=[],i=u,o,l,h,c,g,b,x,S=0,A=i.charCodeAt(S),k=i.length,y=[{nodes:e}],D=0,C,U="",$="",K="";S<k;)if(A<=32){o=S;do o+=1,A=i.charCodeAt(o);while(A<=32);c=i.slice(S,o),h=e[e.length-1],A===Al&&D?K=c:h&&h.type==="div"?h.after=c:A===Ml||A===Il||A===zo&&i.charCodeAt(o+1)!==xd?$=c:e.push({type:"space",sourceIndex:S,value:c}),S=o}else if(A===Do||A===Pl){o=S,l=A===Do?"'":'"',c={type:"string",sourceIndex:S,quote:l};do if(g=!1,o=i.indexOf(l,o+1),~o)for(b=o;i.charCodeAt(b-1)===Ol;)b-=1,g=!g;else i+=l,o=i.length-1,c.unclosed=!0;while(g);c.value=i.slice(S+1,o),e.push(c),S=o+1,A=i.charCodeAt(S)}else if(A===zo&&i.charCodeAt(S+1)===xd)c={type:"comment",sourceIndex:S},o=i.indexOf("*/",S),o===-1&&(c.unclosed=!0,o=i.length),c.value=i.slice(S+2,o),e.push(c),S=o+2,A=i.charCodeAt(S);else if(A===zo||A===Ml||A===Il)c=i[S],e.push({type:"div",sourceIndex:S-$.length,value:c,before:$,after:""}),$="",S+=1,A=i.charCodeAt(S);else if(Tl===A){o=S;do o+=1,A=i.charCodeAt(o);while(A<=32);if(c={type:"function",sourceIndex:S-U.length,value:U,before:i.slice(S+1,o)},S=o,U==="url"&&A!==Do&&A!==Pl){o-=1;do if(g=!1,o=i.indexOf(")",o+1),~o)for(b=o;i.charCodeAt(b-1)===Ol;)b-=1,g=!g;else i+=")",o=i.length-1,c.unclosed=!0;while(g);x=o;do x-=1,A=i.charCodeAt(x);while(A<=32);S!==x+1?c.nodes=[{type:"word",sourceIndex:S,value:i.slice(S,x+1)}]:c.nodes=[],c.unclosed&&x+1!==o?(c.after="",c.nodes.push({type:"space",sourceIndex:x+1,value:i.slice(x+1,o)})):c.after=i.slice(x+1,o),S=o+1,A=i.charCodeAt(S),e.push(c)}else D+=1,c.after="",e.push(c),y.push(c),e=c.nodes=[],C=c;U=""}else if(Al===A&&D)S+=1,A=i.charCodeAt(S),C.after=K,K="",D-=1,y.pop(),C=y[D],e=C.nodes;else{o=S;do A===Ol&&(o+=1),o+=1,A=i.charCodeAt(o);while(o<k&&!(A<=32||A===Do||A===Pl||A===Ml||A===Il||A===zo||A===Tl||A===Al&&D));c=i.slice(S,o),Tl===A?U=c:e.push({type:"word",sourceIndex:S,value:c}),S=o}for(S=y.length-1;S;S-=1)y[S].unclosed=!0;return y[0].nodes},P2=function u(e,i,o){var l,h,c,g;for(l=0,h=e.length;l<h;l+=1)c=e[l],o||(g=i(c,l,e)),g!==!1&&c.type==="function"&&Array.isArray(c.nodes)&&u(c.nodes,i,o),o&&i(c,l,e)};function bd(u,e){var i=u.type,o=u.value,l,h;return e&&(h=e(u))!==void 0?h:i==="word"||i==="space"?o:i==="string"?(l=u.quote||"",l+o+(u.unclosed?"":l)):i==="comment"?"/*"+o+(u.unclosed?"":"*/"):i==="div"?(u.before||"")+o+(u.after||""):Array.isArray(u.nodes)?(l=q_(u.nodes),i!=="function"?l:o+"("+(u.before||"")+l+(u.after||"")+(u.unclosed?"":")")):o}function q_(u,e){var i,o;if(Array.isArray(u)){for(i="",o=u.length-1;~o;o-=1)i=bd(u[o],e)+i;return i}return bd(u,e)}var O2=q_,El,Sd;function M2(){if(Sd)return El;Sd=1;var u="-".charCodeAt(0),e="+".charCodeAt(0),i=".".charCodeAt(0),o="e".charCodeAt(0),l="E".charCodeAt(0);return El=function(h){for(var c=0,g=h.length,b=!1,x=-1,S=!1,A;c<g;){if(A=h.charCodeAt(c),A>=48&&A<=57)S=!0;else if(A===o||A===l){if(x>-1)break;x=c}else if(A===i){if(b)break;b=!0}else if(A===e||A===u){if(c!==0)break}else break;c+=1}return x+1===c&&c--,S?{number:h.slice(0,c),unit:h.slice(c)}:!1},El}var I2=A2,W_=P2,Y_=O2;function qi(u){return this instanceof qi?(this.nodes=I2(u),this):new qi(u)}qi.prototype.toString=function(){return Array.isArray(this.nodes)?Y_(this.nodes):""};qi.prototype.walk=function(u,e){return W_(this.nodes,u,e),this};qi.unit=M2();qi.walk=W_;qi.stringify=Y_;var E2=qi;function k2(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var H_={};(function(u){var e=function(){function i(k,y){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),k==null&&(k="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:k}),this.hash=y;var D;if(y&&y.exception instanceof Error){var C=y.exception;this.message=C.message||k,D=C.stack}D||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):D=new Error(k).stack),D&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:D})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(i.prototype,Error.prototype):i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.name="JisonParserError";function o(k){for(var y=[],D=k.pop,C=k.rule,U=0,$=D.length;U<$;U++)y.push([D[U],C[U]]);return y}function l(k){for(var y={},D=k.idx,C=k.goto,U=0,$=D.length;U<$;U++){var K=D[U];y[K]=C[U]}return y}function h(k){for(var y=[],D=k.len,C=k.symbol,U=k.type,$=k.state,K=k.mode,J=k.goto,ut=0,ht=D.length;ut<ht;ut++){for(var dt=D[ut],ft={},gt=0;gt<dt;gt++){var ot=C.shift();switch(U.shift()){case 2:ft[ot]=[K.shift(),J.shift()];break;case 0:ft[ot]=$.shift();break;default:ft[ot]=[3]}}y.push(ft)}return y}function c(k,y,D){D=D||0;for(var C=0;C<y;C++)this.push(k),k+=D}function g(k,y){for(k=this.length-k,y+=k;k<y;k++)this.push(this[k])}function b(k){for(var y=[],D=0,C=k.length;D<C;D++){var U=k[D];typeof U=="function"?(D++,U.apply(y,k[D])):y.push(U)}return y}var x={trace:function(){},JisonParserError:i,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(y){return'"'+y+'"'},getSymbolName:function(y){if(this.terminals_[y])return this.terminals_[y];var D=this.symbols_;for(var C in D)if(D[C]===y)return C;return null},describeSymbol:function(y){if(y!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[y])return this.terminal_descriptions_[y];if(y===this.EOF)return"end of input";var D=this.getSymbolName(y);return D?this.quoteName(D):null},collect_expected_token_set:function(y,D){var C=this.TERROR,U=[],$={};if(!D&&this.state_descriptions_&&this.state_descriptions_[y])return[this.state_descriptions_[y]];for(var K in this.table[y])if(K=+K,K!==C){var J=D?K:this.describeSymbol(K);J&&!$[J]&&(U.push(J),$[J]=!0)}return U},productions_:o({pop:b([29,c,[30,10],31,31,32,32,c,[33,15]]),rule:b([2,c,[3,5],4,7,c,[1,4],2,4,6,c,[1,14],2])}),performAction:function(y,D,C){var U=this.yy;switch(U.parser,U.lexer,y){case 0:this.$=C[D-1];break;case 1:return this.$=C[D-1],C[D-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:C[D-1],left:C[D-2],right:C[D]};break;case 6:this.$=C[D-1];break;case 7:this.$={type:"Calc",value:C[D-1]};break;case 8:this.$={type:"Calc",value:C[D-1],prefix:C[D-5]};break;case 9:case 10:case 11:this.$=C[D];break;case 12:this.$={type:"Value",value:parseFloat(C[D])};break;case 13:this.$={type:"Value",value:parseFloat(C[D])*-1};break;case 14:this.$={type:"CssVariable",value:C[D-1]};break;case 15:this.$={type:"CssVariable",value:C[D-3],fallback:C[D-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(C[D]),unit:/[a-z]+/.exec(C[D])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(C[D]),unit:/[a-z]+/.exec(C[D])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(C[D]),unit:/[a-z]+/.exec(C[D])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(C[D]),unit:/[a-z]+/.exec(C[D])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(C[D]),unit:/[a-z]+/.exec(C[D])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(C[D]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(C[D]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(C[D]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(C[D]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(C[D]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(C[D]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(C[D]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(C[D]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(C[D]),unit:"%"};break;case 30:var $=C[D];$.value*=-1,this.$=$;break}},table:h({len:b([24,1,5,23,1,18,c,[0,3],1,c,[0,16],c,[23,4],g,[28,3],0,0,16,1,6,6,c,[0,3],5,1,2,g,[37,3],g,[20,3],5,0,0]),symbol:b([4,7,9,11,12,c,[15,19,1],1,1,c,[3,4,1],g,[30,19],g,[29,4],7,4,10,11,g,[22,14],g,[19,3],g,[43,22],g,[23,69],g,[139,4],8,g,[51,24],4,g,[138,15],13,g,[186,5],8,g,[6,6],g,[5,5],9,8,14,g,[159,47],g,[60,10]]),type:b([c,[2,19],c,[0,5],1,c,[2,24],c,[0,4],g,[22,19],g,[43,42],g,[23,70],g,[28,25],g,[45,25],g,[113,54]]),state:b([1,2,8,6,7,30,g,[4,3],33,37,g,[5,3],38,g,[4,3],39,g,[4,3],40,g,[4,3],42,g,[21,4],50,g,[5,3],51,g,[4,3]]),mode:b([c,[1,179],c,[2,3],g,[5,5],g,[6,4],c,[1,57]]),goto:b([5,3,4,24,c,[9,15,1],c,[25,5,1],g,[24,19],31,35,32,34,g,[18,14],36,g,[38,19],g,[19,57],g,[118,4],41,g,[24,19],43,35,g,[16,14],44,c,[2,3],28,29,2,c,[3,3],28,29,3,g,[53,4],c,[45,5,1],g,[100,42],52,g,[5,4],53])}),defaultActions:l({idx:b([6,7,8,c,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:b([9,10,11,c,[16,14,1],12,1,30,13,c,[4,4,1],14,15,8])}),parseError:function(y,D,C){if(D.recoverable)typeof this.trace=="function"&&this.trace(y),D.destroy();else throw typeof this.trace=="function"&&this.trace(y),C||(C=this.JisonParserError),new C(y,D)},parse:function(y){var D=this,C=new Array(128),U=new Array(128),$=new Array(128),K=this.table,J=0,ut=0;this.TERROR;var ht=this.EOF;this.options.errorRecoveryTokenDiscardCount|0;var dt=[0,54],ft;this.__lexer__?ft=this.__lexer__:ft=this.__lexer__=Object.create(this.lexer);var gt={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};typeof assert!="function"||assert,this.yyGetSharedState=function(){return gt};function ot(At,bt){for(var Dt in bt)typeof At[Dt]>"u"&&Object.prototype.hasOwnProperty.call(bt,Dt)&&(At[Dt]=bt[Dt])}ot(gt,this.yy),gt.lexer=ft,gt.parser=this,typeof gt.parseError=="function"?this.parseError=function(bt,Dt,Nt){return Nt||(Nt=this.JisonParserError),gt.parseError.call(this,bt,Dt,Nt)}:this.parseError=this.originalParseError,typeof gt.quoteName=="function"?this.quoteName=function(bt){return gt.quoteName.call(this,bt)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(bt,Dt,Nt){var jt;if(Dt){var be;(gt.post_parse||this.post_parse)&&(be=this.constructParseErrorInfo(null,null,null,!1)),gt.post_parse&&(jt=gt.post_parse.call(this,gt,bt,be),typeof jt<"u"&&(bt=jt)),this.post_parse&&(jt=this.post_parse.call(this,gt,bt,be),typeof jt<"u"&&(bt=jt)),be&&be.destroy&&be.destroy()}if(this.__reentrant_call_depth>1)return bt;if(ft.cleanupAfterLex&&ft.cleanupAfterLex(Nt),gt&&(gt.lexer=void 0,gt.parser=void 0,ft.yy===gt&&(ft.yy=void 0)),gt=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,C.length=0,U.length=0,$.length=0,J=0,!Nt){for(var ke=this.__error_infos.length-1;ke>=0;ke--){var Ye=this.__error_infos[ke];Ye&&typeof Ye.destroy=="function"&&Ye.destroy()}this.__error_infos.length=0}return bt},this.constructParseErrorInfo=function(bt,Dt,Nt,jt){var be={errStr:bt,exception:Dt,text:ft.match,value:ft.yytext,token:this.describeSymbol(ut)||ut,token_id:ut,line:ft.yylineno,expected:Nt,recoverable:jt,state:Rt,action:Ct,new_state:he,symbol_stack:C,state_stack:U,value_stack:$,stack_pointer:J,yy:gt,lexer:ft,parser:this,destroy:function(){var Ye=!!this.recoverable;for(var Ce in this)this.hasOwnProperty(Ce)&&typeof Ce=="object"&&(this[Ce]=void 0);this.recoverable=Ye}};return this.__error_infos.push(be),be};function Mt(){var At=ft.lex();return typeof At!="number"&&(At=D.symbols_[At]||At),At||ht}function Et(){var At=ft.fastLex();return typeof At!="number"&&(At=D.symbols_[At]||At),At||ht}var Lt=Mt,Rt,Ct,Bt,pt,Vt={$:!0,_$:void 0,yy:gt},Ht,Ft,ae,he,Me=!1;try{if(this.__reentrant_call_depth++,ft.setInput(y,gt),typeof ft.canIUse=="function"){var tn=ft.canIUse();tn.fastLex&&typeof Et=="function"&&(Lt=Et)}for($[J]=null,U[J]=0,C[J]=0,++J,this.pre_parse&&this.pre_parse.call(this,gt),gt.pre_parse&&gt.pre_parse.call(this,gt),he=U[J-1];;){if(Rt=he,this.defaultActions[Rt])Ct=2,he=this.defaultActions[Rt];else if(ut||(ut=Lt()),pt=K[Rt]&&K[Rt][ut]||dt,he=pt[1],Ct=pt[0],!Ct){var me,oe=this.describeSymbol(ut)||ut,$e=this.collect_expected_token_set(Rt);typeof ft.yylineno=="number"?me="Parse error on line "+(ft.yylineno+1)+": ":me="Parse error: ",typeof ft.showPosition=="function"&&(me+=`
`+ft.showPosition(79-10,10)+`
`),$e.length?me+="Expecting "+$e.join(", ")+", got unexpected "+oe:me+="Unexpected "+oe,Ht=this.constructParseErrorInfo(me,null,$e,!1),Bt=this.parseError(Ht.errStr,Ht,this.JisonParserError),typeof Bt<"u"&&(Me=Bt);break}switch(Ct){default:if(Ct instanceof Array){Ht=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+Rt+", token: "+ut,null,null,!1),Bt=this.parseError(Ht.errStr,Ht,this.JisonParserError),typeof Bt<"u"&&(Me=Bt);break}Ht=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),Bt=this.parseError(Ht.errStr,Ht,this.JisonParserError),typeof Bt<"u"&&(Me=Bt);break;case 1:C[J]=ut,$[J]=ft.yytext,U[J]=he,++J,ut=0;continue;case 2:if(ae=this.productions_[he-1],Ft=ae[1],Bt=this.performAction.call(Vt,he,J-1,$),typeof Bt<"u"){Me=Bt;break}J-=Ft;var Jn=ae[0];C[J]=Jn,$[J]=Vt.$,he=K[U[J-1]][Jn],U[J]=he,++J;continue;case 3:J!==-2&&(Me=!0,J--,typeof $[J]<"u"&&(Me=$[J]));break}break}}catch(At){if(At instanceof this.JisonParserError)throw At;if(ft&&typeof ft.JisonLexerError=="function"&&At instanceof ft.JisonLexerError)throw At;Ht=this.constructParseErrorInfo("Parsing aborted due to exception.",At,null,!1),Me=!1,Bt=this.parseError(Ht.errStr,Ht,this.JisonParserError),typeof Bt<"u"&&(Me=Bt)}finally{Me=this.cleanupAfterParse(Me,!0,!0),this.__reentrant_call_depth--}return Me}};x.originalParseError=x.parseError,x.originalQuoteName=x.quoteName;var S=function(){function k(D,C){Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),D==null&&(D="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:D}),this.hash=C;var U;if(C&&C.exception instanceof Error){var $=C.exception;this.message=$.message||D,U=$.stack}U||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):U=new Error(D).stack),U&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:U})}typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf(k.prototype,Error.prototype):k.prototype=Object.create(Error.prototype),k.prototype.constructor=k,k.prototype.name="JisonLexerError";var y={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(C,U,$){if(C=""+C,$==null&&($=!(C.indexOf(`
`)>0&&C.indexOf("^")>0)),this.yylloc&&$){if(typeof this.prettyPrintRange=="function")this.prettyPrintRange(this.yylloc),/\n\s*$/.test(C)||(C+=`
`),C+=`
  Erroneous area:
`+this.prettyPrintRange(this.yylloc);else if(typeof this.showPosition=="function"){var K=this.showPosition();K&&(C.length&&C[C.length-1]!==`
`&&K[0]!==`
`?C+=`
`+K:C+=K)}}var J={errStr:C,recoverable:!!U,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var ht=!!this.recoverable;for(var dt in this)this.hasOwnProperty(dt)&&typeof dt=="object"&&(this[dt]=void 0);this.recoverable=ht}};return this.__error_infos.push(J),J},parseError:function(C,U,$){if($||($=this.JisonLexerError),this.yy){if(this.yy.parser&&typeof this.yy.parser.parseError=="function")return this.yy.parser.parseError.call(this,C,U,$)||this.ERROR;if(typeof this.yy.parseError=="function")return this.yy.parseError.call(this,C,U,$)||this.ERROR}throw new $(C,U)},yyerror:function(C){var U="";this.yylloc&&(U=" on line "+(this.yylineno+1));var $=this.constructLexErrorInfo("Lexical error"+U+": "+C,this.options.lexerErrorsAreRecoverable),K=Array.prototype.slice.call(arguments,1);return K.length&&($.extra_error_attributes=K),this.parseError($.errStr,$,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(C){if(this.setInput("",{}),!C){for(var U=this.__error_infos.length-1;U>=0;U--){var $=this.__error_infos[U];$&&typeof $.destroy=="function"&&$.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var C=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:C,last_line:this.yylineno+1,last_column:C,range:[this.offset,this.offset]}},setInput:function(C,U){if(this.yy=U||this.yy||{},!this.__decompressed){for(var $=this.rules,K=0,J=$.length;K<J;K++){var ut=$[K];typeof ut=="number"&&($[K]=$[ut])}var ht=this.conditions;for(var dt in ht){for(var ft=ht[dt],gt=ft.rules,J=gt.length,ot=new Array(J+1),Mt=new Array(J+1),K=0;K<J;K++){var Et=gt[K],ut=$[Et];ot[K+1]=ut,Mt[K+1]=Et}ft.rules=Mt,ft.__rule_regexes=ot,ft.__rule_count=J}this.__decompressed=!0}return this._input=C||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(C,U){var $=C.call(this,this._input,U);return typeof $!="string"?$&&(this._input=""+$):this._input=$,this},input:function(){if(!this._input)return null;var C=this._input[0];this.yytext+=C,this.yyleng++,this.offset++,this.match+=C,this.matched+=C;var U=1,$=!1;if(C===`
`)$=!0;else if(C==="\r"){$=!0;var K=this._input[1];K===`
`&&(U++,C+=K,this.yytext+=K,this.yyleng++,this.offset++,this.match+=K,this.matched+=K,this.yylloc.range[1]++)}return $?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(U),C},unput:function(C){var U=C.length,$=C.split(/(?:\r\n?|\n)/g);if(this._input=C+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-U),this.yyleng=this.yytext.length,this.offset-=U,this.match=this.match.substr(0,this.match.length-U),this.matched=this.matched.substr(0,this.matched.length-U),$.length>1){this.yylineno-=$.length-1,this.yylloc.last_line=this.yylineno+1;var K=this.match,J=K.split(/(?:\r\n?|\n)/g);J.length===1&&(K=this.matched,J=K.split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=J[J.length-1].length}else this.yylloc.last_column-=U;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var C="";this.yylloc&&(C=" on line "+(this.yylineno+1));var U=this.constructLexErrorInfo("Lexical error"+C+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(U.errStr,U,this.JisonLexerError)||this.ERROR}return this},less:function(C){return this.unput(this.match.slice(C))},pastInput:function(C,U){var $=this.matched.substring(0,this.matched.length-this.match.length);C<0?C=$.length:C||(C=20),U<0?U=$.length:U||(U=1),$=$.substr(-C*2-2);var K=$.replace(/\r\n|\r/g,`
`).split(`
`);return K=K.slice(-U),$=K.join(`
`),$.length>C&&($="..."+$.substr(-C)),$},upcomingInput:function(C,U){var $=this.match;C<0?C=$.length+this._input.length:C||(C=20),U<0?U=C:U||(U=1),$.length<C*2+2&&($+=this._input.substring(0,C*2+2));var K=$.replace(/\r\n|\r/g,`
`).split(`
`);return K=K.slice(0,U),$=K.join(`
`),$.length>C&&($=$.substring(0,C)+"..."),$},showPosition:function(C,U){var $=this.pastInput(C).replace(/\s/g," "),K=new Array($.length+1).join("-");return $+this.upcomingInput(U).replace(/\s/g," ")+`
`+K+"^"},deriveLocationInfo:function(C,U,$,K){var J={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return C&&(J.first_line=C.first_line|0,J.last_line=C.last_line|0,J.first_column=C.first_column|0,J.last_column=C.last_column|0,C.range&&(J.range[0]=C.range[0]|0,J.range[1]=C.range[1]|0)),(J.first_line<=0||J.last_line<J.first_line)&&(J.first_line<=0&&U&&(J.first_line=U.last_line|0,J.first_column=U.last_column|0,U.range&&(J.range[0]=C.range[1]|0)),(J.last_line<=0||J.last_line<J.first_line)&&$&&(J.last_line=$.first_line|0,J.last_column=$.first_column|0,$.range&&(J.range[1]=C.range[0]|0)),J.first_line<=0&&K&&(J.last_line<=0||K.last_line<=J.last_line)&&(J.first_line=K.first_line|0,J.first_column=K.first_column|0,K.range&&(J.range[0]=K.range[0]|0)),J.last_line<=0&&K&&(J.first_line<=0||K.first_line>=J.first_line)&&(J.last_line=K.last_line|0,J.last_column=K.last_column|0,K.range&&(J.range[1]=K.range[1]|0))),J.last_line<=0&&(J.first_line<=0?(J.first_line=this.yylloc.first_line,J.last_line=this.yylloc.last_line,J.first_column=this.yylloc.first_column,J.last_column=this.yylloc.last_column,J.range[0]=this.yylloc.range[0],J.range[1]=this.yylloc.range[1]):(J.last_line=this.yylloc.last_line,J.last_column=this.yylloc.last_column,J.range[1]=this.yylloc.range[1])),J.first_line<=0&&(J.first_line=J.last_line,J.first_column=0,J.range[1]=J.range[0]),J.first_column<0&&(J.first_column=0),J.last_column<0&&(J.last_column=J.first_column>0?J.first_column:80),J},prettyPrintRange:function(C,U,$){C=this.deriveLocationInfo(C,U,$);const K=3,J=1,ut=2;var ht=this.matched+this._input,dt=ht.split(`
`),ft=Math.max(1,U?U.first_line:C.first_line-K),gt=Math.max(1,$?$.last_line:C.last_line+J),ot=1+Math.log10(gt|1)|0,Mt=new Array(ot).join(" "),Et=[],Lt=dt.slice(ft-1,gt+1).map(function(Vt,Ht){var Ft=Ht+ft,ae=(Mt+Ft).substr(-ot),he=ae+": "+Vt,Me=new Array(ot+1).join("^"),tn=2+1,me=0;if(Ft===C.first_line?(tn+=C.first_column,me=Math.max(2,(Ft===C.last_line?C.last_column:Vt.length)-C.first_column+1)):Ft===C.last_line?me=Math.max(2,C.last_column+1):Ft>C.first_line&&Ft<C.last_line&&(me=Math.max(2,Vt.length+1)),me){var oe=new Array(tn).join("."),$e=new Array(me).join("^");he+=`
`+Me+oe+$e,Vt.trim().length>0&&Et.push(Ht)}return he=he.replace(/\t/g," "),he});if(Et.length>2*ut){var Rt=Et[ut-1]+1,Ct=Et[Et.length-ut]-1,Bt=new Array(ot+1).join(" ")+"  (...continued...)";Bt+=`
`+new Array(ot+1).join("-")+"  (---------------)",Lt.splice(Rt,Ct-Rt+1,Bt)}return Lt.join(`
`)},describeYYLLOC:function(C,U){var $=C.first_line,K=C.last_line,J=C.first_column,ut=C.last_column,ht=K-$,dt=ut-J,ft;if(ht===0?(ft="line "+$+", ",dt<=1?ft+="column "+J:ft+="columns "+J+" .. "+ut):ft="lines "+$+"(column "+J+") .. "+K+"(column "+ut+")",C.range&&U){var gt=C.range[0],ot=C.range[1]-1;ot<=gt?ft+=" {String Offset: "+gt+"}":ft+=" {String Offset range: "+gt+" .. "+ot+"}"}return ft},test_match:function(C,U){var $,K,J,ut,ht;if(this.options.backtrack_lexer&&(J={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),ut=C[0],ht=ut.length,K=ut.split(/(?:\r\n?|\n)/g),K.length>1?(this.yylineno+=K.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=K[K.length-1].length):this.yylloc.last_column+=ht,this.yytext+=ut,this.match+=ut,this.matched+=ut,this.matches=C,this.yyleng=this.yytext.length,this.yylloc.range[1]+=ht,this.offset+=ht,this._more=!1,this._backtrack=!1,this._input=this._input.slice(ht),$=this.performAction.call(this,this.yy,U,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),$)return $;if(this._backtrack){for(var dt in J)this[dt]=J[dt];return this.__currentRuleSet__=null,!1}else if(this._signaled_error_token)return $=this._signaled_error_token,this._signaled_error_token=!1,$;return!1},next:function(){if(this.done)return this.clear(),this.EOF;this._input||(this.done=!0);var C,U,$,K;this._more||this.clear();var J=this.__currentRuleSet__;if(!J&&(J=this.__currentRuleSet__=this._currentRules(),!J||!J.rules)){var ut="";this.options.trackPosition&&(ut=" on line "+(this.yylineno+1));var ht=this.constructLexErrorInfo("Internal lexer engine error"+ut+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(ht.errStr,ht,this.JisonLexerError)||this.ERROR}for(var dt=J.rules,ft=J.__rule_regexes,gt=J.__rule_count,ot=1;ot<=gt;ot++)if($=this._input.match(ft[ot]),$&&(!U||$[0].length>U[0].length)){if(U=$,K=ot,this.options.backtrack_lexer){if(C=this.test_match($,dt[ot]),C!==!1)return C;if(this._backtrack){U=void 0;continue}else return!1}else if(!this.options.flex)break}if(U)return C=this.test_match(U,dt[K]),C!==!1?C:!1;if(this._input){var ut="";this.options.trackPosition&&(ut=" on line "+(this.yylineno+1));var ht=this.constructLexErrorInfo("Lexical error"+ut+": Unrecognized text.",this.options.lexerErrorsAreRecoverable),Mt=this._input,Et=this.topState(),Lt=this.conditionStack.length;return C=this.parseError(ht.errStr,ht,this.JisonLexerError)||this.ERROR,C===this.ERROR&&!this.matches&&Mt===this._input&&Et===this.topState()&&Lt===this.conditionStack.length&&this.input(),C}else return this.done=!0,this.clear(),this.EOF},lex:function(){var C;for(typeof this.pre_lex=="function"&&(C=this.pre_lex.call(this,0)),typeof this.options.pre_lex=="function"&&(C=this.options.pre_lex.call(this,C)||C),this.yy&&typeof this.yy.pre_lex=="function"&&(C=this.yy.pre_lex.call(this,C)||C);!C;)C=this.next();return this.yy&&typeof this.yy.post_lex=="function"&&(C=this.yy.post_lex.call(this,C)||C),typeof this.options.post_lex=="function"&&(C=this.options.post_lex.call(this,C)||C),typeof this.post_lex=="function"&&(C=this.post_lex.call(this,C)||C),C},fastLex:function(){for(var C;!C;)C=this.next();return C},canIUse:function(){var C={fastLex:!(typeof this.pre_lex=="function"||typeof this.options.pre_lex=="function"||this.yy&&typeof this.yy.pre_lex=="function"||this.yy&&typeof this.yy.post_lex=="function"||typeof this.options.post_lex=="function"||typeof this.post_lex=="function")&&typeof this.fastLex=="function"};return C},begin:function(C){return this.pushState(C)},pushState:function(C){return this.conditionStack.push(C),this.__currentRuleSet__=null,this},popState:function(){var C=this.conditionStack.length-1;return C>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(C){return C=this.conditionStack.length-1-Math.abs(C||0),C>=0?this.conditionStack[C]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:k,performAction:function(C,U,$){switch(U){case 1:break;default:return this.simpleCaseActionClusters[U]}},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return y}();x.lexer=S;function A(){this.yy={}}return A.prototype=x,x.Parser=A,new A}();typeof k2<"u"&&(u.parser=e,u.Parser=e.Parser,u.parse=function(){return e.parse.apply(e,arguments)})})(H_);var $a={},ah={exports:{}},kl={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:Math.PI*2},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:1/1e3},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:1/1e3,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}},L2=function(u,e,i,o){if(!kl.hasOwnProperty(i))throw new Error("Cannot convert to "+i);if(!kl[i].hasOwnProperty(e))throw new Error("Cannot convert from "+e+" to "+i);var l=kl[i][e]*u;return o!==!1?(o=Math.pow(10,parseInt(o)||5),Math.round(l*o)/o):l};(function(u,e){Object.defineProperty(e,"__esModule",{value:!0});var i=L2,o=l(i);function l(g){return g&&g.__esModule?g:{default:g}}function h(g,b,x){switch(g.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return c(g,b,x);default:return{left:g,right:b}}}function c(g,b,x){return b.type===g.type&&(b={type:g.type,value:(0,o.default)(b.value,b.unit,g.unit,x),unit:g.unit}),{left:g,right:b}}e.default=h,u.exports=e.default})(ah,ah.exports);var R2=ah.exports;Object.defineProperty($a,"__esModule",{value:!0});$a.flip=oh;var D2=R2,Ll=z2(D2);function z2(u){return u&&u.__esModule?u:{default:u}}function $n(u,e){return u.type==="MathExpression"?V2(u,e):u.type==="Calc"?$n(u.value,e):u}function Cd(u,e){return u.type===e.type&&u.value===e.value}function ir(u){switch(u){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function B2(u,e){var i=(0,Ll.default)(u.left,u.right,e),o=$n(i.left,e),l=$n(i.right,e);return o.type==="MathExpression"&&l.type==="MathExpression"&&(o.operator==="/"&&l.operator==="*"||o.operator==="-"&&l.operator==="+"||o.operator==="*"&&l.operator==="/"||o.operator==="+"&&l.operator==="-")&&(Cd(o.right,l.right)?i=(0,Ll.default)(o.left,l.left,e):Cd(o.right,l.left)&&(i=(0,Ll.default)(o.left,l.right,e)),o=$n(i.left,e),l=$n(i.right,e)),u.left=o,u.right=l,u}function oh(u){return u==="+"?"-":"+"}function uh(u){return ir(u.type)?u.value=-u.value:u.type=="MathExpression"&&(u.left=uh(u.left),u.right=uh(u.right)),u}function N2(u,e){var i=u,o=i.left,l=i.right,h=i.operator;if(o.type==="CssVariable"||l.type==="CssVariable")return u;if(l.value===0)return o;if(o.value===0&&h==="+")return l;if(o.value===0&&h==="-")return uh(l);if(o.type===l.type&&ir(o.type)&&(u=Object.assign({},o),h==="+"?u.value=o.value+l.value:u.value=o.value-l.value),ir(o.type)&&(l.operator==="+"||l.operator==="-")&&l.type==="MathExpression"){if(o.type===l.left.type)return u=Object.assign({},u),u.left=$n({type:"MathExpression",operator:h,left:o,right:l.left},e),u.right=l.right,u.operator=h==="-"?oh(l.operator):l.operator,$n(u,e);if(o.type===l.right.type)return u=Object.assign({},u),u.left=$n({type:"MathExpression",operator:h==="-"?oh(l.operator):l.operator,left:o,right:l.right},e),u.right=l.left,$n(u,e)}if(o.type==="MathExpression"&&(o.operator==="+"||o.operator==="-")&&ir(l.type)){if(l.type===o.left.type)return u=Object.assign({},o),u.left=$n({type:"MathExpression",operator:h,left:o.left,right:l},e),$n(u,e);if(l.type===o.right.type)return u=Object.assign({},o),o.operator==="-"?(u.right=$n({type:"MathExpression",operator:h==="-"?"+":"-",left:l,right:o.right},e),u.operator=h==="-"?"-":"+"):u.right=$n({type:"MathExpression",operator:h,left:o.right,right:l},e),u.right.value<0&&(u.right.value*=-1,u.operator=u.operator==="-"?"+":"-"),$n(u,e)}return u}function F2(u,e){if(!ir(u.right.type))return u;if(u.right.type!=="Value")throw new Error('Cannot divide by "'+u.right.unit+'", number expected');if(u.right.value===0)throw new Error("Cannot divide by zero");return u.left.type==="MathExpression"?ir(u.left.left.type)&&ir(u.left.right.type)?(u.left.left.value/=u.right.value,u.left.right.value/=u.right.value,$n(u.left,e)):u:ir(u.left.type)?(u.left.value/=u.right.value,u.left):u}function $2(u){if(u.left.type==="MathExpression"&&u.right.type==="Value"){if(ir(u.left.left.type)&&ir(u.left.right.type))return u.left.left.value*=u.right.value,u.left.right.value*=u.right.value,u.left}else{if(ir(u.left.type)&&u.right.type==="Value")return u.left.value*=u.right.value,u.left;if(u.left.type==="Value"&&u.right.type==="MathExpression"){if(ir(u.right.left.type)&&ir(u.right.right.type))return u.right.left.value*=u.left.value,u.right.right.value*=u.left.value,u.right}else if(u.left.type==="Value"&&ir(u.right.type))return u.right.value*=u.left.value,u.right}return u}function V2(u,e){switch(u=B2(u,e),u.operator){case"+":case"-":return N2(u,e);case"/":return F2(u,e);case"*":return $2(u)}return u}$a.default=$n;var lh={exports:{}};(function(u,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(c,g,b){var x=h(g,b);return g.type==="MathExpression"&&(x=c+"("+x+")"),x};var i=$a,o={"*":0,"/":0,"+":1,"-":1};function l(c,g){if(g!==!1){var b=Math.pow(10,g);return Math.round(c*b)/b}return c}function h(c,g){switch(c.type){case"MathExpression":{var b=c.left,x=c.right,S=c.operator,A="";return b.type==="MathExpression"&&o[S]<o[b.operator]?A+="("+h(b,g)+")":A+=h(b,g),A+=" "+c.operator+" ",x.type==="MathExpression"&&o[S]<o[x.operator]?A+="("+h(x,g)+")":(x.type==="MathExpression"&&S==="-"&&["+","-"].includes(x.operator)&&(x.operator=(0,i.flip)(x.operator)),A+=h(x,g)),A}case"Value":return l(c.value,g);case"CssVariable":return c.fallback?"var("+c.value+", "+h(c.fallback,g)+")":"var("+c.value+")";case"Calc":return c.prefix?"-"+c.prefix+"-calc("+h(c.value,g)+")":"calc("+h(c.value,g)+")";default:return l(c.value,g)+c.unit}}u.exports=e.default})(lh,lh.exports);var U2=lh.exports;(function(u,e){Object.defineProperty(e,"__esModule",{value:!0});var i=E2,o=x(i),l=H_,h=$a,c=x(h),g=U2,b=x(g);function x(A){return A&&A.__esModule?A:{default:A}}var S=/((?:\-[a-z]+\-)?calc)/;e.default=function(A){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return(0,o.default)(A).walk(function(y){if(!(y.type!=="function"||!S.test(y.value))){var D=o.default.stringify(y.nodes);if(!(D.indexOf("constant")>=0||D.indexOf("env")>=0)){var C=l.parser.parse(D),U=(0,c.default)(C,k);y.type="word",y.value=(0,b.default)(y.value,U,k)}}},!0).toString()},u.exports=e.default})(sh,sh.exports);var q2=sh.exports;const Rl=Mh(q2);var W2=typeof jr=="object"&&jr&&jr.Object===Object&&jr,Y2=W2,H2=Y2,X2=typeof self=="object"&&self&&self.Object===Object&&self,G2=H2||X2||Function("return this")(),Ih=G2,Z2=Ih,K2=Z2.Symbol,X_=K2,Td=X_,G_=Object.prototype,J2=G_.hasOwnProperty,j2=G_.toString,ma=Td?Td.toStringTag:void 0;function Q2(u){var e=J2.call(u,ma),i=u[ma];try{u[ma]=void 0;var o=!0}catch{}var l=j2.call(u);return o&&(e?u[ma]=i:delete u[ma]),l}var tS=Q2,eS=Object.prototype,nS=eS.toString;function rS(u){return nS.call(u)}var iS=rS,Ad=X_,sS=tS,aS=iS,oS="[object Null]",uS="[object Undefined]",Pd=Ad?Ad.toStringTag:void 0;function lS(u){return u==null?u===void 0?uS:oS:Pd&&Pd in Object(u)?sS(u):aS(u)}var hS=lS;function fS(u){var e=typeof u;return u!=null&&(e=="object"||e=="function")}var Z_=fS,cS=hS,dS=Z_,_S="[object AsyncFunction]",gS="[object Function]",vS="[object GeneratorFunction]",pS="[object Proxy]";function mS(u){if(!dS(u))return!1;var e=cS(u);return e==gS||e==vS||e==_S||e==pS}var yS=mS,wS=Ih,xS=wS["__core-js_shared__"],bS=xS,Dl=bS,Od=function(){var u=/[^.]+$/.exec(Dl&&Dl.keys&&Dl.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}();function SS(u){return!!Od&&Od in u}var CS=SS,TS=Function.prototype,AS=TS.toString;function PS(u){if(u!=null){try{return AS.call(u)}catch{}try{return u+""}catch{}}return""}var OS=PS,MS=yS,IS=CS,ES=Z_,kS=OS,LS=/[\\^$.*+?()[\]{}|]/g,RS=/^\[object .+?Constructor\]$/,DS=Function.prototype,zS=Object.prototype,BS=DS.toString,NS=zS.hasOwnProperty,FS=RegExp("^"+BS.call(NS).replace(LS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $S(u){if(!ES(u)||IS(u))return!1;var e=MS(u)?FS:RS;return e.test(kS(u))}var VS=$S;function US(u,e){return u?.[e]}var qS=US,WS=VS,YS=qS;function HS(u,e){var i=YS(u,e);return WS(i)?i:void 0}var K_=HS,XS=K_,GS=XS(Object,"create"),iu=GS,Md=iu;function ZS(){this.__data__=Md?Md(null):{},this.size=0}var KS=ZS;function JS(u){var e=this.has(u)&&delete this.__data__[u];return this.size-=e?1:0,e}var jS=JS,QS=iu,tC="__lodash_hash_undefined__",eC=Object.prototype,nC=eC.hasOwnProperty;function rC(u){var e=this.__data__;if(QS){var i=e[u];return i===tC?void 0:i}return nC.call(e,u)?e[u]:void 0}var iC=rC,sC=iu,aC=Object.prototype,oC=aC.hasOwnProperty;function uC(u){var e=this.__data__;return sC?e[u]!==void 0:oC.call(e,u)}var lC=uC,hC=iu,fC="__lodash_hash_undefined__";function cC(u,e){var i=this.__data__;return this.size+=this.has(u)?0:1,i[u]=hC&&e===void 0?fC:e,this}var dC=cC,_C=KS,gC=jS,vC=iC,pC=lC,mC=dC;function Js(u){var e=-1,i=u==null?0:u.length;for(this.clear();++e<i;){var o=u[e];this.set(o[0],o[1])}}Js.prototype.clear=_C;Js.prototype.delete=gC;Js.prototype.get=vC;Js.prototype.has=pC;Js.prototype.set=mC;var yC=Js;function wC(){this.__data__=[],this.size=0}var xC=wC;function bC(u,e){return u===e||u!==u&&e!==e}var SC=bC,CC=SC;function TC(u,e){for(var i=u.length;i--;)if(CC(u[i][0],e))return i;return-1}var su=TC,AC=su,PC=Array.prototype,OC=PC.splice;function MC(u){var e=this.__data__,i=AC(e,u);if(i<0)return!1;var o=e.length-1;return i==o?e.pop():OC.call(e,i,1),--this.size,!0}var IC=MC,EC=su;function kC(u){var e=this.__data__,i=EC(e,u);return i<0?void 0:e[i][1]}var LC=kC,RC=su;function DC(u){return RC(this.__data__,u)>-1}var zC=DC,BC=su;function NC(u,e){var i=this.__data__,o=BC(i,u);return o<0?(++this.size,i.push([u,e])):i[o][1]=e,this}var FC=NC,$C=xC,VC=IC,UC=LC,qC=zC,WC=FC;function js(u){var e=-1,i=u==null?0:u.length;for(this.clear();++e<i;){var o=u[e];this.set(o[0],o[1])}}js.prototype.clear=$C;js.prototype.delete=VC;js.prototype.get=UC;js.prototype.has=qC;js.prototype.set=WC;var YC=js,HC=K_,XC=Ih,GC=HC(XC,"Map"),ZC=GC,Id=yC,KC=YC,JC=ZC;function jC(){this.size=0,this.__data__={hash:new Id,map:new(JC||KC),string:new Id}}var QC=jC;function tT(u){var e=typeof u;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?u!=="__proto__":u===null}var eT=tT,nT=eT;function rT(u,e){var i=u.__data__;return nT(e)?i[typeof e=="string"?"string":"hash"]:i.map}var au=rT,iT=au;function sT(u){var e=iT(this,u).delete(u);return this.size-=e?1:0,e}var aT=sT,oT=au;function uT(u){return oT(this,u).get(u)}var lT=uT,hT=au;function fT(u){return hT(this,u).has(u)}var cT=fT,dT=au;function _T(u,e){var i=dT(this,u),o=i.size;return i.set(u,e),this.size+=i.size==o?0:1,this}var gT=_T,vT=QC,pT=aT,mT=lT,yT=cT,wT=gT;function Qs(u){var e=-1,i=u==null?0:u.length;for(this.clear();++e<i;){var o=u[e];this.set(o[0],o[1])}}Qs.prototype.clear=vT;Qs.prototype.delete=pT;Qs.prototype.get=mT;Qs.prototype.has=yT;Qs.prototype.set=wT;var xT=Qs,J_=xT,bT="Expected a function";function Eh(u,e){if(typeof u!="function"||e!=null&&typeof e!="function")throw new TypeError(bT);var i=function(){var o=arguments,l=e?e.apply(this,o):o[0],h=i.cache;if(h.has(l))return h.get(l);var c=u.apply(this,o);return i.cache=h.set(l,c)||h,c};return i.cache=new(Eh.Cache||J_),i}Eh.Cache=J_;var ST=Eh;const CT=Mh(ST),Ed="__react_svg_text_measurement_id";function TT(u,e){try{let i=document.getElementById(Ed);if(!i){const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("aria-hidden","true"),l.style.width="0",l.style.height="0",l.style.position="absolute",l.style.top="-100%",l.style.left="-100%",l.style.padding="0",l.style.margin="0",i=document.createElementNS("http://www.w3.org/2000/svg","text"),i.setAttribute("id",Ed),l.appendChild(i),document.body.appendChild(l)}return Object.assign(i.style,e),i.textContent=u,{width:i.getComputedTextLength(),height:e!==void 0?parseFloat(`${e["font-size"]}`):0}}catch(i){return console.error(i),null}}const Bo=CT(TT,(u,e)=>{if(!e)return`${u}_`;const{children:i,name:o,...l}=e;return`${u}_${JSON.stringify(l)}`});function zl(u){return typeof u=="number"}function kd(u){return typeof u=="number"&&Number.isFinite(u)||typeof u=="string"}function AT(u){u=yt.mergeProps({"vertical-anchor":"end",scaleToFit:!1,"line-height":"1em","cap-height":"0.71em",x:0,y:0},u);const e=()=>!kd(u.x)||!kd(u.y),i=yt.createMemo(()=>u.children==null?[]:u.children.toString().split(/(?:(?!\u00A0+)\s+)/)),o=yt.createMemo(()=>i().map(b=>({word:b,wordWidth:Bo(b,u)?.width??0,wordHeight:Bo(b,u)?.height??0}))),l=yt.createMemo(()=>({width:Bo(" ",u)?.width??0,height:Bo(" ",u)?.height??0})),h=yt.createMemo(()=>e()?[]:o().reduce((x,{word:S,wordWidth:A,wordHeight:k})=>{const y=x[x.length-1];if(y&&(u.width===void 0||u.scaleToFit||(y.width??0)+A+l().width<u.width))y.words.push(S),y.width=y.width??0,y.width+=A+l().width,y.height=Math.max(y.height??0,k);else{const D={words:[S],width:A,height:k};x.push(D)}return x},[]));return{wordsByLines:h,startDy:()=>e()?"":u["vertical-anchor"]==="start"?Rl(`calc(${u["cap-height"]})`):u["vertical-anchor"]==="middle"?Rl(`calc(${(h().length-1)/2} * -${u["line-height"]} + (${u["cap-height"]} / 2))`):Rl(`calc(${h().length-1} * -${u["line-height"]})`),transform:()=>{const b=[];if(e())return"";if(zl(u.x)&&zl(u.y)&&zl(u.width)&&u.scaleToFit&&h().length>0){const x=h()[0].width||1,S=u.scaleToFit==="shrink-only"?Math.min(u.width/x,1):u.width/x,A=S,k=u.x-S*u.x,y=u.y-A*u.y;b.push(`matrix(${S}, 0, 0, ${A}, ${k}, ${y})`)}return u.angle&&b.push(`rotate(${u.angle}, ${u.x}, ${u.y})`),b.length>0?b.join(" "):""}}}function PT(u){let e=()=>{let h=u.width||0;if(u.wordsByLines.length>0){const c=Math.max(...u.wordsByLines.map(g=>g.width||0));u.scaleToFit?h=Math.min(c,u.width||c):h=c}if(u.transform){const c=()=>/matrix\(([^,]+),[^,]+,[^,]+,[^,]+,[^,]+,[^,]+\)/.exec(u.transform);c()&&(h*=(()=>parseFloat(c()[1]))())}return h};const i=()=>u.wordsByLines.reduce((h,c,g)=>h+(c.height||0),0);let o=()=>u.dx!==void 0?parseFloat(`${u.dx}`):0,l=()=>{let h=u.dy!==void 0?parseFloat(`${u.dy}`):0;switch(u["vertical-anchor"]){case"start":h+=parseFloat(u.startDy);break;case"middle":h+=i()/2;break;case"end":h-=i();break}return h};return{get x(){return o()},get y(){return l()},get width(){return e()},get height(){return i()}}}var OT=G.template("<svg><g></svg>",!1,!0),MT=G.template("<svg><text></svg>",!1,!0),IT=G.template("<svg><tspan></svg>",!1,!0);const ET={overflow:"visible"},kT=An(u=>{u=yt.mergeProps({"text-anchor":"start","vertical-anchor":"end","line-height":"1em","cap-height":"0.71em","font-family":"Alegreya Sans, sans-serif","font-weight":700,"font-size":"14",x:0,y:0,delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$",right:"$",display:!1},{left:"\\[",right:"\\]",display:!0}]},u);const[e,i]=yt.splitProps(u,["name","dx","dy","innerRef","innerTextRef","vertical-anchor","angle","line-height","scaleToFit","cap-height","width","delimiters"]),{wordsByLines:o,startDy:l,transform:h}=AT(u),c=yt.mergeProps(u,{get wordsByLines(){return o()},get startDy(){return l()},get transform(){return h()}}),g=()=>{const x=PT(c);return{bbox:{left:x.x,top:x.y,width:x.width,height:x.height},transform:{translate:{x:u.dx!==void 0?parseFloat(`${u.dx}`):void 0,y:u.dy!==void 0?parseFloat(`${u.dy}`):void 0}}}},b=x=>(()=>{var S=OT(),A=u.innerRef;return typeof A=="function"?G.use(A,S):u.innerRef=S,G.style(S,ET),G.insert(S,(()=>{var k=G.memo(()=>o().length>0);return()=>k()?(()=>{var y=MT(),D=u.innerTextRef;return typeof D=="function"?G.use(D,y):u.innerTextRef=y,G.spread(y,G.mergeProps({get transform(){return h()}},i),!0,!0),G.insert(y,G.createComponent(yt.For,{get each(){return o()},children:(C,U)=>(()=>{var $=IT();return G.insert($,()=>C.words.join(" ")),G.effect(K=>{var J=u.x,ut=U()===0?l():u["line-height"],ht=u["cap-height"];return J!==K.e&&G.setAttribute($,"x",K.e=J),ut!==K.t&&G.setAttribute($,"dy",K.t=ut),ht!==K.a&&G.setAttribute($,"cap-height",K.a=ht),K},{e:void 0,t:void 0,a:void 0}),$})()})),y})():null})()),G.effect(()=>G.setAttribute(S,"transform",`translate(${x.transform.translate.x}, ${x.transform.translate.y})`)),S})();return G.createComponent(qn,{get name(){return u.name},layout:g,paint:b})},{displayName:"Text"});var j_={exports:{}};const LT={},RT=Object.freeze(Object.defineProperty({__proto__:null,default:LT},Symbol.toStringTag,{value:"Module"})),Ld=Rb(RT);/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(u){(function(e,i){e=e||Ld;var o=e.window,l=e.document,h=new function(){var t=/^(statics|enumerable|beans|preserve)$/,r=[],a=r.slice,f=Object.create,d=Object.getOwnPropertyDescriptor,v=Object.defineProperty,m=r.forEach||function(I,O){for(var B=0,q=this.length;B<q;B++)I.call(O,this[B],B,this)},p=function(I,O){for(var B in this)this.hasOwnProperty(B)&&I.call(O,this[B],B,this)},w=Object.assign||function(I){for(var O=1,B=arguments.length;O<B;O++){var q=arguments[O];for(var Y in q)q.hasOwnProperty(Y)&&(I[Y]=q[Y])}return I},T=function(I,O,B){if(I){var q=d(I,"length");(q&&typeof q.value=="number"?m:p).call(I,O,B=B||I)}return B};function E(I,O,B,q,Y){var z={};function N(Z,j){j=j||(j=d(O,Z))&&(j.get?j:j.value),typeof j=="string"&&j[0]==="#"&&(j=I[j.substring(1)]||j);var Q=typeof j=="function",et=j,it=Y||Q&&!j.base?j&&j.get?Z in I:I[Z]:null,tt;(!Y||!it)&&(Q&&it&&(j.base=it),Q&&q!==!1&&(tt=Z.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(z[tt[3].toLowerCase()+tt[4]]=tt[2]),(!et||Q||!et.get||typeof et.get!="function"||!L.isPlainObject(et))&&(et={value:et,writable:!0}),(d(I,Z)||{configurable:!0}).configurable&&(et.configurable=!0,et.enumerable=B??!tt),v(I,Z,et))}if(O){for(var M in O)O.hasOwnProperty(M)&&!t.test(M)&&N(M);for(var M in z){var R=z[M],V=I["set"+R],W=I["get"+R]||V&&I["is"+R];W&&(q===!0||W.length===0)&&N(M,{get:W,set:V})}}return I}function L(){for(var I=0,O=arguments.length;I<O;I++){var B=arguments[I];B&&w(this,B)}return this}return E(L,{inject:function(I){if(I){var O=I.statics===!0?I:I.statics,B=I.beans,q=I.preserve;O!==I&&E(this.prototype,I,I.enumerable,B,q),E(this,O,null,B,q)}for(var Y=1,z=arguments.length;Y<z;Y++)this.inject(arguments[Y]);return this},extend:function(){for(var I=this,O,B,q=0,Y,z=arguments.length;q<z&&!(O&&B);q++)Y=arguments[q],O=O||Y.initialize,B=B||Y.prototype;return O=O||function(){I.apply(this,arguments)},B=O.prototype=B||f(this.prototype),v(B,"constructor",{value:O,writable:!0,configurable:!0}),E(O,this),arguments.length&&this.inject.apply(O,arguments),O.base=I,O}}).inject({enumerable:!1,initialize:L,set:L,inject:function(){for(var I=0,O=arguments.length;I<O;I++){var B=arguments[I];B&&E(this,B,B.enumerable,B.beans,B.preserve)}return this},extend:function(){var I=f(this);return I.inject.apply(I,arguments)},each:function(I,O){return T(this,I,O)},clone:function(){return new this.constructor(this)},statics:{set:w,each:T,create:f,define:v,describe:d,clone:function(I){return w(new I.constructor,I)},isPlainObject:function(I){var O=I!=null&&I.constructor;return O&&(O===Object||O===L||O.name==="Object")},pick:function(I,O){return I!==i?I:O},slice:function(I,O,B){return a.call(I,O,B)}}})};u.exports=h,h.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+h.each(this,function(t,r){if(!/^_/.test(r)){var a=typeof t;this.push(r+": "+(a==="number"?S.instance.number(t):a==="string"?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return h.importJSON(t,this)},exportJSON:function(t){return h.exportJSON(this,t)},toJSON:function(){return h.serialize(this)},set:function(t,r){return t&&h.filter(this,t,r,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var r=t.base.apply(this,arguments),a=r.prototype._class;return a&&!h.exports[a]&&(h.exports[a]=r),r},equals:function(t,r){if(t===r)return!0;if(t&&t.equals)return t.equals(r);if(r&&r.equals)return r.equals(t);if(t&&r&&typeof t=="object"&&typeof r=="object"){if(Array.isArray(t)&&Array.isArray(r)){var a=t.length;if(a!==r.length)return!1;for(;a--;)if(!h.equals(t[a],r[a]))return!1}else{var f=Object.keys(t),a=f.length;if(a!==Object.keys(r).length)return!1;for(;a--;){var d=f[a];if(!(r.hasOwnProperty(d)&&h.equals(t[d],r[d])))return!1}}return!0}return!1},read:function(t,r,a,f){if(this===h){var d=this.peek(t,r);return t.__index++,d}var v=this.prototype,m=v._readIndex,p=r||m&&t.__index||0,w=t.length,T=t[p];if(f=f||w-p,T instanceof this||a&&a.readNull&&T==null&&f<=1)return m&&(t.__index=p+1),T&&a&&a.clone?T.clone():T;if(T=h.create(v),m&&(T.__read=!0),T=T.initialize.apply(T,p>0||p+f<w?h.slice(t,p,p+f):t)||T,m){t.__index=p+T.__read;var E=T.__filtered;E&&(t.__filtered=E,T.__filtered=i),T.__read=i}return T},peek:function(t,r){return t[t.__index=r||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,r,a,f){for(var d=[],v,m=r||0,p=f?m+f:t.length,w=m;w<p;w++)d.push(Array.isArray(v=t[w])?this.read(v,0,a):this.read(t,w,a,1));return d},readNamed:function(t,r,a,f,d){var v=this.getNamed(t,r),m=v!==i;if(m){var p=t.__filtered;if(!p){var w=this.getSource(t);p=t.__filtered=h.create(w),p.__unfiltered=w}p[r]=i}return this.read(m?[v]:t,a,f,d)},readSupported:function(t,r){var a=this.getSource(t),f=this,d=!1;return a&&Object.keys(a).forEach(function(v){if(v in r){var m=f.readNamed(t,v);m!==i&&(r[v]=m),d=!0}}),d},getSource:function(t){var r=t.__source;if(r===i){var a=t.length===1&&t[0];r=t.__source=a&&h.isPlainObject(a)?a:null}return r},getNamed:function(t,r){var a=this.getSource(t);if(a)return r?a[r]:t.__filtered||a},hasNamed:function(t,r){return!!this.getNamed(t,r)},filter:function(t,r,a,f){var d;function v(E){if(!(a&&E in a)&&!(d&&E in d)){var L=r[E];L!==i&&(t[E]=L)}}if(f){for(var m={},p=0,w,T=f.length;p<T;p++)(w=f[p])in r&&(v(w),m[w]=!0);d=m}return Object.keys(r.__unfiltered||r).forEach(v),t},isPlainValue:function(t,r){return h.isPlainObject(t)||Array.isArray(t)||r&&typeof t=="string"},serialize:function(t,r,a,f){r=r||{};var d=!f,v;if(d&&(r.formatter=new S(r.precision),f={length:0,definitions:{},references:{},add:function(L,I){var O="#"+L._id,B=this.references[O];if(!B){this.length++;var q=I.call(L),Y=L._class;Y&&q[0]!==Y&&q.unshift(Y),this.definitions[O]=q,B=this.references[O]=[O]}return B}}),t&&t._serialize){v=t._serialize(r,f);var m=t._class;m&&!t._compactSerialize&&(d||!a)&&v[0]!==m&&v.unshift(m)}else if(Array.isArray(t)){v=[];for(var p=0,w=t.length;p<w;p++)v[p]=h.serialize(t[p],r,a,f)}else if(h.isPlainObject(t)){v={};for(var T=Object.keys(t),p=0,w=T.length;p<w;p++){var E=T[p];v[E]=h.serialize(t[E],r,a,f)}}else typeof t=="number"?v=r.formatter.number(t,r.precision):v=t;return d&&f.length>0?[["dictionary",f.definitions],v]:v},deserialize:function(t,r,a,f,d){var v=t,m=!a,p=m&&t&&t.length&&t[0][0]==="dictionary";if(a=a||{},Array.isArray(t)){var w=t[0],T=w==="dictionary";if(t.length==1&&/^#/.test(w))return a.dictionary[w];w=h.exports[w],v=[];for(var E=w?1:0,L=t.length;E<L;E++)v.push(h.deserialize(t[E],r,a,T,p));if(w){var I=v;r?v=r(w,I,m||d):v=new w(I)}}else if(h.isPlainObject(t)){v={},f&&(a.dictionary=v);for(var O in t)v[O]=h.deserialize(t[O],r,a)}return p?v[1]:v},exportJSON:function(t,r){var a=h.serialize(t,r);return r&&r.asString==!1?a:JSON.stringify(a)},importJSON:function(t,r){return h.deserialize(typeof t=="string"?JSON.parse(t):t,function(a,f,d){var v=d&&r&&r.constructor===a,m=v?r:h.create(a.prototype);if(f.length===1&&m instanceof dt&&(v||!(m instanceof gt))){var p=f[0];h.isPlainObject(p)&&(p.insert=!1,v&&(f=f.concat([dt.INSERT])))}return(v?m.set:a).apply(m,f),v&&(r=null),m})},push:function(t,r){var a=r.length;if(a<4096)t.push.apply(t,r);else{var f=t.length;t.length+=a;for(var d=0;d<a;d++)t[f+d]=r[d]}return t},splice:function(t,r,a,f){var d=r&&r.length,v=a===i;a=v?t.length:a,a>t.length&&(a=t.length);for(var m=0;m<d;m++)r[m]._index=a+m;if(v)return h.push(t,r),[];var p=[a,f];r&&h.push(p,r);for(var w=t.splice.apply(t,p),m=0,T=w.length;m<T;m++)w[m]._index=i;for(var m=a+d,T=t.length;m<T;m++)t[m]._index=m;return w},capitalize:function(t){return t.replace(/\b[a-z]/g,function(r){return r.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(r,a){return a.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var c={on:function(t,r){if(typeof t!="string")h.each(t,function(v,m){this.on(m,v)},this);else{var a=this._eventTypes,f=a&&a[t],d=this._callbacks=this._callbacks||{};d=d[t]=d[t]||[],d.indexOf(r)===-1&&(d.push(r),f&&f.install&&d.length===1&&f.install.call(this,t))}return this},off:function(t,r){if(typeof t!="string"){h.each(t,function(m,p){this.off(p,m)},this);return}var a=this._eventTypes,f=a&&a[t],d=this._callbacks&&this._callbacks[t],v;return d&&(!r||(v=d.indexOf(r))!==-1&&d.length===1?(f&&f.uninstall&&f.uninstall.call(this,t),delete this._callbacks[t]):v!==-1&&d.splice(v,1)),this},once:function(t,r){return this.on(t,function a(){r.apply(this,arguments),this.off(t,a)})},emit:function(t,r){var a=this._callbacks&&this._callbacks[t];if(!a)return!1;var f=h.slice(arguments,1),d=r&&r.target&&!r.currentTarget;a=a.slice(),d&&(r.currentTarget=this);for(var v=0,m=a.length;v<m;v++)if(a[v].apply(this,f)==!1){r&&r.stop&&r.stop();break}return d&&delete r.currentTarget,!0},responds:function(t){return!!(this._callbacks&&this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var r=this._eventTypes,a=this._callbacks,f=t?"install":"uninstall";if(r){for(var d in a)if(a[d].length>0){var v=r[d],m=v&&v[f];m&&m.call(this,d)}}},statics:{inject:function t(r){var a=r._events;if(a){var f={};h.each(a,function(d,v){var m=typeof d=="string",p=m?d:v,w=h.capitalize(p),T=p.substring(2).toLowerCase();f[T]=m?{}:d,p="_"+p,r["get"+w]=function(){return this[p]},r["set"+w]=function(E){var L=this[p];L&&this.off(T,L),E&&this.on(T,E),this[p]=E}}),r._eventTypes=f}return t.base.apply(this,arguments)}}},g=h.extend({_class:"PaperScope",initialize:function t(){ce=this,this.settings=new h({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var r=t.prototype;if(!this.support){var a=De.getContext(1,1)||{};r.support={nativeDash:"setLineDash"in a||"mozDash"in a,nativeBlendModes:hn.nativeModes},De.release(a)}if(!this.agent){var f=e.navigator.userAgent.toLowerCase(),d=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(f)||[])[0],v=d==="darwin"?"mac":d,m=r.agent=r.browser={platform:v};v&&(m[v]=!0),f.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(p,w,T,E,L){if(!m.chrome){var I=w==="opera"?E:/^(node|trident)$/.test(w)?L:T;m.version=I,m.versionNumber=parseFloat(I),w={trident:"msie",jsdom:"node"}[w]||w,m.name=w,m[w]=!0}}),m.chrome&&delete m.webkit,m.atom&&delete m.chrome}},version:"0.12.18",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,r){},install:function(t){var r=this;h.each(["project","view","tool"],function(f){h.define(t,f,{configurable:!0,get:function(){return r[f]}})});for(var a in this)!/^_/.test(a)&&this[a]&&(t[a]=this[a])},setup:function(t){return ce=this,this.project=new ht(t),this},createCanvas:function(t,r){return De.getCanvas(t,r)},activate:function(){ce=this},clear:function(){for(var t=this.projects,r=this.tools,a=t.length-1;a>=0;a--)t[a].remove();for(var a=r.length-1;a>=0;a--)r[a].remove()},remove:function(){this.clear(),delete g._scopes[this._id]},statics:new function(){function t(r){return r+="Attribute",function(a,f){return a[r](f)||a[r]("data-paper-"+f)}}return{_scopes:{},_id:0,get:function(r){return this._scopes[r]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),b=h.extend(c,{initialize:function(t){this._scope=ce,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(h.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),x={findItemBoundsCollisions:function(t,r,a){function f(m){for(var p=new Array(m.length),w=0;w<m.length;w++){var T=m[w].getBounds();p[w]=[T.left,T.top,T.right,T.bottom]}return p}var d=f(t),v=!r||r===t?d:f(r);return this.findBoundsCollisions(d,v,a||0)},findCurveBoundsCollisions:function(t,r,a,f){function d(I){for(var O=Math.min,B=Math.max,q=new Array(I.length),Y=0;Y<I.length;Y++){var z=I[Y];q[Y]=[O(z[0],z[2],z[4],z[6]),O(z[1],z[3],z[5],z[7]),B(z[0],z[2],z[4],z[6]),B(z[1],z[3],z[5],z[7])]}return q}var v=d(t),m=!r||r===t?v:d(r);if(f){for(var p=this.findBoundsCollisions(v,m,a||0,!1,!0),w=this.findBoundsCollisions(v,m,a||0,!0,!0),T=[],E=0,L=p.length;E<L;E++)T[E]={hor:p[E],ver:w[E]};return T}return this.findBoundsCollisions(v,m,a||0)},findBoundsCollisions:function(t,r,a,f,d){var v=!r||t===r,m=v?t:t.concat(r),p=t.length,w=m.length;function T(kt,zt,Qt){for(var Wt=0,Gt=kt.length;Wt<Gt;){var Zt=Gt+Wt>>>1;m[kt[Zt]][zt]<Qt?Wt=Zt+1:Gt=Zt}return Wt-1}for(var E=f?1:0,L=E+2,I=f?0:1,O=I+2,B=new Array(w),q=0;q<w;q++)B[q]=q;B.sort(function(kt,zt){return m[kt][E]-m[zt][E]});for(var Y=[],z=new Array(p),q=0;q<w;q++){var N=B[q],M=m[N],R=v?N:N-p,V=N<p,W=v||!V,Z=V?[]:null;if(Y.length){var j=T(Y,L,M[E]-a)+1;if(Y.splice(0,j),v&&d){Z=Z.concat(Y);for(var Q=0;Q<Y.length;Q++){var et=Y[Q];z[et].push(R)}}else for(var it=M[O],tt=M[I],Q=0;Q<Y.length;Q++){var et=Y[Q],rt=m[et],at=et<p,_t=v||et>=p;(d||(V&&_t||W&&at)&&it>=rt[I]-a&&tt<=rt[O]+a)&&(V&&_t&&Z.push(v?et:et-p),W&&at&&z[et].push(R))}}if(V&&(t===r&&Z.push(N),z[N]=Z),Y.length){var vt=M[L],mt=T(Y,L,vt);Y.splice(mt+1,0,N)}else Y.push(N)}for(var q=0;q<z.length;q++){var Ot=z[q];Ot&&Ot.sort(function(zt,Qt){return zt-Qt})}return z}},S=h.extend({initialize:function(t){this.precision=h.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,r,a){return this.number(t)+(a||",")+this.number(r)},point:function(t,r){return this.number(t.x)+(r||",")+this.number(t.y)},size:function(t,r){return this.number(t.width)+(r||",")+this.number(t.height)},rectangle:function(t,r){return this.point(t,r)+(r||",")+this.size(t,r)}});S.instance=new S;var A=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],r=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],a=Math.abs,f=Math.sqrt,d=Math.pow,v=Math.log2||function(L){return Math.log(L)*Math.LOG2E},m=1e-12,p=112e-18;function w(L,I,O){return L<I?I:L>O?O:L}function T(L,I,O){function B(j){var Q=j*134217729,et=j-Q,it=et+Q,tt=j-it;return[it,tt]}var q=I*I-L*O,Y=I*I+L*O;if(a(q)*3<Y){var z=B(L),N=B(I),M=B(O),R=I*I,V=N[0]*N[0]-R+2*N[0]*N[1]+N[1]*N[1],W=L*O,Z=z[0]*M[0]-W+z[0]*M[1]+z[1]*M[0]+z[1]*M[1];q=R-W+(V-Z)}return q}function E(){var L=Math.max.apply(Math,arguments);return L&&(L<1e-8||L>1e8)?d(2,-Math.round(v(L))):0}return{EPSILON:m,MACHINE_EPSILON:p,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(f(2)-1)/3,isZero:function(L){return L>=-m&&L<=m},isMachineZero:function(L){return L>=-p&&L<=p},clamp:w,integrate:function(L,I,O,B){for(var q=t[B-2],Y=r[B-2],z=(O-I)*.5,N=z+I,M=0,R=B+1>>1,V=B&1?Y[M++]*L(N):0;M<R;){var W=z*q[M];V+=Y[M++]*(L(N+W)+L(N-W))}return z*V},findRoot:function(L,I,O,B,q,Y,z){for(var N=0;N<Y;N++){var M=L(O),R=M/I(O),V=O-R;if(a(R)<z){O=V;break}M>0?(q=O,O=V<=B?(B+q)*.5:V):(B=O,O=V>=q?(B+q)*.5:V)}return w(O,B,q)},solveQuadratic:function(L,I,O,B,q,Y){var z,N=1/0;if(a(L)<m){if(a(I)<m)return a(O)<m?-1:0;z=-O/I}else{I*=-.5;var M=T(L,I,O);if(M&&a(M)<p){var R=E(a(L),a(I),a(O));R&&(L*=R,I*=R,O*=R,M=T(L,I,O))}if(M>=-p){var V=M<0?0:f(M),W=I+(I<0?-V:V);W===0?(z=O/L,N=-z):(z=W/L,N=O/W)}}var Z=0,j=q==null,Q=q-m,et=Y+m;return isFinite(z)&&(j||z>Q&&z<et)&&(B[Z++]=j?z:w(z,q,Y)),N!==z&&isFinite(N)&&(j||N>Q&&N<et)&&(B[Z++]=j?N:w(N,q,Y)),Z},solveCubic:function(L,I,O,B,q,Y,z){var N=E(a(L),a(I),a(O),a(B)),M,R,V,W,Z;N&&(L*=N,I*=N,O*=N,B*=N);function j(mt){M=mt;var Ot=L*M;R=Ot+I,V=R*M+O,W=(Ot+R)*M+V,Z=V*M+B}if(a(L)<m)L=I,R=O,V=B,M=1/0;else if(a(B)<m)R=I,V=O,M=0;else{j(-(I/L)/3);var Q=Z/L,et=d(a(Q),1/3),it=Q<0?-1:1,tt=-W/L,rt=tt>0?1.324717957244746*Math.max(et,f(tt)):et,at=M-it*rt;if(at!==M){do j(at),at=W===0?M:M-Z/W/(1+p);while(it*at>it*M);a(L)*M*M>a(B/M)&&(V=-B/M,R=(V-O)/M)}}var _t=A.solveQuadratic(L,R,V,q,Y,z),vt=Y==null;return isFinite(M)&&(_t===0||_t>0&&M!==q[0]&&M!==q[1])&&(vt||M>Y-m&&M<z+m)&&(q[_t++]=vt?M:w(M,Y,z)),_t}}},k={_id:1,_pools:{},get:function(t){if(t){var r=this._pools[t];return r||(r=this._pools[t]={_id:1}),r._id++}else return this._id++}},y=h.extend({_class:"Point",_readIndex:!0,initialize:function(r,a){var f=typeof r,d=this.__read,v=0;if(f==="number"){var m=typeof a=="number";this._set(r,m?a:r),d&&(v=m?2:1)}else if(f==="undefined"||r===null)this._set(0,0),d&&(v=r===null?1:0);else{var p=f==="string"?r.split(/[\s,]+/)||[]:r;v=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"x"in p?this._set(p.x||0,p.y||0):"width"in p?this._set(p.width||0,p.height||0):"angle"in p?(this._set(p.length||0,0),this.setAngle(p.angle||0)):(this._set(0,0),v=0)}return d&&(this.__read=v),this},set:"#initialize",_set:function(t,r){return this.x=t,this.y=r,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new y(this.x,this.y)},toString:function(){var t=S.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var r=t.formatter;return[r.number(this.x),r.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var r=this._angle||0;this._set(Math.cos(r)*t,Math.sin(r)*t)}else{var a=t/this.getLength();A.isZero(a)&&this.getAngle(),this._set(this.x*a,this.y*a)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=y.read(arguments),r=this.getLength()*t.getLength();if(A.isZero(r))return NaN;var a=this.dot(t)/r;return Math.acos(a<-1?-1:a>1?1:a)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var r=this.getLength();this._set(Math.cos(t)*r,Math.sin(t)*r)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=y.read(arguments);return Math.atan2(this.cross(t),this.dot(t))*180/Math.PI},getDistance:function(){var t=arguments,r=y.read(t),a=r.x-this.x,f=r.y-this.y,d=a*a+f*f,v=h.read(t);return v?d:Math.sqrt(d)},normalize:function(t){t===i&&(t=1);var r=this.getLength(),a=r!==0?t/r:0,f=new y(this.x*a,this.y*a);return a>=0&&(f._angle=this._angle),f},rotate:function(t,r){if(t===0)return this.clone();t=t*Math.PI/180;var a=r?this.subtract(r):this,f=Math.sin(t),d=Math.cos(t);return a=new y(a.x*d-a.y*f,a.x*f+a.y*d),r?a.add(r):a},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=y.read(arguments);return new y(this.x+t.x,this.y+t.y)},subtract:function(){var t=y.read(arguments);return new y(this.x-t.x,this.y-t.y)},multiply:function(){var t=y.read(arguments);return new y(this.x*t.x,this.y*t.y)},divide:function(){var t=y.read(arguments);return new y(this.x/t.x,this.y/t.y)},modulo:function(){var t=y.read(arguments);return new y(this.x%t.x,this.y%t.y)},negate:function(){return new y(-this.x,-this.y)},isInside:function(){return $.read(arguments).contains(this)},isClose:function(){var t=arguments,r=y.read(t),a=h.read(t);return this.getDistance(r)<=a},isCollinear:function(){var t=y.read(arguments);return y.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=y.read(arguments);return y.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=A.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=y.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=y.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=y.read(arguments),r=t.isZero()?0:this.dot(t)/t.dot(t);return new y(t.x*r,t.y*r)},statics:{min:function(){var t=arguments,r=y.read(t),a=y.read(t);return new y(Math.min(r.x,a.x),Math.min(r.y,a.y))},max:function(){var t=arguments,r=y.read(t),a=y.read(t);return new y(Math.max(r.x,a.x),Math.max(r.y,a.y))},random:function(){return new y(Math.random(),Math.random())},isCollinear:function(t,r,a,f){return Math.abs(t*f-r*a)<=Math.sqrt((t*t+r*r)*(a*a+f*f))*1e-8},isOrthogonal:function(t,r,a,f){return Math.abs(t*a+r*f)<=Math.sqrt((t*t+r*r)*(a*a+f*f))*1e-8}}},h.each(["round","ceil","floor","abs"],function(t){var r=Math[t];this[t]=function(){return new y(r(this.x),r(this.y))}},{})),D=y.extend({initialize:function(r,a,f,d){this._x=r,this._y=a,this._owner=f,this._setter=d},_set:function(t,r,a){return this._x=t,this._y=r,a||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),C=h.extend({_class:"Size",_readIndex:!0,initialize:function(r,a){var f=typeof r,d=this.__read,v=0;if(f==="number"){var m=typeof a=="number";this._set(r,m?a:r),d&&(v=m?2:1)}else if(f==="undefined"||r===null)this._set(0,0),d&&(v=r===null?1:0);else{var p=f==="string"?r.split(/[\s,]+/)||[]:r;v=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"width"in p?this._set(p.width||0,p.height||0):"x"in p?this._set(p.x||0,p.y||0):(this._set(0,0),v=0)}return d&&(this.__read=v),this},set:"#initialize",_set:function(t,r){return this.width=t,this.height=r,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new C(this.width,this.height)},toString:function(){var t=S.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var r=t.formatter;return[r.number(this.width),r.number(this.height)]},add:function(){var t=C.read(arguments);return new C(this.width+t.width,this.height+t.height)},subtract:function(){var t=C.read(arguments);return new C(this.width-t.width,this.height-t.height)},multiply:function(){var t=C.read(arguments);return new C(this.width*t.width,this.height*t.height)},divide:function(){var t=C.read(arguments);return new C(this.width/t.width,this.height/t.height)},modulo:function(){var t=C.read(arguments);return new C(this.width%t.width,this.height%t.height)},negate:function(){return new C(-this.width,-this.height)},isZero:function(){var t=A.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,r){return new C(Math.min(t.width,r.width),Math.min(t.height,r.height))},max:function(t,r){return new C(Math.max(t.width,r.width),Math.max(t.height,r.height))},random:function(){return new C(Math.random(),Math.random())}}},h.each(["round","ceil","floor","abs"],function(t){var r=Math[t];this[t]=function(){return new C(r(this.width),r(this.height))}},{})),U=C.extend({initialize:function(r,a,f,d){this._width=r,this._height=a,this._owner=f,this._setter=d},_set:function(t,r,a){return this._width=t,this._height=r,a||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),$=h.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(r,a,f,d){var v=arguments,m=typeof r,p;if(m==="number"?(this._set(r,a,f,d),p=4):m==="undefined"||r===null?(this._set(0,0,0,0),p=r===null?1:0):v.length===1&&(Array.isArray(r)?(this._set.apply(this,r),p=1):r.x!==i||r.width!==i?(this._set(r.x||0,r.y||0,r.width||0,r.height||0),p=1):r.from===i&&r.to===i&&(this._set(0,0,0,0),h.readSupported(v,this)&&(p=1))),p===i){var w=y.readNamed(v,"from"),T=h.peek(v),E=w.x,L=w.y,I,O;if(T&&T.x!==i||h.hasNamed(v,"to")){var B=y.readNamed(v,"to");I=B.x-E,O=B.y-L,I<0&&(E=B.x,I=-I),O<0&&(L=B.y,O=-O)}else{var q=C.read(v);I=q.width,O=q.height}this._set(E,L,I,O),p=v.__index}var Y=v.__filtered;return Y&&(this.__filtered=Y),this.__read&&(this.__read=p),this},set:"#initialize",_set:function(t,r,a,f){return this.x=t,this.y=r,this.width=a,this.height=f,this},clone:function(){return new $(this.x,this.y,this.width,this.height)},equals:function(t){var r=h.isPlainValue(t)?$.read(arguments):t;return r===this||r&&this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height||!1},toString:function(){var t=S.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var r=t.formatter;return[r.number(this.x),r.number(this.y),r.number(this.width),r.number(this.height)]},getPoint:function(t){var r=t?y:D;return new r(this.x,this.y,this,"setPoint")},setPoint:function(){var t=y.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var r=t?C:U;return new r(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=C.read(arguments),r=this._sx,a=this._sy,f=t.width,d=t.height;r&&(this.x+=(this.width-f)*r),a&&(this.y+=(this.height-d)*a),this.width=f,this.height=d,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var r=t-this.x;this.width-=this._sx===.5?r*2:r}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var r=t-this.y;this.height-=this._sy===.5?r*2:r}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var r=t-this.x;this.width=this._sx===.5?r*2:r}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var r=t-this.y;this.height=this._sy===.5?r*2:r}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||this._sx===.5?this.x=t-this.width/2:(this._sx&&(this.x+=(t-this.x)*2*this._sx),this.width=(t-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||this._sy===.5?this.y=t-this.height/2:(this._sy&&(this.y+=(t-this.y)*2*this._sy),this.height=(t-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(t){var r=t?y:D;return new r(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=y.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(t){return t&&t.width!==i||(Array.isArray(t)?t:arguments).length===4?this._containsRectangle($.read(arguments)):this._containsPoint(y.read(arguments))},_containsPoint:function(t){var r=t.x,a=t.y;return r>=this.x&&a>=this.y&&r<=this.x+this.width&&a<=this.y+this.height},_containsRectangle:function(t){var r=t.x,a=t.y;return r>=this.x&&a>=this.y&&r+t.width<=this.x+this.width&&a+t.height<=this.y+this.height},intersects:function(){var t=$.read(arguments),r=h.read(arguments)||0;return t.x+t.width>this.x-r&&t.y+t.height>this.y-r&&t.x<this.x+this.width+r&&t.y<this.y+this.height+r},intersect:function(){var t=$.read(arguments),r=Math.max(this.x,t.x),a=Math.max(this.y,t.y),f=Math.min(this.x+this.width,t.x+t.width),d=Math.min(this.y+this.height,t.y+t.height);return new $(r,a,f-r,d-a)},unite:function(){var t=$.read(arguments),r=Math.min(this.x,t.x),a=Math.min(this.y,t.y),f=Math.max(this.x+this.width,t.x+t.width),d=Math.max(this.y+this.height,t.y+t.height);return new $(r,a,f-r,d-a)},include:function(){var t=y.read(arguments),r=Math.min(this.x,t.x),a=Math.min(this.y,t.y),f=Math.max(this.x+this.width,t.x),d=Math.max(this.y+this.height,t.y);return new $(r,a,f-r,d-a)},expand:function(){var t=C.read(arguments),r=t.width,a=t.height;return new $(this.x-r/2,this.y-a/2,this.width+r,this.height+a)},scale:function(t,r){return this.expand(this.width*t-this.width,this.height*(r===i?t:r)-this.height)}},h.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,r){var a=t.join(""),f=/^[RL]/.test(a);r>=4&&(t[1]+=f?"Y":"X");var d=t[f?0:1],v=t[f?1:0],m="get"+d,p="get"+v,w="set"+d,T="set"+v,E="get"+a,L="set"+a;this[E]=function(I){var O=I?y:D;return new O(this[m](),this[p](),this,L)},this[L]=function(){var I=y.read(arguments);this[w](I.x),this[T](I.y)}},{beans:!0})),K=$.extend({initialize:function(r,a,f,d,v,m){this._set(r,a,f,d,!0),this._owner=v,this._setter=m},_set:function(t,r,a,f,d){return this._x=t,this._y=r,this._width=a,this._height=f,d||this._owner[this._setter](this),this}},new function(){var t=$.prototype;return h.each(["x","y","width","height"],function(r){var a=h.capitalize(r),f="_"+r;this["get"+a]=function(){return this[f]},this["set"+a]=function(d){this[f]=d,this._dontNotify||this._owner[this._setter](this)}},h.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(r){var a="set"+r;this[a]=function(){this._dontNotify=!0,t[a].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(r){var a=this._owner;a._changeSelection&&a._changeSelection(2,r)}}))}),J=h.extend({_class:"Matrix",initialize:function t(r,a){var f=arguments,d=f.length,v=!0;if(d>=6?this._set.apply(this,f):d===1||d===2?r instanceof t?this._set(r._a,r._b,r._c,r._d,r._tx,r._ty,a):Array.isArray(r)?this._set.apply(this,a?r.concat([a]):r):v=!1:d?v=!1:this.reset(),!v)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,r,a,f,d,v,m){return this._a=t,this._b=r,this._c=a,this._d=f,this._tx=d,this._ty=v,m||this._changed(),this},_serialize:function(t,r){return h.serialize(this.getValues(),t,!0,r)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new J(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=S.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,r){var a=this._owner;return a?(a.transform(null,h.pick(t,!0),r),this.isIdentity()):!1},translate:function(){var t=y.read(arguments),r=t.x,a=t.y;return this._tx+=r*this._a+a*this._c,this._ty+=r*this._b+a*this._d,this._changed(),this},scale:function(){var t=arguments,r=y.read(t),a=y.read(t,0,{readNull:!0});return a&&this.translate(a),this._a*=r.x,this._b*=r.x,this._c*=r.y,this._d*=r.y,a&&this.translate(a.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var r=y.read(arguments,1),a=r.x,f=r.y,d=Math.cos(t),v=Math.sin(t),m=a-a*d+f*v,p=f-a*v-f*d,w=this._a,T=this._b,E=this._c,L=this._d;return this._a=d*w+v*E,this._b=d*T+v*L,this._c=-v*w+d*E,this._d=-v*T+d*L,this._tx+=m*w+p*E,this._ty+=m*T+p*L,this._changed(),this},shear:function(){var t=arguments,r=y.read(t),a=y.read(t,0,{readNull:!0});a&&this.translate(a);var f=this._a,d=this._b;return this._a+=r.y*this._c,this._b+=r.y*this._d,this._c+=r.x*f,this._d+=r.x*d,a&&this.translate(a.negate()),this._changed(),this},skew:function(){var t=arguments,r=y.read(t),a=y.read(t,0,{readNull:!0}),f=Math.PI/180,d=new y(Math.tan(r.x*f),Math.tan(r.y*f));return this.shear(d,a)},append:function(t,r){if(t){var a=this._a,f=this._b,d=this._c,v=this._d,m=t._a,p=t._c,w=t._b,T=t._d,E=t._tx,L=t._ty;this._a=m*a+w*d,this._c=p*a+T*d,this._b=m*f+w*v,this._d=p*f+T*v,this._tx+=E*a+L*d,this._ty+=E*f+L*v,r||this._changed()}return this},prepend:function(t,r){if(t){var a=this._a,f=this._b,d=this._c,v=this._d,m=this._tx,p=this._ty,w=t._a,T=t._c,E=t._b,L=t._d,I=t._tx,O=t._ty;this._a=w*a+T*f,this._c=w*d+T*v,this._b=E*a+L*f,this._d=E*d+L*v,this._tx=w*m+T*p+I,this._ty=E*m+L*p+O,r||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,r=this._b,a=this._c,f=this._d,d=this._tx,v=this._ty,m=t*f-r*a,p=null;return m&&!isNaN(m)&&isFinite(d)&&isFinite(v)&&(this._a=f/m,this._b=-r/m,this._c=-a/m,this._d=t/m,this._tx=(a*v-f*d)/m,this._ty=(r*d-t*v)/m,p=this),p},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new J(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,r,a){return arguments.length<3?this._transformPoint(y.read(arguments)):this._transformCoordinates(t,r,a)},_transformPoint:function(t,r,a){var f=t.x,d=t.y;return r||(r=new y),r._set(f*this._a+d*this._c+this._tx,f*this._b+d*this._d+this._ty,a)},_transformCoordinates:function(t,r,a){for(var f=0,d=2*a;f<d;f+=2){var v=t[f],m=t[f+1];r[f]=v*this._a+m*this._c+this._tx,r[f+1]=v*this._b+m*this._d+this._ty}return r},_transformCorners:function(t){var r=t.x,a=t.y,f=r+t.width,d=a+t.height,v=[r,a,f,a,f,d,r,d];return this._transformCoordinates(v,v,4)},_transformBounds:function(t,r,a){for(var f=this._transformCorners(t),d=f.slice(0,2),v=d.slice(),m=2;m<8;m++){var p=f[m],w=m&1;p<d[w]?d[w]=p:p>v[w]&&(v[w]=p)}return r||(r=new $),r._set(d[0],d[1],v[0]-d[0],v[1]-d[1],a)},inverseTransform:function(){return this._inverseTransform(y.read(arguments))},_inverseTransform:function(t,r,a){var f=this._a,d=this._b,v=this._c,m=this._d,p=this._tx,w=this._ty,T=f*m-d*v,E=null;if(T&&!isNaN(T)&&isFinite(p)&&isFinite(w)){var L=t.x-this._tx,I=t.y-this._ty;r||(r=new y),E=r._set((L*m-I*v)/T,(I*f-L*d)/T,a)}return E},decompose:function(){var t=this._a,r=this._b,a=this._c,f=this._d,d=t*f-r*a,v=Math.sqrt,m=Math.atan2,p=180/Math.PI,w,T,E;if(t!==0||r!==0){var L=v(t*t+r*r);w=Math.acos(t/L)*(r>0?1:-1),T=[L,d/L],E=[m(t*a+r*f,L*L),0]}else if(a!==0||f!==0){var I=v(a*a+f*f);w=Math.asin(a/I)*(f>0?1:-1),T=[d/I,I],E=[0,m(t*a+r*f,I*I)]}else w=0,E=T=[0,0];return{translation:this.getTranslation(),rotation:w*p,scaling:new y(T),skewing:new y(E[0]*p,E[1]*p)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new y(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},h.each(["a","b","c","d","tx","ty"],function(t){var r=h.capitalize(t),a="_"+t;this["get"+r]=function(){return this[a]},this["set"+r]=function(f){this[a]=f,this._changed()}},{})),ut=h.extend({_class:"Line",initialize:function(r,a,f,d,v){var m=!1;arguments.length>=4?(this._px=r,this._py=a,this._vx=f,this._vy=d,m=v):(this._px=r.x,this._py=r.y,this._vx=a.x,this._vy=a.y,m=f),m||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new y(this._px,this._py)},getVector:function(){return new y(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,r){return ut.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,r)},getSide:function(t,r){return ut.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,r)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return ut.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return y.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return y.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,r,a,f,d,v,m,p,w,T){w||(a-=t,f-=r,m-=d,p-=v);var E=a*p-f*m;if(!A.isMachineZero(E)){var L=t-d,I=r-v,O=(m*I-p*L)/E,B=(a*I-f*L)/E,q=1e-12,Y=-q,z=1+q;if(T||Y<O&&O<z&&Y<B&&B<z)return T||(O=O<=0?0:O>=1?1:O),new y(t+O*a,r+O*f)}},getSide:function(t,r,a,f,d,v,m,p){m||(a-=t,f-=r);var w=d-t,T=v-r,E=w*f-T*a;return!p&&A.isMachineZero(E)&&(E=(w*a+w*a)/(a*a+f*f),E>=0&&E<=1&&(E=0)),E<0?-1:E>0?1:0},getSignedDistance:function(t,r,a,f,d,v,m){return m||(a-=t,f-=r),a===0?f>0?d-t:t-d:f===0?a<0?v-r:r-v:((d-t)*f-(v-r)*a)/(f>a?f*Math.sqrt(1+a*a/(f*f)):a*Math.sqrt(1+f*f/(a*a)))},getDistance:function(t,r,a,f,d,v,m){return Math.abs(ut.getSignedDistance(t,r,a,f,d,v,m))}}}),ht=b.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(r){b.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new At(null,null,this),this._view=Nt.create(this,r||De.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,r){return h.serialize(this._children,t,!0,r)},_changed:function(t,r){if(t&1){var a=this._view;a&&(a._needsUpdate=!0,!a._requested&&a._autoUpdate&&a.requestUpdate())}var f=this._changes;if(f&&r){var d=this._changesById,v=r._id,m=d[v];m?m.flags|=t:f.push(d[v]={item:r,flags:t})}},clear:function(){for(var t=this._children,r=t.length-1;r>=0;r--)t[r].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return t.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new gt({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],r={};return this.getItems({class:Et,match:function(a){var f=a._definition,d=f._id;return r[d]||(r[d]=!0,t.push(f)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,r=[];for(var a in t){var f=t[a],d=f._selection;d&1&&f.isInserted()?r.push(f):d||this._updateSelection(f)}return r},_updateSelection:function(t){var r=t._id,a=this._selectionItems;t._selection?a[r]!==t&&(this._selectionCount++,a[r]=t):a[r]===t&&(this._selectionCount--,delete a[r])},selectAll:function(){for(var t=this._children,r=0,a=t.length;r<a;r++)t[r].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var r in t)t[r].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(i,t)},insertLayer:function(t,r){if(r instanceof gt){r._remove(!1,!0),h.splice(this._children,[r],t,0),r._setProject(this,!0);var a=r._name;a&&r.setName(a),this._changes&&r._changed(5),this._activeLayer||(this._activeLayer=r)}else r=null;return r},_insertItem:function(t,r,a){return r=this.insertLayer(t,r)||(this._activeLayer||this._insertItem(i,new gt(dt.NO_INSERT),!0)).insertChild(t,r),a&&r.activate&&r.activate(),r},getItems:function(t){return dt._getItems(this,t)},getItem:function(t){return dt._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var r=this._activeLayer;return h.importJSON(t,r&&r.isEmpty()&&r)},removeOn:function(t){var r=this._removeSets;if(r){t==="mouseup"&&(r.mousedrag=null);var a=r[t];if(a){for(var f in a){var d=a[f];for(var v in r){var m=r[v];m&&m!=a&&delete m[d._id]}d.remove()}r[t]=null}}},draw:function(t,r,a){this._updateVersion++,t.save(),r.applyToContext(t);for(var f=this._children,d=new h({offset:new y(0,0),pixelRatio:a,viewMatrix:r.isIdentity()?null:r,matrices:[new J],updateMatrix:!0}),v=0,m=f.length;v<m;v++)f[v].draw(t,d);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var p=this._selectionItems,w=this._scope.settings.handleSize,T=this._updateVersion;for(var E in p)p[E]._drawSelection(t,r,w,p,T);t.restore()}}}),dt=h.extend(c,{statics:{extend:function t(r){return r._serializeFields&&(r._serializeFields=h.set({},this.prototype._serializeFields,r._serializeFields)),t.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new J,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return h.each(t,function(r){this._events[r]={install:function(a){this.getView()._countItemEvent(a,1)},uninstall:function(a){this.getView()._countItemEvent(a,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,r){var a=t&&h.isPlainObject(t),f=a&&t.internal===!0,d=this._matrix=new J,v=a&&t.project||ce.project,m=ce.settings;return this._id=f?null:k.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&m.applyMatrix,r&&d.translate(r),d._owner=this,this._style=new At(v._currentStyle,this,v),f||a&&t.insert==!1||!m.insertItems&&!(a&&t.insert==!0)?this._setProject(v):(a&&t.parent||v)._insertItem(i,this,!0),a&&t!==dt.NO_INSERT&&t!==dt.INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),a},_serialize:function(t,r){var a={},f=this;function d(v){for(var m in v){var p=f[m];h.equals(p,m==="leading"?v.fontSize*1.2:v[m])||(a[m]=h.serialize(p,t,m!=="data",r))}}return d(this._serializeFields),this instanceof ft||d(this._style._defaults),[this._class,a]},_changed:function(t){var r=this._symbol,a=this._parent||r,f=this._project;t&8&&(this._bounds=this._position=this._decomposed=i),t&16&&(this._globalMatrix=i),a&&t&72&&dt._clearBoundsCache(a),t&2&&dt._clearBoundsCache(this),f&&f._changed(t,this),r&&r._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var r=this._getOwner();if(t&&r){var a=r._children,f=r._namedChildren;(f[t]=f[t]||[]).push(this),t in a||(a[t]=this)}this._name=t||i,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},h.each(["locked","visible","blendMode","opacity","guide"],function(t){var r=h.capitalize(t),a="_"+t,f={locked:256,visible:265};this["get"+r]=function(){return this[a]},this["set"+r]=function(d){d!=this[a]&&(this[a]=d,this._changed(f[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var r=this._project;r&&(r._updateSelection(this),this._changed(257))}},_changeSelection:function(t,r){var a=this._selection;this.setSelection(r?a|t:a&~t)},isSelected:function(){if(this._selectChildren){for(var t=this._children,r=0,a=t.length;r<a;r++)if(t[r].isSelected())return!0}return!!(this._selection&1)},setSelected:function(t){if(this._selectChildren)for(var r=this._children,a=0,f=r.length;a<f;a++)r[a].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,r=!!(this._selection&1);if(t&&r){for(var a=0,f=t.length;a<f;a++)if(!t[a].isFullySelected())return!1;return!0}return r},setFullySelected:function(t){var r=this._children;if(r)for(var a=0,f=r.length;a<f;a++)r[a].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var r=t?y:D,a=this._position||(this._position=this._getPositionFromBounds());return new r(a.x,a.y,this,"setPosition")},setPosition:function(){this.translate(y.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new D(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=y.read(arguments,0,{clone:!0,readNull:!0}),this._position=i}},h.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,r){this[r]=function(a){return this.getBounds(a,t)}},{beans:!0,getBounds:function(t,r){var a=r||t instanceof J,f=h.set({},a?r:t,this._boundsOptions);(!f.stroke||this.getStrokeScaling())&&(f.cacheItem=this);var d=this._getCachedBounds(a&&t,f).rect;return arguments.length?d:new K(d.x,d.y,d.width,d.height,this,"setBounds")},setBounds:function(){var t=$.read(arguments),r=this.getBounds(),a=this._matrix,f=new J,d=t.getCenter();f.translate(d),(t.width!=r.width||t.height!=r.height)&&(a.isInvertible()||(a.set(a._backup||new J().translate(a.getTranslation())),r=this.getBounds()),f.scale(r.width!==0?t.width/r.width:0,r.height!==0?t.height/r.height:0)),d=r.getCenter(),f.translate(-d.x,-d.y),this.transform(f)},_getBounds:function(t,r){var a=this._children;return!a||!a.length?new $:(dt._updateBoundsCache(this,r.cacheItem),dt._getBounds(a,t,r))},_getBoundsCacheKey:function(t,r){return[t.stroke?1:0,t.handle?1:0,r?1:0].join("")},_getCachedBounds:function(t,r,a){t=t&&t._orNullIfIdentity();var f=r.internal&&!a,d=r.cacheItem,v=f?null:this._matrix._orNullIfIdentity(),m=d&&(!t||t.equals(v))&&this._getBoundsCacheKey(r,f),p=this._bounds;if(dt._updateBoundsCache(this._parent||this._symbol,d),m&&p&&m in p){var w=p[m];return{rect:w.rect.clone(),nonscaling:w.nonscaling}}var T=this._getBounds(t||v,r),E=T.rect||T,L=this._style,I=T.nonscaling||L.hasStroke()&&!L.getStrokeScaling();if(m){p||(this._bounds=p={});var w=p[m]={rect:E.clone(),nonscaling:I,internal:f}}return{rect:E,nonscaling:I}},_getStrokeMatrix:function(t,r){var a=this.getStrokeScaling()?null:r&&r.internal?this:this._parent||this._symbol&&this._symbol._item,f=a?a.getViewMatrix().invert():t;return f&&f._shiftless()},statics:{_updateBoundsCache:function(t,r){if(t&&r){var a=r._id,f=t._boundsCache=t._boundsCache||{ids:{},list:[]};f.ids[a]||(f.list.push(r),f.ids[a]=r)}},_clearBoundsCache:function(t){var r=t._boundsCache;if(r){t._bounds=t._position=t._boundsCache=i;for(var a=0,f=r.list,d=f.length;a<d;a++){var v=f[a];v!==t&&(v._bounds=v._position=i,v._boundsCache&&dt._clearBoundsCache(v))}}},_getBounds:function(t,r,a){var f=1/0,d=-f,v=f,m=d,p=!1;a=a||{};for(var w=0,T=t.length;w<T;w++){var E=t[w];if(E._visible&&!E.isEmpty(!0)){var L=E._getCachedBounds(r&&r.appended(E._matrix),a,!0),I=L.rect;f=Math.min(I.x,f),v=Math.min(I.y,v),d=Math.max(I.x+I.width,d),m=Math.max(I.y+I.height,m),L.nonscaling&&(p=!0)}}return{rect:isFinite(f)?new $(f,v,d-f,m-v):new $,nonscaling:p}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var r=this.getRotation();if(r!=null&&t!=null){var a=this._decomposed;this.rotate(t-r),a&&(a.rotation=t,this._decomposed=a)}},getScaling:function(){var t=this._decompose(),r=t&&t.scaling;return new D(r?r.x:1,r?r.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),r=y.read(arguments,0,{clone:!0,readNull:!0});if(t&&r&&!t.equals(r)){var a=this.getRotation(),f=this._decomposed,d=new J,v=A.isZero;if(v(t.x)||v(t.y))d.translate(f.translation),a&&d.rotate(a),d.scale(r.x,r.y),this._matrix.set(d);else{var m=this.getPosition(!0);d.translate(m),a&&d.rotate(a),d.scale(r.x/t.x,r.y/t.y),a&&d.rotate(-a),d.translate(m.negate()),this.transform(d)}f&&(f.scaling=r,this._decomposed=f)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var r=this._globalMatrix;if(r)for(var a=this._parent,f=[];a;){if(!a._globalMatrix){r=null;for(var d=0,v=f.length;d<v;d++)f[d]._globalMatrix=null;break}f.push(a),a=a._parent}if(!r){r=this._globalMatrix=this._matrix.clone();var a=this._parent;a&&r.prepend(a.getGlobalMatrix(!0))}return t?r:r.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,r){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var a=this._children,f=0,d=a&&a.length;f<d;f++)a[f]._setProject(t);r=!0}r&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(r){t.base.call(this,r);for(var a=this._children,f=0,d=a&&a.length;f<d;f++)a[f]._installEvents(r)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof gt)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(t){var r=this._parent,a=r&&r._children;a&&r.insertChildren(t in a?t:i,[this])},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return h.equals(this._children,t._children)},clone:function(t){var r=new this.constructor(dt.NO_INSERT),a=this._children,f=h.pick(t?t.insert:i,t===i||t===!0),d=h.pick(t?t.deep:i,!0);a&&r.copyAttributes(this),(!a||d)&&r.copyContent(this),a||r.copyAttributes(this),f&&r.insertAbove(this);var v=this._name,m=this._parent;if(v&&m){for(var a=m._children,p=v,w=1;a[v];)v=p+" "+w++;v!==p&&r.setName(v)}return r},copyContent:function(t){for(var r=t._children,a=0,f=r&&r.length;a<f;a++)this.addChild(r[a].clone(!1),!0)},copyAttributes:function(t,r){this.setStyle(t._style);for(var a=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],f=0,d=a.length;f<d;f++){var v=a[f];t.hasOwnProperty(v)&&(this[v]=t[v])}r||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var m=t._data,p=t._name;this._data=m?h.clone(m):null,p&&this.setName(p)},rasterize:function(t,r){var a,f,d;h.isPlainObject(t)?(a=t.resolution,f=t.insert,d=t.raster):(a=t,f=r),d||(d=new Mt(dt.NO_INSERT));var v=this.getStrokeBounds(),m=(a||this.getView().getResolution())/72,p=v.getTopLeft().floor(),w=v.getBottomRight().ceil(),T=new C(w.subtract(p)),E=T.multiply(m);if(d.setSize(E,!0),!E.isZero()){var L=d.getContext(!0),I=new J().scale(m).translate(p.negate());L.save(),I.applyToContext(L),this.draw(L,new h({matrices:[I]})),L.restore()}return d._matrix.set(new J().translate(p.add(T.divide(2))).scale(1/m)),(f===i||f)&&d.insertAbove(this),d},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(y.read(arguments)))},_contains:function(t){var r=this._children;if(r){for(var a=r.length-1;a>=0;a--)if(r[a].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return $.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Ft.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,r){return t instanceof dt?this._asPathItem().getIntersections(t._asPathItem(),null,r,!0).length>0:!1}},new function(){function t(){var f=arguments;return this._hitTest(y.read(f),Rt.getOptions(f))}function r(){var f=arguments,d=y.read(f),v=Rt.getOptions(f),m=[];return this._hitTest(d,new h({all:m},v)),m}function a(f,d,v,m){var p=this._children;if(p)for(var w=p.length-1;w>=0;w--){var T=p[w],E=T!==m&&T._hitTest(f,d,v);if(E&&!d.all)return E}return null}return ht.inject({hitTest:t,hitTestAll:r,_hitTest:a}),{hitTest:t,hitTestAll:r,_hitTestChildren:a}},{_hitTest:function(t,r,a){if(this._locked||!this._visible||this._guide&&!r.guides||this.isEmpty())return null;var f=this._matrix,d=a?a.appended(f):this.getGlobalMatrix().prepend(this.getView()._matrix),v=Math.max(r.tolerance,1e-12),m=r._tolerancePadding=new C(Ft._getStrokePadding(v,f._shiftless().invert()));if(t=f._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(m.multiply(2))._containsPoint(t))return null;var p=!(r.guides&&!this._guide||r.selected&&!this.isSelected()||r.type&&r.type!==h.hyphenate(this._class)||r.class&&!(this instanceof r.class)),w=r.match,T=this,E,L;function I(M){return M&&w&&!w(M)&&(M=null),M&&r.all&&r.all.push(M),M}function O(M,R){var V=R?E["get"+R]():T.getPosition();if(t.subtract(V).divide(m).length<=1)return new Rt(M,T,{name:R?h.hyphenate(R):M,point:V})}var B=r.position,q=r.center,Y=r.bounds;if(p&&this._parent&&(B||q||Y)){if((q||Y)&&(E=this.getInternalBounds()),L=B&&O("position")||q&&O("center","Center"),!L&&Y)for(var z=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],N=0;N<8&&!L;N++)L=O("bounds",z[N]);L=I(L)}return L||(L=this._hitTestChildren(t,r,d)||p&&I(this._hitTestSelf(t,r,d,this.getStrokeScaling()?null:d._shiftless().invert()))||null),L&&L.point&&(L.point=f.transform(L.point)),L},_hitTestSelf:function(t,r){if(r.fill&&this.hasFill()&&this._contains(t))return new Rt("fill",this)},matches:function(t,r){function a(m,p){for(var w in m)if(m.hasOwnProperty(w)){var T=m[w],E=p[w];if(h.isPlainObject(T)&&h.isPlainObject(E)){if(!a(T,E))return!1}else if(!h.equals(T,E))return!1}return!0}var f=typeof t;if(f==="object"){for(var d in t)if(t.hasOwnProperty(d)&&!this.matches(d,t[d]))return!1;return!0}else{if(f==="function")return t(this);if(t==="match")return r(this);var v=/^(empty|editable)$/.test(t)?this["is"+h.capitalize(t)]():t==="type"?h.hyphenate(this._class):this[t];if(t==="class"){if(typeof r=="function")return this instanceof r;v=this._class}if(typeof r=="function")return!!r(v);if(r){if(r.test)return r.test(v);if(h.isPlainObject(r))return a(r,v)}return h.equals(v,r)}},getItems:function(t){return dt._getItems(this,t,this._matrix)},getItem:function(t){return dt._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(r,a,f,d,v){if(!d){var m=typeof a=="object"&&a,p=m&&m.overlapping,w=m&&m.inside,T=p||w,I=T&&$.read([T]);d={items:[],recursive:m&&m.recursive!==!1,inside:!!w,overlapping:!!p,rect:I,path:p&&new Ft.Rectangle({rectangle:I,insert:!1})},m&&(a=h.filter({},a,{recursive:!0,inside:!0,overlapping:!0}))}var E=r._children,L=d.items,I=d.rect;f=I&&(f||new J);for(var O=0,B=E&&E.length;O<B;O++){var q=E[O],Y=f&&f.appended(q._matrix),z=!0;if(I){var T=q.getBounds(Y);if(!I.intersects(T))continue;I.contains(T)||d.overlapping&&(T.contains(I)||d.path.intersects(q,Y))||(z=!1)}if(z&&q.matches(a)&&(L.push(q),v)||(d.recursive!==!1&&t(q,a,Y,d,v),v&&L.length>0))break}return L}}},{importJSON:function(t){var r=h.importJSON(t,this);return r!==this?this.addChild(r):r},addChild:function(t){return this.insertChild(i,t)},insertChild:function(t,r){var a=r?this.insertChildren(t,[r]):null;return a&&a[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,r){var a=this._children;if(a&&r&&r.length>0){r=h.slice(r);for(var f={},d=r.length-1;d>=0;d--){var v=r[d],m=v&&v._id;!v||f[m]?r.splice(d,1):(v._remove(!1,!0),f[m]=!0)}h.splice(a,r,t,0);for(var p=this._project,w=p._changes,d=0,T=r.length;d<T;d++){var v=r[d],E=v._name;v._parent=this,v._setProject(p,!0),E&&v.setName(E),w&&v._changed(5)}this._changed(11)}else r=null;return r},_insertItem:"#insertChild",_insertAt:function(t,r){var a=t&&t._getOwner(),f=t!==this&&a?this:null;return f&&(f._remove(!1,!0),a._insertItem(t._index+r,f)),f},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(i,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(i,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var r=this._children;if(r&&r.length===1){var a=r[0].reduce(t);return this._parent?(a.insertAbove(this),this.remove()):a.remove(),a}return this},_removeNamed:function(){var t=this._getOwner();if(t){var r=t._children,a=t._namedChildren,f=this._name,d=a[f],v=d?d.indexOf(this):-1;v!==-1&&(r[f]==this&&delete r[f],d.splice(v,1),d.length?r[f]=d[0]:delete a[f])}},_remove:function(t,r){var a=this._getOwner(),f=this._project,d=this._index;return this._style&&this._style._dispose(),a?(this._name&&this._removeNamed(),d!=null&&(f._activeLayer===this&&(f._activeLayer=this.getNextSibling()||this.getPreviousSibling()),h.splice(a._children,null,d,1)),this._installEvents(!1),t&&f._changes&&this._changed(5),r&&a._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var r=t&&t.insertBelow(this);return r&&this.remove(),r},removeChildren:function(t,r){if(!this._children)return null;t=t||0,r=h.pick(r,this._children.length);for(var a=h.splice(this._children,null,t,r-t),f=a.length-1;f>=0;f--)a[f]._remove(!0,!1);return a.length>0&&this._changed(11),a},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,r=this._children.length;t<r;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var r=this._children,a=r?r.length:0;if(t){for(var f=0;f<a;f++)if(!r[f].isEmpty(t))return!1;return!0}return!a},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function r(m){var p=[];do p.unshift(m);while(m=m._parent);return p}for(var a=r(this),f=r(t),d=0,v=Math.min(a.length,f.length);d<v;d++)if(a[d]!=f[d])return a[d]._index<f[d]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return this._getOrder(t)===1},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var r=this;r=r._parent;)if(r===t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var r=this._parent;r;){if(r._parent&&/^(Group|Layer|CompoundPath)$/.test(r._class)&&t.isDescendant(r))return!0;r=r._parent}return!1}},h.each(["rotate","scale","shear","skew"],function(t){var r=t==="rotate";this[t]=function(){var a=arguments,f=(r?h:y).read(a),d=y.read(a,0,{readNull:!0});return this.transform(new J()[t](f,d||this.getPosition(!0)))}},{translate:function(){var t=new J;return this.transform(t.translate.apply(t,arguments))},transform:function(t,r,a){var f=this._matrix,d=t&&!t.isIdentity(),v=a&&this._canApplyMatrix||this._applyMatrix&&(d||!f.isIdentity()||r&&this._children);if(!d&&!v)return this;if(d){!t.isInvertible()&&f.isInvertible()&&(f._backup=f.getValues()),f.prepend(t,!0);var m=this._style,p=m.getFillColor(!0),w=m.getStrokeColor(!0);p&&p.transform(t),w&&w.transform(t)}if(v&&(v=this._transformContent(f,r,a))){var T=this._pivot;T&&f._transformPoint(T,T,!0),f.reset(!0),a&&this._canApplyMatrix&&(this._applyMatrix=!0)}var E=this._bounds,L=this._position;(d||v)&&this._changed(25);var I=d&&E&&t.decompose();if(I&&I.skewing.isZero()&&I.rotation%90===0){for(var O in E){var B=E[O];if(B.nonscaling)delete E[O];else if(v||!B.internal){var q=B.rect;t._transformBounds(q,q)}}this._bounds=E;var Y=E[this._getBoundsCacheKey(this._boundsOptions||{})];Y&&(this._position=this._getPositionFromBounds(Y.rect))}else d&&L&&this._pivot&&(this._position=t._transformPoint(L,L));return this},_transformContent:function(t,r,a){var f=this._children;if(f){for(var d=0,v=f.length;d<v;d++)f[d].transform(t,r,a);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(y.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(y.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(y.read(arguments))},localToParent:function(){return this._matrix._transformPoint(y.read(arguments))},fitBounds:function(t,r){t=$.read(arguments);var a=this.getBounds(),f=a.height/a.width,d=t.height/t.width,v=(r?f>d:f<d)?t.width/a.width:t.height/a.height,m=new $(new y,new C(a.width*v,a.height*v));m.setCenter(t.getCenter()),this.setBounds(m)}}),{_setStyles:function(t,r,a){var f=this._style,d=this._matrix;if(f.hasFill()&&(t.fillStyle=f.getFillColor().toCanvasStyle(t,d)),f.hasStroke()){t.strokeStyle=f.getStrokeColor().toCanvasStyle(t,d),t.lineWidth=f.getStrokeWidth();var v=f.getStrokeJoin(),m=f.getStrokeCap(),p=f.getMiterLimit();if(v&&(t.lineJoin=v),m&&(t.lineCap=m),p&&(t.miterLimit=p),ce.support.nativeDash){var w=f.getDashArray(),T=f.getDashOffset();w&&w.length&&("setLineDash"in t?(t.setLineDash(w),t.lineDashOffset=T):(t.mozDash=w,t.mozDashOffset=T))}}if(f.hasShadow()){var E=r.pixelRatio||1,L=a._shiftless().prepend(new J().scale(E,E)),I=L.transform(new y(f.getShadowBlur(),0)),O=L.transform(this.getShadowOffset());t.shadowColor=f.getShadowColor().toCanvasStyle(t),t.shadowBlur=I.getLength(),t.shadowOffsetX=O.x,t.shadowOffsetY=O.y}},draw:function(t,r,a){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var f=r.matrices,d=r.viewMatrix,v=this._matrix,m=f[f.length-1].appended(v);if(m.isInvertible()){d=d?d.appended(m):m,f.push(m),r.updateMatrix&&(this._globalMatrix=m);var p=this._blendMode,w=A.clamp(this._opacity,0,1),T=p==="normal",E=hn.nativeModes[p],L=T&&w===1||r.dontStart||r.clip||(E||T&&w<1)&&this._canComposite(),I=r.pixelRatio||1,O,B,q;if(!L){var Y=this.getStrokeBounds(d);if(!Y.width||!Y.height){f.pop();return}q=r.offset,B=r.offset=Y.getTopLeft().floor(),O=t,t=De.getContext(Y.getSize().ceil().add(1).multiply(I)),I!==1&&t.scale(I,I)}t.save();var z=a?a.appended(v):this._canScaleStroke&&!this.getStrokeScaling(!0)&&d,N=!L&&r.clipItem,M=!z||N;if(L?(t.globalAlpha=w,E&&(t.globalCompositeOperation=p)):M&&t.translate(-B.x,-B.y),M&&(L?v:d).applyToContext(t),N&&r.clipItem.draw(t,r.extend({clip:!0})),z){t.setTransform(I,0,0,I,0,0);var R=r.offset;R&&t.translate(-R.x,-R.y)}this._draw(t,r,d,z),t.restore(),f.pop(),r.clip&&!r.dontFinish&&t.clip(this.getFillRule()),L||(hn.process(p,t,O,w,B.subtract(q).multiply(I)),De.release(t),r.offset=q)}}},_isUpdated:function(t){var r=this._parent;if(r instanceof ae)return r._isUpdated(t);var a=this._updateVersion===t;return!a&&r&&r._visible&&r._isUpdated(t)&&(this._updateVersion=t,a=!0),a},_drawSelection:function(t,r,a,f,d){var v=this._selection,m=v&1,p=v&2||m&&this._selectBounds,w=v&4;if(this._drawSelected||(m=!1),(m||p||w)&&this._isUpdated(d)){var T,E=this.getSelectedColor(!0)||(T=this.getLayer())&&T.getSelectedColor(!0),L=r.appended(this.getGlobalMatrix(!0)),I=a/2;if(t.strokeStyle=t.fillStyle=E?E.toCanvasStyle(t):"#009dec",m&&this._drawSelected(t,L,f),w){var O=this.getPosition(!0),B=this._parent,q=B?B.localToGlobal(O):O,Y=q.x,z=q.y;t.beginPath(),t.arc(Y,z,I,0,Math.PI*2,!0),t.stroke();for(var N=[[0,-1],[1,0],[0,1],[-1,0]],M=I,R=a+1,V=0;V<4;V++){var W=N[V],Z=W[0],j=W[1];t.moveTo(Y+Z*M,z+j*M),t.lineTo(Y+Z*R,z+j*R),t.stroke()}}if(p){var Q=L._transformCorners(this.getInternalBounds());t.beginPath();for(var V=0;V<8;V++)t[V?"lineTo":"moveTo"](Q[V],Q[++V]);t.closePath(),t.stroke();for(var V=0;V<8;V++)t.fillRect(Q[V]-I,Q[++V]-I,a,a)}}},_canComposite:function(){return!1}},h.each(["down","drag","up","move"],function(t){this["removeOn"+h.capitalize(t)]=function(){var r={};return r[t]=!0,this.removeOn(r)}},{removeOn:function(t){for(var r in t)if(t[r]){var a="mouse"+r,f=this._project,d=f._removeSets=f._removeSets||{};d[a]=d[a]||{},d[a][this._id]=this}return this}}),{tween:function(t,r,a){a||(a=r,r=t,t=null,a||(a=r,r=null));var f=a&&a.easing,d=a&&a.start,v=a!=null&&(typeof a=="number"?a:a.duration),m=new kn(this,t,r,v,f,d);function p(w){m._handleFrame(w.time*1e3),m.running||this.off("frame",p)}return v&&this.on("frame",p),m},tweenTo:function(t,r){return this.tween(null,t,r)},tweenFrom:function(t,r){return this.tween(t,null,r)}}),ft=dt.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(r){this._children=[],this._namedChildren={},this._initialize(r)||this.addChildren(Array.isArray(r)?r:arguments)},_changed:function t(r){t.base.call(this,r),r&2050&&(this._clipItem=i)},_getClipItem:function(){var t=this._clipItem;if(t===i){t=null;for(var r=this._children,a=0,f=r.length;a<f;a++)if(r[a]._clipMask){t=r[a];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var r=this.getFirstChild();r&&r.setClipMask(t)},_getBounds:function t(r,a){var f=this._getClipItem();return f?f._getCachedBounds(f._matrix.prepended(r),h.set({},a,{stroke:!1})):t.base.call(this,r,a)},_hitTestChildren:function t(r,a,f){var d=this._getClipItem();return(!d||d.contains(r))&&t.base.call(this,r,a,f,d)},_draw:function(t,r){var a=r.clip,f=!a&&this._getClipItem();r=r.extend({clipItem:f,clip:!1}),a?(t.beginPath(),r.dontStart=r.dontFinish=!0):f&&f.draw(t,r.extend({clip:!0}));for(var d=this._children,v=0,m=d.length;v<m;v++){var p=d[v];p!==f&&p.draw(t,r)}}}),gt=ft.extend({_class:"Layer",initialize:function(){ft.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function t(){return this._parent?t.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),ot=dt.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(r,a){this._initialize(r,a)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&h.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new U(t.width,t.height,this,"setSize")},setSize:function(){var t=C.read(arguments);if(!this._size)this._size=t.clone();else if(!this._size.equals(t)){var r=this._type,a=t.width,f=t.height;r==="rectangle"?this._radius.set(C.min(this._radius,t.divide(2).abs())):r==="circle"?(a=f=(a+f)/2,this._radius=a/2):r==="ellipse"&&this._radius._set(a/2,f/2),this._size._set(a,f),this._changed(9)}},getRadius:function(){var t=this._radius;return this._type==="circle"?t:new U(t.width,t.height,this,"setRadius")},setRadius:function(t){var r=this._type;if(r==="circle"){if(t===this._radius)return;var a=t*2;this._radius=t,this._size._set(a,a)}else if(t=C.read(arguments),!this._radius)this._radius=t.clone();else{if(this._radius.equals(t))return;if(this._radius.set(t),r==="rectangle"){var a=C.max(this._size,t.multiply(2));this._size.set(a)}else r==="ellipse"&&this._size._set(t.width*2,t.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var r=new Ft[h.capitalize(this._type)]({center:new y,size:this._size,radius:this._radius,insert:!1});return r.copyAttributes(this),ce.settings.applyMatrix&&r.setApplyMatrix(!0),(t===i||t)&&r.insertAbove(this),r},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,r,a,f){var d=this._style,v=d.hasFill(),m=d.hasStroke(),p=r.dontFinish||r.clip,w=!f;if(v||m||p){var T=this._type,E=this._radius,L=T==="circle";if(r.dontStart||t.beginPath(),w&&L)t.arc(0,0,E,0,Math.PI*2,!0);else{var I=L?E:E.width,O=L?E:E.height,B=this._size,q=B.width,Y=B.height;if(w&&T==="rectangle"&&I===0&&O===0)t.rect(-q/2,-Y/2,q,Y);else{var z=q/2,N=Y/2,M=1-.5522847498307936,R=I*M,V=O*M,W=[-z,-N+O,-z,-N+V,-z+R,-N,-z+I,-N,z-I,-N,z-R,-N,z,-N+V,z,-N+O,z,N-O,z,N-V,z-R,N,z-I,N,-z+I,N,-z+R,N,-z,N-V,-z,N-O];f&&f.transform(W,W,32),t.moveTo(W[0],W[1]),t.bezierCurveTo(W[2],W[3],W[4],W[5],W[6],W[7]),z!==I&&t.lineTo(W[8],W[9]),t.bezierCurveTo(W[10],W[11],W[12],W[13],W[14],W[15]),N!==O&&t.lineTo(W[16],W[17]),t.bezierCurveTo(W[18],W[19],W[20],W[21],W[22],W[23]),z!==I&&t.lineTo(W[24],W[25]),t.bezierCurveTo(W[26],W[27],W[28],W[29],W[30],W[31])}}t.closePath()}!p&&(v||m)&&(this._setStyles(t,r,a),v&&(t.fill(d.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),m&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,r){var a=new $(this._size).setCenter(0,0),f=this._style,d=r.stroke&&f.hasStroke()&&f.getStrokeWidth();return t&&(a=t._transformBounds(a)),d?a.expand(Ft._getStrokePadding(d,this._getStrokeMatrix(t,r))):a}},new function(){function t(a,f,d){var v=a._radius;if(!v.isZero())for(var m=a._size.divide(2),p=1;p<=4;p++){var w=new y(p>1&&p<4?-1:1,p>2?-1:1),T=w.multiply(m),E=T.subtract(w.multiply(v)),L=new $(d?T.add(w.multiply(d)):T,E);if(L.contains(f))return{point:E,quadrant:p}}}function r(a,f,d,v){var m=a.divide(f);return(!v||m.isInQuadrant(v))&&m.subtract(m.normalize()).multiply(f).divide(d).length<=1}return{_contains:function a(f){if(this._type==="rectangle"){var d=t(this,f);return d?f.subtract(d.point).divide(this._radius).getLength()<=1:a.base.call(this,f)}else return f.divide(this.size).getLength()<=.5},_hitTestSelf:function a(f,d,v,m){var p=!1,w=this._style,T=d.stroke&&w.hasStroke(),E=d.fill&&w.hasFill();if(T||E){var L=this._type,I=this._radius,O=T?w.getStrokeWidth()/2:0,B=d._tolerancePadding.add(Ft._getStrokePadding(O,!w.getStrokeScaling()&&m));if(L==="rectangle"){var q=B.multiply(2),Y=t(this,f,q);if(Y)p=r(f.subtract(Y.point),I,B,Y.quadrant);else{var z=new $(this._size).setCenter(0,0),N=z.expand(q),M=z.expand(q.negate());p=N._containsPoint(f)&&!M._containsPoint(f)}}else p=r(f,I,B)}return p?new Rt(T?"stroke":"fill",this):a.base.apply(this,arguments)}}},{statics:new function(){function t(r,a,f,d,v){var m=h.create(ot.prototype);return m._type=r,m._size=f,m._radius=d,m._initialize(h.getNamed(v),a),m}return{Circle:function(){var r=arguments,a=y.readNamed(r,"center"),f=h.readNamed(r,"radius");return t("circle",a,new C(f*2),f,r)},Rectangle:function(){var r=arguments,a=$.readNamed(r,"rectangle"),f=C.min(C.readNamed(r,"radius"),a.getSize(!0).divide(2));return t("rectangle",a.getCenter(!0),a.getSize(!0),f,r)},Ellipse:function(){var r=arguments,a=ot._readEllipse(r),f=a.radius;return t("ellipse",a.center,f.multiply(2),f,r)},_readEllipse:function(r){var a,f;if(h.hasNamed(r,"radius"))a=y.readNamed(r,"center"),f=C.readNamed(r,"radius");else{var d=$.readNamed(r,"rectangle");a=d.getCenter(!0),f=d.getSize(!0).divide(2)}return{center:a,radius:f}}}}}),Mt=dt.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(r,a){if(!this._initialize(r,a!==i&&y.read(arguments))){var f,d=typeof r,v=d==="string"?l.getElementById(r):d==="object"?r:null;if(v&&v!==dt.NO_INSERT){if(v.getContext||v.naturalHeight!=null)f=v;else if(v){var m=C.read(arguments);m.isZero()||(f=De.getCanvas(m))}}f?this.setImage(f):this.setSource(r)}this._size||(this._size=new C,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var r=t._image,a=t._canvas;if(r)this._setImage(r);else if(a){var f=De.getCanvas(t._size);f.getContext("2d").drawImage(a,0,0),this._setImage(f)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new U(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,r){var a=C.read(arguments);if(a.equals(this._size))r&&this.clear();else if(a.width>0&&a.height>0){var f=!r&&this.getElement();this._setImage(De.getCanvas(a)),f&&this.getContext(!0).drawImage(f,0,0,a.width,a.height)}else this._canvas&&De.release(this._canvas),this._size=a.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||t.width===0&&t.height===0},getResolution:function(){var t=this._matrix,r=new y(0,0).transform(t),a=new y(1,0).transform(t).subtract(r),f=new y(0,1).transform(t).subtract(r);return new C(72/a.getLength(),72/f.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var r=this;function a(f){var d=r.getView(),v=f&&f.type||"load";d&&r.responds(v)&&(ce=d._scope,r.emit(v,new be(f)))}this._setImage(t),this._loaded?setTimeout(a,0):t&&Dt.add(t,{load:function(f){r._setImage(t),a(f)},error:a})},_setImage:function(t){this._canvas&&De.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new C(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=De.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch{De.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var r=new e.Image,a=this._crossOrigin;a&&(r.crossOrigin=a),t&&(r.src=t),this.setImage(r)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var r=this._image;r&&(r.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=typeof t=="string"?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=$.read(arguments),r=De.getContext(t.getSize());return r.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),r.canvas},getSubRaster:function(){var t=$.read(arguments),r=new Mt(dt.NO_INSERT);return r._setImage(this.getSubCanvas(t)),r.translate(t.getCenter().subtract(this.getSize().divide(2))),r._matrix.prepend(this._matrix),r.insertAbove(this),r},toDataURL:function(){var t=this._image,r=t&&t.src;if(/^data:/.test(r))return r;var a=this.getCanvas();return a?a.toDataURL.apply(a,arguments):null},drawImage:function(t){var r=y.read(arguments,1);this.getContext(!0).drawImage(t,r.x,r.y)},getAverageColor:function(t){var r,a;if(t?t instanceof Ht?(a=t,r=t.getBounds()):typeof t=="object"&&("width"in t?r=new $(t):"x"in t&&(r=new $(t.x-.5,t.y-.5,1,1))):r=this.getBounds(),!r)return null;var f=32,d=Math.min(r.width,f),v=Math.min(r.height,f),m=Mt._sampleContext;m?m.clearRect(0,0,f+1,f+1):m=Mt._sampleContext=De.getContext(new C(f)),m.save();var p=new J().scale(d/r.width,v/r.height).translate(-r.x,-r.y);p.applyToContext(m),a&&a.draw(m,new h({clip:!0,matrices:[p]})),this._matrix.applyToContext(m);var w=this.getElement(),T=this._size;w&&m.drawImage(w,-T.width/2,-T.height/2),m.restore();for(var E=m.getImageData(.5,.5,Math.ceil(d),Math.ceil(v)).data,L=[0,0,0],I=0,O=0,B=E.length;O<B;O+=4){var q=E[O+3];I+=q,q/=255,L[0]+=E[O]*q,L[1]+=E[O+1]*q,L[2]+=E[O+2]*q}for(var O=0;O<3;O++)L[O]/=I;return I?oe.read(L):null},getPixel:function(){var t=y.read(arguments),r=this.getContext().getImageData(t.x,t.y,1,1).data;return new oe("rgb",[r[0]/255,r[1]/255,r[2]/255],r[3]/255)},setPixel:function(){var t=arguments,r=y.read(t),a=oe.read(t),f=a._convert("rgb"),d=a._alpha,v=this.getContext(!0),m=v.createImageData(1,1),p=m.data;p[0]=f[0]*255,p[1]=f[1]*255,p[2]=f[2]*255,p[3]=d!=null?d*255:255,v.putImageData(m,r.x,r.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=C.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=$.read(arguments);return t.isEmpty()&&(t=new $(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},putImageData:function(t){var r=y.read(arguments,1);this.getContext(!0).putImageData(t,r.x,r.y)},setImageData:function(t){this.setSize(t),this.getContext(!0).putImageData(t,0,0)},_getBounds:function(t,r){var a=new $(this._size).setCenter(0,0);return t?t._transformBounds(a):a},_hitTestSelf:function(t){if(this._contains(t)){var r=this;return new Rt("pixel",r,{offset:t.add(r._size.divide(2)).round(),color:{get:function(){return r.getPixel(this.offset)}}})}},_draw:function(t,r,a){var f=this.getElement();if(f&&f.width>0&&f.height>0){t.globalAlpha=A.clamp(this._opacity,0,1),this._setStyles(t,r,a);var d=this._smoothing,v=d==="off";bt.setPrefixed(t,v?"imageSmoothingEnabled":"imageSmoothingQuality",v?!1:d),t.drawImage(f,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Et=dt.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(r,a){this._initialize(r,a!==i&&y.read(arguments,1))||this.setDefinition(r instanceof Lt?r:new Lt(r))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,r){var a=this._definition._item;return a._getCachedBounds(a._matrix.prepended(t),r)},_hitTestSelf:function(t,r,a){var f=r.extend({all:!1}),d=this._definition._item._hitTest(t,f,a);return d&&(d.item=this),d},_draw:function(t,r){this._definition._item.draw(t,r)}}),Lt=h.extend({_class:"SymbolDefinition",initialize:function(r,a){this._id=k.get(),this.project=ce.project,r&&this.setItem(r,a)},_serialize:function(t,r){return r.add(this,function(){return h.serialize([this._class,this._item],t,!1,r)})},_changed:function(t){t&8&&dt._clearBoundsCache(this),t&1&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,r){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),r||t.setPosition(new y),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new Et(this,t)},clone:function(){return new Lt(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),Rt=h.extend({_class:"HitResult",initialize:function(r,a,f){this.type=r,this.item=a,f&&this.inject(f)},statics:{getOptions:function(t){var r=t&&h.read(t);return new h({type:null,tolerance:ce.settings.hitTolerance,fill:!r,stroke:!r,segments:!r,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},r)}}}),Ct=h.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(r,a,f,d,v,m){var p=arguments.length,w,T,E,L;p>0&&(r==null||typeof r=="object"?p===1&&r&&"point"in r?(w=r.point,T=r.handleIn,E=r.handleOut,L=r.selection):(w=r,T=a,E=f,L=d):(w=[r,a],T=f!==i?[f,d]:null,E=v!==i?[v,m]:null)),new Bt(w,this,"_point"),new Bt(T,this,"_handleIn"),new Bt(E,this,"_handleOut"),L&&this.setSelection(L)},_serialize:function(t,r){var a=this._point,f=this._selection,d=f||this.hasHandles()?[a,this._handleIn,this._handleOut]:a;return f&&d.push(f),h.serialize(d,t,!0,r)},_changed:function(t){var r=this._path;if(r){var a=r._curves,f=this._index,d;a&&((!t||t===this._point||t===this._handleIn)&&(d=f>0?a[f-1]:r._closed?a[a.length-1]:null)&&d._changed(),(!t||t===this._point||t===this._handleOut)&&(d=a[f])&&d._changed()),r._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(y.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(y.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(y.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,r=this._handleOut;return!t.isZero()&&!r.isZero()&&t.isCollinear(r)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var r=this._selection,a=this._path;this._selection=t=t||0,a&&t!==r&&(a._updateSelection(this,r,t),a._changed(257))},_changeSelection:function(t,r){var a=this._selection;this.setSelection(r?a|t:a&~t)},isSelected:function(){return!!(this._selection&7)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==i?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,r=this._index;return t?(r>0&&!t._closed&&r===t._segments.length-1&&r--,t.getCurves()[r]||null):null},getLocation:function(){var t=this.getCurve();return t?new Vt(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,r,a){var f=t||{},d=f.type,v=f.factor,m=this.getPrevious(),p=this.getNext(),w=(m||this)._point,T=this._point,E=(p||this)._point,L=w.getDistance(T),I=T.getDistance(E);if(!d||d==="catmull-rom"){var O=v===i?.5:v,B=Math.pow(L,O),q=B*B,Y=Math.pow(I,O),z=Y*Y;if(!r&&m){var N=2*z+3*Y*B+q,M=3*Y*(Y+B);this.setHandleIn(M!==0?new y((z*w._x+N*T._x-q*E._x)/M-T._x,(z*w._y+N*T._y-q*E._y)/M-T._y):new y)}if(!a&&p){var N=2*q+3*B*Y+z,M=3*B*(B+Y);this.setHandleOut(M!==0?new y((q*E._x+N*T._x-z*w._x)/M-T._x,(q*E._y+N*T._y-z*w._y)/M-T._y):new y)}}else if(d==="geometric"){if(m&&p){var R=w.subtract(E),V=v===i?.4:v,W=V*L/(L+I);r||this.setHandleIn(R.multiply(W)),a||this.setHandleOut(R.multiply(W-V))}}else throw new Error("Smoothing method '"+d+"' not supported.")},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,r=this._handleOut,a=t.clone();t.set(r),r.set(a)},reversed:function(){return new Ct(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new Ct(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,r,a){var f=1-a,d=a,v=t._point,m=r._point,p=t._handleIn,w=r._handleIn,T=r._handleOut,E=t._handleOut;this._point._set(f*v._x+d*m._x,f*v._y+d*m._y,!0),this._handleIn._set(f*p._x+d*w._x,f*p._y+d*w._y,!0),this._handleOut._set(f*E._x+d*T._x,f*E._y+d*T._y,!0),this._changed()},_transformCoordinates:function(t,r,a){var f=this._point,d=!a||!this._handleIn.isZero()?this._handleIn:null,v=!a||!this._handleOut.isZero()?this._handleOut:null,m=f._x,p=f._y,w=2;return r[0]=m,r[1]=p,d&&(r[w++]=d._x+m,r[w++]=d._y+p),v&&(r[w++]=v._x+m,r[w++]=v._y+p),t&&(t._transformCoordinates(r,r,w/2),m=r[0],p=r[1],a?(f._x=m,f._y=p,w=2,d&&(d._x=r[w++]-m,d._y=r[w++]-p),v&&(v._x=r[w++]-m,v._y=r[w++]-p)):(d||(r[w++]=m,r[w++]=p),v||(r[w++]=m,r[w++]=p))),r}}),Bt=y.extend({initialize:function(r,a,f){var d,v,m;if(!r)d=v=0;else if((d=r[0])!==i)v=r[1];else{var p=r;(d=p.x)===i&&(p=y.read(arguments),d=p.x),v=p.y,m=p.selected}this._x=d,this._y=v,this._owner=a,a[f]=this,m&&this.setSelected(!0)},_set:function(t,r){return this._x=t,this._y=r,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=A.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),pt=h.extend({_class:"Curve",beans:!0,initialize:function(r,a,f,d,v,m,p,w){var T=arguments.length,E,L,I,O,B,q;T===3?(this._path=r,E=a,L=f):T?T===1?"segment1"in r?(E=new Ct(r.segment1),L=new Ct(r.segment2)):"point1"in r?(I=r.point1,B=r.handle1,q=r.handle2,O=r.point2):Array.isArray(r)&&(I=[r[0],r[1]],O=[r[6],r[7]],B=[r[2]-r[0],r[3]-r[1]],q=[r[4]-r[6],r[5]-r[7]]):T===2?(E=new Ct(r),L=new Ct(a)):T===4?(I=r,B=a,q=f,O=d):T===8&&(I=[r,a],O=[p,w],B=[f-r,d-a],q=[v-p,m-w]):(E=new Ct,L=new Ct),this._segment1=E||new Ct(I,null,B),this._segment2=L||new Ct(O,q,null)},_serialize:function(t,r){return h.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,r)},_changed:function(){this._length=this._bounds=i},clone:function(){return new pt(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return pt.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var r=this._segment2,a=r._handleOut;t=r.remove(),t&&this._segment1._handleOut.set(a)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(y.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(y.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(y.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(y.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return pt.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),r=[],a=0;a<8;a+=2)r.push(new y(t[a],t[a+1]));return r}},{getLength:function(){return this._length==null&&(this._length=pt.getLength(this.getValues(),0,1)),this._length},getArea:function(){return pt.getArea(this.getValues())},getLine:function(){return new ut(this._segment1._point,this._segment2._point)},getPart:function(t,r){return new pt(pt.getPart(this.getValues(),t,r))},getPartLength:function(t,r){return pt.getLength(this.getValues(),t,r)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,r){var a=1e-8,f=1-a,d=null;if(t>=a&&t<=f){var v=pt.subdivide(this.getValues(),t),m=v[0],p=v[1],w=r||this.hasHandles(),T=this._segment1,E=this._segment2,L=this._path;w&&(T._handleOut._set(m[2]-m[0],m[3]-m[1]),E._handleIn._set(p[4]-p[6],p[5]-p[7]));var I=m[6],O=m[7],B=new Ct(new y(I,O),w&&new y(m[4]-I,m[5]-O),w&&new y(p[2]-I,p[3]-O));L?(L.insert(T._index+1,B),d=this.getNext()):(this._segment2=B,this._changed(),d=new pt(B,E))}return d},splitAt:function(t){var r=this._path;return r?r.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,r){return this.divideAtTime(t===i?.5:r?t:this.getTimeAt(t))},split:function(t,r){return this.splitAtTime(t===i?.5:r?t:this.getTimeAt(t))},reversed:function(){return new pt(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,r,a,f){var d=t._point,v=t._handleOut,m=r._handleIn,p=r._point,w=d.x,T=d.y,E=p.x,L=p.y,I=f?[w,T,w,T,E,L,E,L]:[w,T,w+v._x,T+v._y,E+m._x,L+m._y,E,L];return a&&a._transformCoordinates(I,I,4),I},subdivide:function(t,r){var a=t[0],f=t[1],d=t[2],v=t[3],m=t[4],p=t[5],w=t[6],T=t[7];r===i&&(r=.5);var E=1-r,L=E*a+r*d,I=E*f+r*v,O=E*d+r*m,B=E*v+r*p,q=E*m+r*w,Y=E*p+r*T,z=E*L+r*O,N=E*I+r*B,M=E*O+r*q,R=E*B+r*Y,V=E*z+r*M,W=E*N+r*R;return[[a,f,L,I,z,N,V,W],[V,W,M,R,q,Y,w,T]]},getMonoCurves:function(t,r){var a=[],f=r?0:1,d=t[f+0],v=t[f+2],m=t[f+4],p=t[f+6];if(d>=v==v>=m&&v>=m==m>=p||pt.isStraight(t))a.push(t);else{var w=3*(v-m)-d+p,T=2*(d+m)-4*v,E=v-d,L=1e-8,I=1-L,O=[],B=A.solveQuadratic(w,T,E,O,L,I);if(!B)a.push(t);else{O.sort();var q=O[0],Y=pt.subdivide(t,q);a.push(Y[0]),B>1&&(q=(O[1]-q)/(1-q),Y=pt.subdivide(Y[1],q),a.push(Y[0])),a.push(Y[1])}}return a},solveCubic:function(t,r,a,f,d,v){var m=t[r],p=t[r+2],w=t[r+4],T=t[r+6],E=0;if(!(m<a&&T<a&&p<a&&w<a||m>a&&T>a&&p>a&&w>a)){var L=3*(p-m),I=3*(w-p)-L,O=T-m-L-I;E=A.solveCubic(O,I,L,m-a,f,d,v)}return E},getTimeOf:function(t,r){var a=new y(t[0],t[1]),f=new y(t[6],t[7]),d=1e-12,v=1e-7,m=r.isClose(a,d)?0:r.isClose(f,d)?1:null;if(m===null)for(var p=[r.x,r.y],w=[],T=0;T<2;T++)for(var E=pt.solveCubic(t,T,p[T],w,0,1),L=0;L<E;L++){var I=w[L];if(r.isClose(pt.getPoint(t,I),v))return I}return r.isClose(a,v)?0:r.isClose(f,v)?1:null},getNearestTime:function(t,r){if(pt.isStraight(t)){var a=t[0],f=t[1],d=t[6],v=t[7],m=d-a,p=v-f,w=m*m+p*p;if(w===0)return 0;var T=((r.x-a)*m+(r.y-f)*p)/w;return T<1e-12?0:T>.999999999999?1:pt.getTimeOf(t,new y(a+T*m,f+T*p))}var E=100,L=1/0,I=0;function O(Y){if(Y>=0&&Y<=1){var z=r.getDistance(pt.getPoint(t,Y),!0);if(z<L)return L=z,I=Y,!0}}for(var B=0;B<=E;B++)O(B/E);for(var q=1/(E*2);q>1e-8;)!O(I-q)&&!O(I+q)&&(q/=2);return I},getPart:function(t,r,a){var f=r>a;if(f){var d=r;r=a,a=d}return r>0&&(t=pt.subdivide(t,r)[1]),a<1&&(t=pt.subdivide(t,(a-r)/(1-r))[0]),f?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,r){var a=t[0],f=t[1],d=t[2],v=t[3],m=t[4],p=t[5],w=t[6],T=t[7],E=3*d-2*a-w,L=3*v-2*f-T,I=3*m-2*w-a,O=3*p-2*T-f;return Math.max(E*E,I*I)+Math.max(L*L,O*O)<=16*r*r},getArea:function(t){var r=t[0],a=t[1],f=t[2],d=t[3],v=t[4],m=t[5],p=t[6],w=t[7];return 3*((w-a)*(f+v)-(p-r)*(d+m)+d*(r-v)-f*(a-m)+w*(v+r/3)-p*(m+a/3))/20},getBounds:function(t){for(var r=t.slice(0,2),a=r.slice(),f=[0,0],d=0;d<2;d++)pt._addBounds(t[d],t[d+2],t[d+4],t[d+6],d,0,r,a,f);return new $(r[0],r[1],a[0]-r[0],a[1]-r[1])},_addBounds:function(t,r,a,f,d,v,m,p,w){function T(V,W){var Z=V-W,j=V+W;Z<m[d]&&(m[d]=Z),j>p[d]&&(p[d]=j)}v/=2;var E=m[d]+v,L=p[d]-v;if(t<E||r<E||a<E||f<E||t>L||r>L||a>L||f>L)if(r<t!=r<f&&a<t!=a<f)T(t,0),T(f,0);else{var I=3*(r-a)-t+f,O=2*(t+a)-4*r,B=r-t,q=A.solveQuadratic(I,O,B,w),Y=1e-8,z=1-Y;T(f,0);for(var N=0;N<q;N++){var M=w[N],R=1-M;Y<=M&&M<=z&&T(R*R*R*t+3*R*R*M*r+3*R*M*M*a+M*M*M*f,v)}}}}},h.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var r=this._bounds[t];return r||(r=this._bounds[t]=Ft[t]([this._segment1,this._segment2],!1,this._path)),r.clone()}},{}),h.each({isStraight:function(t,r,a,f){if(r.isZero()&&a.isZero())return!0;var d=f.subtract(t);if(d.isZero())return!1;if(d.isCollinear(r)&&d.isCollinear(a)){var v=new ut(t,f),m=1e-7;if(v.getDistance(t.add(r))<m&&v.getDistance(f.add(a))<m){var p=d.dot(d),w=d.dot(r)/p,T=d.dot(a)/p;return w>=0&&w<=1&&T<=0&&T>=-1}}return!1},isLinear:function(t,r,a,f){var d=f.subtract(t).divide(3);return r.equals(d)&&a.negate().equals(d)}},function(t,r){this[r]=function(a){var f=this._segment1,d=this._segment2;return t(f._point,f._handleOut,d._handleIn,d._point,a)},this.statics[r]=function(a,f){var d=a[0],v=a[1],m=a[6],p=a[7];return t(new y(d,v),new y(a[2]-d,a[3]-v),new y(a[4]-m,a[5]-p),new y(m,p),f)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,r){return this.getLocationAtTime(r?t:this.getTimeAt(t))},getLocationAtTime:function(t){return t!=null&&t>=0&&t<=1?new Vt(this,t):null},getTimeAt:function(t,r){return pt.getTimeAt(this.getValues(),t,r)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=y.read(arguments);return t.isZero()?[]:pt.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(y.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return pt.getTimeOf(this.getValues(),y.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=y.read(arguments),r=this.getValues(),a=pt.getNearestTime(r,t),f=pt.getPoint(r,a);return new Vt(this,a,f,null,t.getDistance(f))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return h.each(t,function(r){this[r+"At"]=function(a,f){var d=this.getValues();return pt[r](d,f?a:pt.getTimeAt(d,a))},this[r+"AtTime"]=function(a){return pt[r](this.getValues(),a)}},{statics:{_evaluateMethods:t}})},new function(){function t(f){var d=f[0],v=f[1],m=f[2],p=f[3],w=f[4],T=f[5],E=f[6],L=f[7],I=9*(m-w)+3*(E-d),O=6*(d+w)-12*m,B=3*(m-d),q=9*(p-T)+3*(L-v),Y=6*(v+T)-12*p,z=3*(p-v);return function(N){var M=(I*N+O)*N+B,R=(q*N+Y)*N+z;return Math.sqrt(M*M+R*R)}}function r(f,d){return Math.max(2,Math.min(16,Math.ceil(Math.abs(d-f)*32)))}function a(f,d,v,m){if(d==null||d<0||d>1)return null;var p=f[0],w=f[1],T=f[2],E=f[3],L=f[4],I=f[5],O=f[6],B=f[7],q=A.isZero;q(T-p)&&q(E-w)&&(T=p,E=w),q(L-O)&&q(I-B)&&(L=O,I=B);var Y=3*(T-p),z=3*(L-T)-Y,N=O-p-Y-z,M=3*(E-w),R=3*(I-E)-M,V=B-w-M-R,W,Z;if(v===0)W=d===0?p:d===1?O:((N*d+z)*d+Y)*d+p,Z=d===0?w:d===1?B:((V*d+R)*d+M)*d+w;else{var j=1e-8,Q=1-j;if(d<j?(W=Y,Z=M):d>Q?(W=3*(O-L),Z=3*(B-I)):(W=(3*N*d+2*z)*d+Y,Z=(3*V*d+2*R)*d+M),m){W===0&&Z===0&&(d<j||d>Q)&&(W=L-T,Z=I-E);var et=Math.sqrt(W*W+Z*Z);et&&(W/=et,Z/=et)}if(v===3){var L=6*N*d+2*z,I=6*V*d+2*R,it=Math.pow(W*W+Z*Z,3/2);W=it!==0?(W*I-Z*L)/it:0,Z=0}}return v===2?new y(Z,-W):new y(W,Z)}return{statics:{classify:function(f){var d=f[0],v=f[1],m=f[2],p=f[3],w=f[4],T=f[5],E=f[6],L=f[7],I=d*(L-T)+v*(w-E)+E*T-L*w,O=m*(v-L)+p*(E-d)+d*L-v*E,B=w*(p-v)+T*(d-m)+m*v-p*d,q=3*B,Y=q-O,z=Y-O+I,N=Math.sqrt(z*z+Y*Y+q*q),M=N!==0?1/N:0,R=A.isZero,V="serpentine";z*=M,Y*=M,q*=M;function W(et,it,tt){var rt=it!==i,at=rt&&it>0&&it<1,_t=rt&&tt>0&&tt<1;return rt&&(!(at||_t)||et==="loop"&&!(at&&_t))&&(et="arch",at=_t=!1),{type:et,roots:at||_t?at&&_t?it<tt?[it,tt]:[tt,it]:[at?it:tt]:null}}if(R(z))return R(Y)?W(R(q)?"line":"quadratic"):W(V,q/(3*Y));var Z=3*Y*Y-4*z*q;if(R(Z))return W("cusp",Y/(2*z));var j=Z>0?Math.sqrt(Z/3):Math.sqrt(-Z),Q=2*z;return W(Z>0?V:"loop",(Y+j)/Q,(Y-j)/Q)},getLength:function(f,d,v,m){if(d===i&&(d=0),v===i&&(v=1),pt.isStraight(f)){var p=f;v<1&&(p=pt.subdivide(p,v)[0],d/=v),d>0&&(p=pt.subdivide(p,d)[1]);var w=p[6]-p[0],T=p[7]-p[1];return Math.sqrt(w*w+T*T)}return A.integrate(m||t(f),d,v,r(d,v))},getTimeAt:function(f,d,v){if(v===i&&(v=d<0?1:0),d===0)return v;var m=Math.abs,p=1e-12,w=d>0,T=w?v:0,E=w?1:v,L=t(f),I=pt.getLength(f,T,E,L),O=m(d)-I;if(m(O)<p)return w?E:T;if(O>p)return null;var B=d/I,q=0;function Y(z){return q+=A.integrate(L,v,z,r(v,z)),v=z,q-d}return A.findRoot(Y,L,v+B,T,E,32,1e-12)},getPoint:function(f,d){return a(f,d,0,!1)},getTangent:function(f,d){return a(f,d,1,!0)},getWeightedTangent:function(f,d){return a(f,d,1,!1)},getNormal:function(f,d){return a(f,d,2,!0)},getWeightedNormal:function(f,d){return a(f,d,2,!1)},getCurvature:function(f,d){return a(f,d,3,!1).x},getPeaks:function(f){var d=f[0],v=f[1],m=f[2],p=f[3],w=f[4],T=f[5],E=f[6],L=f[7],I=-d+3*m-3*w+E,O=3*d-6*m+3*w,B=-3*d+3*m,q=-v+3*p-3*T+L,Y=3*v-6*p+3*T,z=-3*v+3*p,N=1e-8,M=1-N,R=[];return A.solveCubic(9*(I*I+q*q),9*(I*O+Y*q),2*(O*O+Y*Y)+3*(B*I+z*q),B*O+Y*z,R,N,M),R.sort()}}}},new function(){function t(O,B,q,Y,z,N,M){var R=!M&&q.getPrevious()===z,V=!M&&q!==z&&q.getNext()===z,W=1e-8,Z=1-W;if(Y!==null&&Y>=(R?W:0)&&Y<=(V?Z:1)&&N!==null&&N>=(V?W:0)&&N<=(R?Z:1)){var j=new Vt(q,Y,null,M),Q=new Vt(z,N,null,M);j._intersection=Q,Q._intersection=j,(!B||B(j))&&Vt.insert(O,j,!0)}}function r(O,B,q,Y,z,N,M,R,V,W,Z,j,Q){if(++V>=4096||++R>=40)return V;var et=1e-9,it=B[0],tt=B[1],rt=B[6],at=B[7],_t=ut.getSignedDistance,vt=_t(it,tt,rt,at,B[2],B[3]),mt=_t(it,tt,rt,at,B[4],B[5]),Ot=vt*mt>0?3/4:4/9,kt=Ot*Math.min(0,vt,mt),zt=Ot*Math.max(0,vt,mt),Qt=_t(it,tt,rt,at,O[0],O[1]),Wt=_t(it,tt,rt,at,O[2],O[3]),Gt=_t(it,tt,rt,at,O[4],O[5]),Zt=_t(it,tt,rt,at,O[6],O[7]),ee=a(Qt,Wt,Gt,Zt),Jt=ee[0],Ae=ee[1],ue,fe;if(vt===0&&mt===0&&Qt===0&&Wt===0&&Gt===0&&Zt===0||(ue=f(Jt,Ae,kt,zt))==null||(fe=f(Jt.reverse(),Ae.reverse(),kt,zt))==null)return V;var re=W+(Z-W)*ue,ve=W+(Z-W)*fe;if(Math.max(Q-j,ve-re)<et){var on=(re+ve)/2,en=(j+Q)/2;t(z,N,M?Y:q,M?en:on,M?q:Y,M?on:en)}else{O=pt.getPart(O,ue,fe);var nn=Q-j;if(fe-ue>.8)if(ve-re>nn){var He=pt.subdivide(O,.5),on=(re+ve)/2;V=r(B,He[0],Y,q,z,N,!M,R,V,j,Q,re,on),V=r(B,He[1],Y,q,z,N,!M,R,V,j,Q,on,ve)}else{var He=pt.subdivide(B,.5),en=(j+Q)/2;V=r(He[0],O,Y,q,z,N,!M,R,V,j,en,re,ve),V=r(He[1],O,Y,q,z,N,!M,R,V,en,Q,re,ve)}else nn===0||nn>=et?V=r(B,O,Y,q,z,N,!M,R,V,j,Q,re,ve):V=r(O,B,q,Y,z,N,M,R,V,re,ve,j,Q)}return V}function a(O,B,q,Y){var z=[0,O],N=[1/3,B],M=[2/3,q],R=[1,Y],V=B-(2*O+Y)/3,W=q-(O+2*Y)/3,Z;if(V*W<0)Z=[[z,N,R],[z,M,R]];else{var j=V/W;Z=[j>=2?[z,N,R]:j<=.5?[z,M,R]:[z,N,M,R],[z,R]]}return(V||W)<0?Z.reverse():Z}function f(O,B,q,Y){return O[0][1]<q?d(O,!0,q):B[0][1]>Y?d(B,!1,Y):O[0][0]}function d(O,B,q){for(var Y=O[0][0],z=O[0][1],N=1,M=O.length;N<M;N++){var R=O[N][0],V=O[N][1];if(B?V>=q:V<=q)return V===q?R:Y+(q-z)*(R-Y)/(V-z);Y=R,z=V}return null}function v(O,B,q,Y,z){var N=A.isZero;if(N(Y)&&N(z)){var M=pt.getTimeOf(O,new y(B,q));return M===null?[]:[M]}for(var R=Math.atan2(-z,Y),V=Math.sin(R),W=Math.cos(R),Z=[],j=[],Q=0;Q<8;Q+=2){var et=O[Q]-B,it=O[Q+1]-q;Z.push(et*W-it*V,et*V+it*W)}return pt.solveCubic(Z,1,0,j,0,1),j}function m(O,B,q,Y,z,N,M){for(var R=B[0],V=B[1],W=B[6],Z=B[7],j=v(O,R,V,W-R,Z-V),Q=0,et=j.length;Q<et;Q++){var it=j[Q],tt=pt.getPoint(O,it),rt=pt.getTimeOf(B,tt);rt!==null&&t(z,N,M?Y:q,M?rt:it,M?q:Y,M?it:rt)}}function p(O,B,q,Y,z,N){var M=ut.intersect(O[0],O[1],O[6],O[7],B[0],B[1],B[6],B[7]);M&&t(z,N,q,pt.getTimeOf(O,M),Y,pt.getTimeOf(B,M))}function w(O,B,q,Y,z,N){var M=1e-12,R=Math.min,V=Math.max;if(V(O[0],O[2],O[4],O[6])+M>R(B[0],B[2],B[4],B[6])&&R(O[0],O[2],O[4],O[6])-M<V(B[0],B[2],B[4],B[6])&&V(O[1],O[3],O[5],O[7])+M>R(B[1],B[3],B[5],B[7])&&R(O[1],O[3],O[5],O[7])-M<V(B[1],B[3],B[5],B[7])){var W=L(O,B);if(W)for(var Z=0;Z<2;Z++){var j=W[Z];t(z,N,q,j[0],Y,j[1],!0)}else{var Q=pt.isStraight(O),et=pt.isStraight(B),it=Q&&et,tt=Q&&!et,rt=z.length;if((it?p:Q||et?m:r)(tt?B:O,tt?O:B,tt?Y:q,tt?q:Y,z,N,tt,0,0,0,1,0,1),!it||z.length===rt)for(var Z=0;Z<4;Z++){var at=Z>>1,_t=Z&1,vt=at*6,mt=_t*6,Ot=new y(O[vt],O[vt+1]),kt=new y(B[mt],B[mt+1]);Ot.isClose(kt,M)&&t(z,N,q,at,Y,_t)}}}return z}function T(O,B,q,Y){var z=pt.classify(O);if(z.type==="loop"){var N=z.roots;t(q,Y,B,N[0],B,N[1])}return q}function E(O,B,q,Y,z,N){var M=1e-7,R=!B;R&&(B=O);for(var V=O.length,W=B.length,Z=new Array(V),j=R?Z:new Array(W),Q=[],et=0;et<V;et++)Z[et]=O[et].getValues(Y);if(!R)for(var et=0;et<W;et++)j[et]=B[et].getValues(z);for(var it=x.findCurveBoundsCollisions(Z,j,M),tt=0;tt<V;tt++){var rt=O[tt],at=Z[tt];R&&T(at,rt,Q,q);var _t=it[tt];if(_t)for(var vt=0;vt<_t.length;vt++){if(N&&Q.length)return Q;var mt=_t[vt];if(!R||mt>tt){var Ot=B[mt],kt=j[mt];w(at,kt,rt,Ot,Q,q)}}}return Q}function L(O,B){function q(Zt){var ee=Zt[6]-Zt[0],Jt=Zt[7]-Zt[1];return ee*ee+Jt*Jt}var Y=Math.abs,z=ut.getDistance,N=1e-8,M=1e-7,R=pt.isStraight(O),V=pt.isStraight(B),W=R&&V,Z=q(O)<q(B),j=Z?B:O,Q=Z?O:B,et=j[0],it=j[1],tt=j[6]-et,rt=j[7]-it;if(z(et,it,tt,rt,Q[0],Q[1],!0)<M&&z(et,it,tt,rt,Q[6],Q[7],!0)<M)!W&&z(et,it,tt,rt,j[2],j[3],!0)<M&&z(et,it,tt,rt,j[4],j[5],!0)<M&&z(et,it,tt,rt,Q[2],Q[3],!0)<M&&z(et,it,tt,rt,Q[4],Q[5],!0)<M&&(R=V=W=!0);else if(W)return null;if(R^V)return null;for(var at=[O,B],_t=[],vt=0;vt<4&&_t.length<2;vt++){var mt=vt&1,Ot=mt^1,kt=vt>>1,zt=pt.getTimeOf(at[mt],new y(at[Ot][kt?6:0],at[Ot][kt?7:1]));if(zt!=null){var Qt=mt?[kt,zt]:[zt,kt];(!_t.length||Y(Qt[0]-_t[0][0])>N&&Y(Qt[1]-_t[0][1])>N)&&_t.push(Qt)}if(vt>2&&!_t.length)break}if(_t.length!==2)_t=null;else if(!W){var Wt=pt.getPart(O,_t[0][0],_t[1][0]),Gt=pt.getPart(B,_t[0][1],_t[1][1]);(Y(Gt[2]-Wt[2])>M||Y(Gt[3]-Wt[3])>M||Y(Gt[4]-Wt[4])>M||Y(Gt[5]-Wt[5])>M)&&(_t=null)}return _t}function I(O,B){var q=O[0],Y=O[1],z=O[2],N=O[3],M=O[4],R=O[5],V=O[6],W=O[7],Z=B.normalize(),j=Z.x,Q=Z.y,et=3*V-9*M+9*z-3*q,it=3*W-9*R+9*N-3*Y,tt=6*M-12*z+6*q,rt=6*R-12*N+6*Y,at=3*z-3*q,_t=3*N-3*Y,vt=2*et*Q-2*it*j,mt=[];if(Math.abs(vt)<A.CURVETIME_EPSILON){var Ot=et*_t-it*at,vt=et*rt-it*tt;if(vt!=0){var kt=-Ot/vt;kt>=0&&kt<=1&&mt.push(kt)}}else{var zt=(tt*tt-4*et*at)*Q*Q+(-2*tt*rt+4*it*at+4*et*_t)*j*Q+(rt*rt-4*it*_t)*j*j,Qt=tt*Q-rt*j;if(zt>=0&&vt!=0){var Wt=Math.sqrt(zt),Gt=-(Qt+Wt)/vt,Zt=(-Qt+Wt)/vt;Gt>=0&&Gt<=1&&mt.push(Gt),Zt>=0&&Zt<=1&&mt.push(Zt)}}return mt}return{getIntersections:function(O){var B=this.getValues(),q=O&&O!==this&&O.getValues();return q?w(B,q,this,O,[]):T(B,this,[])},statics:{getOverlaps:L,getIntersections:E,getCurveLineIntersections:v,getTimesWithTangent:I}}}),Vt=h.extend({_class:"CurveLocation",initialize:function(r,a,f,d,v){if(a>=.99999999){var m=r.getNext();m&&(a=0,r=m)}this._setCurve(r),this._time=a,this._point=f||r.getPointAtTime(a),this._overlap=d,this._distance=v,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var r=t.getCurve();r?this._setCurve(r):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var r=this.getCurve(),a=this.getTime();a===0?t=r._segment1:a===1?t=r._segment2:a!=null&&(t=r.getPartLength(0,a)<r.getPartLength(a,1)?r._segment1:r._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,r=this;t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function a(f){var d=f&&f.getCurve();if(d&&(r._time=d.getTimeOf(r._point))!=null)return r._setCurve(d),d}return this._curve||a(this._segment)||a(this._segment1)||a(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),r=this._time;return t&&r==null?this._time=t.getTimeOf(this._point):r},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(t==null){t=0;var r=this.getPath(),a=this.getIndex();if(r&&a!=null)for(var f=r.getCurves(),d=0;d<a;d++)t+=f[d].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(t==null){var r=this.getCurve(),a=this.getTime();this._curveOffset=t=a!=null&&r&&r.getPartLength(0,a)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),r=t&&t.divideAtTime(this.getTime());return r&&this._setSegment(r._segment1),r},split:function(){var t=this.getCurve(),r=t._path,a=t&&t.splitAtTime(this.getTime());return a&&this._setSegment(r.getLastSegment()),a},equals:function(t,r){var a=this===t;if(!a&&t instanceof Vt){var f=this.getCurve(),d=t.getCurve(),v=f._path,m=d._path;if(v===m){var p=Math.abs,w=1e-7,T=p(this.getOffset()-t.getOffset()),E=!r&&this._intersection,L=!r&&t._intersection;a=(T<w||v&&p(v.getLength()-T)<w)&&(!E&&!L||E&&L&&E.equals(L,!0))}}return a},toString:function(){var t=[],r=this.getPoint(),a=S.instance;r&&t.push("point: "+r);var f=this.getIndex();f!=null&&t.push("index: "+f);var d=this.getTime();return d!=null&&t.push("time: "+a.number(d)),this._distance!=null&&t.push("distance: "+a.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var r=this.getCurve(),a=t.getCurve();return!(r.isStraight()&&a.isStraight()&&r.getLine().intersect(a.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var r=this.getTime(),a=t.getTime(),f=1e-8,d=1-f,v=r>=f&&r<=d,m=a>=f&&a<=d;if(v&&m)return!this.isTouching();var p=this.getCurve(),w=p&&r<f?p.getPrevious():p,T=t.getCurve(),E=T&&a<f?T.getPrevious():T;if(r>d&&(p=p.getNext()),a>d&&(T=T.getNext()),!w||!p||!E||!T)return!1;var L=[];function I(j,Q){var et=j.getValues(),it=pt.classify(et).roots||pt.getPeaks(et),tt=it.length,rt=pt.getLength(et,Q&&tt?it[tt-1]:0,!Q&&tt?it[0]:1);L.push(tt?rt:rt/32)}function O(j,Q,et){return Q<et?j>Q&&j<et:j>Q||j<et}v||(I(w,!0),I(p,!1)),m||(I(E,!0),I(T,!1));var B=this.getPoint(),q=Math.min.apply(Math,L),Y=v?p.getTangentAtTime(r):p.getPointAt(q).subtract(B),z=v?Y.negate():w.getPointAt(-q).subtract(B),N=m?T.getTangentAtTime(a):T.getPointAt(q).subtract(B),M=m?N.negate():E.getPointAt(-q).subtract(B),R=z.getAngle(),V=Y.getAngle(),W=M.getAngle(),Z=N.getAngle();return!!(v?O(R,W,Z)^O(V,W,Z)&&O(R,Z,W)^O(V,Z,W):O(W,R,V)^O(Z,R,V)&&O(W,V,R)^O(Z,V,R))},hasOverlap:function(){return!!this._overlap}},h.each(pt._evaluateMethods,function(t){var r=t+"At";this[t]=function(){var a=this.getCurve(),f=this.getTime();return f!=null&&a&&a[r](f,!0)}},{preserve:!0}),new function(){function t(r,a,f){var d=r.length,v=0,m=d-1;function p(B,q){for(var Y=B+q;Y>=-1&&Y<=d;Y+=q){var z=r[(Y%d+d)%d];if(!a.getPoint().isClose(z.getPoint(),1e-7))break;if(a.equals(z))return z}return null}for(;v<=m;){var w=v+m>>>1,T=r[w],E;if(f&&(E=a.equals(T)?T:p(w,-1)||p(w,1)))return a._overlap&&(E._overlap=E._intersection._overlap=!0),E;var L=a.getPath(),I=T.getPath(),O=L!==I?L._id-I._id:a.getIndex()+a.getTime()-(T.getIndex()+T.getTime());O<0?m=w-1:v=w+1}return r.splice(v,0,a),a}return{statics:{insert:t,expand:function(r){for(var a=r.slice(),f=r.length-1;f>=0;f--)t(a,r[f]._intersection,!1);return a}}}}),Ht=dt.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var r,a,f;if(h.isPlainObject(t)?(a=t.segments,r=t.pathData):Array.isArray(t)?a=t:typeof t=="string"&&(r=t),a){var d=a[0];f=d&&Array.isArray(d[0])}else r&&(f=(r.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(r));var v=f?ae:Ft;return new v(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var r=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),a,f=!1,d,v,m=new y,p=new y;function w(M,R){var V=+a[M];return f&&(V+=m[R]),V}function T(M){return new y(w(M,"x"),w(M+1,"y"))}this.clear();for(var E=0,L=r&&r.length;E<L;E++){var I=r[E],O=I[0],B=O.toLowerCase();a=I.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var q=a&&a.length;switch(f=O===B,d==="z"&&!/[mz]/.test(B)&&this.moveTo(m),B){case"m":case"l":for(var Y=B==="m",z=0;z<q;z+=2)this[Y?"moveTo":"lineTo"](m=T(z)),Y&&(p=m,Y=!1);v=m;break;case"h":case"v":var N=B==="h"?"x":"y";m=m.clone();for(var z=0;z<q;z++)m[N]=w(z,N),this.lineTo(m);v=m;break;case"c":for(var z=0;z<q;z+=6)this.cubicCurveTo(T(z),v=T(z+2),m=T(z+4));break;case"s":for(var z=0;z<q;z+=4)this.cubicCurveTo(/[cs]/.test(d)?m.multiply(2).subtract(v):m,v=T(z),m=T(z+2)),d=B;break;case"q":for(var z=0;z<q;z+=4)this.quadraticCurveTo(v=T(z),m=T(z+2));break;case"t":for(var z=0;z<q;z+=2)this.quadraticCurveTo(v=/[qt]/.test(d)?m.multiply(2).subtract(v):m,m=T(z)),d=B;break;case"a":for(var z=0;z<q;z+=7)this.arcTo(m=T(z+5),new C(+a[z],+a[z+1]),+a[z+2],+a[z+4],+a[z+3]);break;case"z":this.closePath(1e-12),m=p;break}d=B}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var r=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return r.onPath||!!(this.getFillRule()==="evenodd"?r.windingL&1||r.windingR&1:r.winding)},getIntersections:function(t,r,a,f){var d=this===t||!t,v=this._matrix._orNullIfIdentity(),m=d?v:(a||t._matrix)._orNullIfIdentity();return d||this.getBounds(v).intersects(t.getBounds(m),1e-12)?pt.getIntersections(this.getCurves(),!d&&t.getCurves(),r,v,m,f):[]},getCrossings:function(t){return this.getIntersections(t,function(r){return r.isCrossing()})},getNearestLocation:function(){for(var t=y.read(arguments),r=this.getCurves(),a=1/0,f=null,d=0,v=r.length;d<v;d++){var m=r[d].getNearestLocation(t);m._distance<a&&(a=m._distance,f=m)}return f},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,r,a){var f=!this._children,d=f?"_segments":"_children",v=t[d],m=r[d],p=this[d];if(!v||!m||v.length!==m.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+r);var w=p.length,T=m.length;if(w<T)for(var E=f?Ct:Ft,L=w;L<T;L++)this.add(new E);else w>T&&this[f?"removeSegments":"removeChildren"](T,w);for(var L=0;L<T;L++)p[L].interpolate(v[L],m[L],a);f&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var r=!1;if(t){var a=this._children||[this],f=t._children?t._children.slice():[t],d=a.length,v=f.length,m=[],p=0;r=!0;for(var w=x.findItemBoundsCollisions(a,f,A.GEOMETRIC_EPSILON),T=d-1;T>=0&&r;T--){var E=a[T];r=!1;var L=w[T];if(L)for(var I=L.length-1;I>=0&&!r;I--)E.compare(f[L[I]])&&(m[L[I]]||(m[L[I]]=!0,p++),r=!0)}r=r&&p===v}return r}}),Ft=Ht.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(r){this._closed=!1,this._segments=[],this._version=0;var a=arguments,f=Array.isArray(r)?typeof r[0]=="object"?r:a:r&&r.size===i&&(r.x!==i||r.point!==i)?a:null;f&&f.length>0?this.setSegments(f):(this._curves=i,this._segmentSelection=0,!f&&typeof r=="string"&&(this.setPathData(r),r=null)),this._initialize(!f&&r)},_equals:function(t){return this._closed===t._closed&&h.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(r){if(t.base.call(this,r),r&8){if(this._length=this._area=i,r&32)this._version++;else if(this._curves)for(var a=0,f=this._curves.length;a<f;a++)this._curves[a]._changed()}else r&64&&(this._bounds=i)},getStyle:function(){var t=this._parent;return(t instanceof ae?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var r=this.isFullySelected(),a=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=i,a){var f=t[a-1];typeof f=="boolean"&&(this.setClosed(f),a--),this._add(Ct.readList(t,0,{},a))}r&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,r=this._segments;if(!t){var a=this._countCurves();t=this._curves=new Array(a);for(var f=0;f<a;f++)t[f]=new pt(this,r[f],r[f+1]||r[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var r=this._curves.length=this._countCurves();t&&(this._curves[r-1]=new pt(this,this._segments[r-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,r){var a=this._segments,f=a.length,d=new S(r),v=new Array(6),m=!0,p,w,T,E,L,I,O,B,q=[];function Y(N,M){if(N._transformCoordinates(t,v),p=v[0],w=v[1],m)q.push("M"+d.pair(p,w)),m=!1;else if(L=v[2],I=v[3],L===p&&I===w&&O===T&&B===E){if(!M){var R=p-T,V=w-E;q.push(R===0?"v"+d.number(V):V===0?"h"+d.number(R):"l"+d.pair(R,V))}}else q.push("c"+d.pair(O-T,B-E)+" "+d.pair(L-T,I-E)+" "+d.pair(p-T,w-E));T=p,E=w,O=v[4],B=v[5]}if(!f)return"";for(var z=0;z<f;z++)Y(a[z]);return this._closed&&f>0&&(Y(a[0],!0),q.push("z")),q.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var r=this._segments,a=new Array(6),f=0,d=r.length;f<d;f++)r[f]._transformCoordinates(t,a,!0);return!0},_add:function(t,m){for(var a=this._segments,f=this._curves,d=t.length,v=m==null,m=v?a.length:m,p=0;p<d;p++){var w=t[p];w._path&&(w=t[p]=w.clone()),w._path=this,w._index=m+p,w._selection&&this._updateSelection(w,0,w._selection)}if(v)h.push(a,t);else{a.splice.apply(a,[m,0].concat(t));for(var p=m+d,T=a.length;p<T;p++)a[p]._index=p}if(f){var E=this._countCurves(),L=m>0&&m+d-1===E?m-1:m,I=L,O=Math.min(L+d,E);t._curves&&(f.splice.apply(f,[L,0].concat(t._curves)),I+=t._curves.length);for(var p=I;p<O;p++)f.splice(p,0,new pt(this,null,null));this._adjustCurves(L,O)}return this._changed(41),t},_adjustCurves:function(t,r){for(var a=this._segments,f=this._curves,d,v=t;v<r;v++)d=f[v],d._path=this,d._segment1=a[v],d._segment2=a[v+1]||a[0],d._changed();(d=f[this._closed&&!t?a.length-1:t-1])&&(d._segment2=a[t]||a[0],d._changed()),(d=f[r])&&(d._segment1=a[r],d._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var r=arguments;return r.length>1&&typeof t!="number"?this._add(Ct.readList(r)):this._add([Ct.read(r)])[0]},insert:function(t,r){var a=arguments;return a.length>2&&typeof r!="number"?this._add(Ct.readList(a,1),t):this._add([Ct.read(a,1)],t)[0]},addSegment:function(){return this._add([Ct.read(arguments)])[0]},insertSegment:function(t){return this._add([Ct.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(Ct.readList(t))},insertSegments:function(t,r){return this._add(Ct.readList(r),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,r,a){t=t||0,r=h.pick(r,this._segments.length);var f=this._segments,d=this._curves,v=f.length,m=f.splice(t,r-t),p=m.length;if(!p)return m;for(var w=0;w<p;w++){var T=m[w];T._selection&&this._updateSelection(T,T._selection,0),T._index=T._path=null}for(var w=t,E=f.length;w<E;w++)f[w]._index=w;if(d){for(var L=t>0&&r===v+(this._closed?1:0)?t-1:t,d=d.splice(L,p),w=d.length-1;w>=0;w--)d[w]._path=null;a&&(m._curves=d.slice(1)),this._adjustCurves(L,L)}return this._changed(41),m},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,r=0,a=t.length;r<a;r++)if(t[r].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,r=0,a=t.length;r<a;r++)t[r].clearHandles()},getLength:function(){if(this._length==null){for(var t=this.getCurves(),r=0,a=0,f=t.length;a<f;a++)r+=t[a].getLength();this._length=r}return this._length},getArea:function(){var t=this._area;if(t==null){var r=this._segments,a=this._closed;t=0;for(var f=0,d=r.length;f<d;f++){var v=f+1===d;t+=pt.getArea(pt.getValues(r[f],r[v?0:f+1],null,v&&!a))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===t*7},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(r){r&1||this._selectSegments(!1),t.base.call(this,r)},_selectSegments:function(t){var r=this._segments,a=r.length,f=t?7:0;this._segmentSelection=f*a;for(var d=0;d<a;d++)r[d]._selection=f},_updateSelection:function(t,r,a){t._selection=a;var f=this._segmentSelection+=a-r;f>0&&this.setSelected(!0)},divideAt:function(t){var r=this.getLocationAt(t),a;return r&&(a=r.getCurve().divideAt(r.getCurveOffset()))?a._segment1:null},splitAt:function(t){var r=this.getLocationAt(t),a=r&&r.index,f=r&&r.time,d=1e-8,v=1-d;f>v&&(a++,f=0);var m=this.getCurves();if(a>=0&&a<m.length){f>=d&&m[a++].divideAtTime(f);var p=this.removeSegments(a,this._segments.length,!0),w;return this._closed?(this.setClosed(!1),w=this):(w=new Ft(dt.NO_INSERT),w.insertAbove(this),w.copyAttributes(this)),w._add(p,0),this.addSegment(p[0]),w}return null},split:function(t,r){var a,f=r===i?t:(a=this.getCurves()[t])&&a.getLocationAtTime(r);return f!=null?this.splitAt(f):null},join:function(t,r){var a=r||0;if(t&&t!==this){var f=t._segments,d=this.getLastSegment(),v=t.getLastSegment();if(!v)return this;d&&d._point.isClose(v._point,a)&&t.reverse();var m=t.getFirstSegment();if(d&&d._point.isClose(m._point,a))d.setHandleOut(m._handleOut),this._add(f.slice(1));else{var p=this.getFirstSegment();p&&p._point.isClose(m._point,a)&&t.reverse(),v=t.getLastSegment(),p&&p._point.isClose(v._point,a)?(p.setHandleIn(v._handleIn),this._add(f.slice(0,f.length-1),0)):this._add(f.slice())}t._closed&&this._add([f[0]]),t.remove()}var w=this.getFirstSegment(),T=this.getLastSegment();return w!==T&&w._point.isClose(T._point,a)&&(w.setHandleIn(T._handleIn),T.remove(),this.setClosed(!0)),this},reduce:function(t){for(var r=this.getCurves(),a=t&&t.simplify,f=a?1e-7:0,d=r.length-1;d>=0;d--){var v=r[d];!v.hasHandles()&&(!v.hasLength(f)||a&&v.isCollinear(v.getNext()))&&v.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,r=this._segments.length;t<r;t++){var a=this._segments[t],f=a._handleIn;a._handleIn=a._handleOut,a._handleOut=f,a._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var r=new he(this,t||.25,256,!0),a=r.parts,f=a.length,d=[],v=0;v<f;v++)d.push(new Ct(a[v].curve.slice(0,2)));!this._closed&&f>0&&d.push(new Ct(a[f-1].curve.slice(6))),this.setSegments(d)},simplify:function(t){var r=new Me(this).fit(t||2.5);return r&&this.setSegments(r),!!r},smooth:function(t){var r=this,a=t||{},f=a.type||"asymmetric",d=this._segments,v=d.length,m=this._closed;function p(Jt,Ae){var ue=Jt&&Jt.index;if(ue!=null){var fe=Jt.path;if(fe&&fe!==r)throw new Error(Jt._class+" "+ue+" of "+fe+" is not part of "+r);Ae&&Jt instanceof pt&&ue++}else ue=typeof Jt=="number"?Jt:Ae;return Math.min(ue<0&&m?ue%v:ue<0?ue+v:ue,v-1)}var w=m&&a.from===i&&a.to===i,T=p(a.from,0),E=p(a.to,v-1);if(T>E)if(m)T-=v;else{var L=T;T=E,E=L}if(/^(?:asymmetric|continuous)$/.test(f)){var I=f==="asymmetric",O=Math.min,B=E-T+1,q=B-1,Y=w?O(B,4):1,z=Y,N=Y,M=[];if(m||(z=O(1,T),N=O(1,v-E-1)),q+=z+N,q<=1)return;for(var R=0,V=T-z;R<=q;R++,V++)M[R]=d[(V<0?V+v:V)%v]._point;for(var W=M[0]._x+2*M[1]._x,Z=M[0]._y+2*M[1]._y,j=2,Q=q-1,et=[W],it=[Z],tt=[j],rt=[],at=[],R=1;R<q;R++){var _t=R<Q,vt=_t||I?1:2,mt=_t?4:I?2:7,Ot=_t?4:I?3:8,kt=_t?2:I?0:1,zt=vt/j;j=tt[R]=mt-zt,W=et[R]=Ot*M[R]._x+kt*M[R+1]._x-zt*W,Z=it[R]=Ot*M[R]._y+kt*M[R+1]._y-zt*Z}rt[Q]=et[Q]/tt[Q],at[Q]=it[Q]/tt[Q];for(var R=q-2;R>=0;R--)rt[R]=(et[R]-rt[R+1])/tt[R],at[R]=(it[R]-at[R+1])/tt[R];rt[q]=(3*M[q]._x-rt[Q])/2,at[q]=(3*M[q]._y-at[Q])/2;for(var R=z,Qt=q-N,V=T;R<=Qt;R++,V++){var Wt=d[V<0?V+v:V],Gt=Wt._point,Zt=rt[R]-Gt._x,ee=at[R]-Gt._y;(w||R<Qt)&&Wt.setHandleOut(Zt,ee),(w||R>z)&&Wt.setHandleIn(-Zt,-ee)}}else for(var R=T;R<=E;R++)d[R<0?R+v:R].smooth(a,!w&&R===T,!w&&R===E)},toShape:function(t){if(!this._closed)return null;var r=this._segments,a,f,d,v;function m(I,O){var B=r[I],q=B.getNext(),Y=r[O],z=Y.getNext();return B._handleOut.isZero()&&q._handleIn.isZero()&&Y._handleOut.isZero()&&z._handleIn.isZero()&&q._point.subtract(B._point).isCollinear(z._point.subtract(Y._point))}function p(I){var O=r[I],B=O.getPrevious(),q=O.getNext();return B._handleOut.isZero()&&O._handleIn.isZero()&&O._handleOut.isZero()&&q._handleIn.isZero()&&O._point.subtract(B._point).isOrthogonal(q._point.subtract(O._point))}function w(I){var O=r[I],B=O.getNext(),q=O._handleOut,Y=B._handleIn,z=.5522847498307936;if(q.isOrthogonal(Y)){var N=O._point,M=B._point,R=new ut(N,q,!0).intersect(new ut(M,Y,!0),!0);return R&&A.isZero(q.getLength()/R.subtract(N).getLength()-z)&&A.isZero(Y.getLength()/R.subtract(M).getLength()-z)}return!1}function T(I,O){return r[I]._point.getDistance(r[O]._point)}if(!this.hasHandles()&&r.length===4&&m(0,2)&&m(1,3)&&p(1)?(a=ot.Rectangle,f=new C(T(0,3),T(0,1)),v=r[1]._point.add(r[2]._point).divide(2)):r.length===8&&w(0)&&w(2)&&w(4)&&w(6)&&m(1,5)&&m(3,7)?(a=ot.Rectangle,f=new C(T(1,6),T(0,3)),d=f.subtract(new C(T(0,7),T(1,2))).divide(2),v=r[3]._point.add(r[4]._point).divide(2)):r.length===4&&w(0)&&w(1)&&w(2)&&w(3)&&(A.isZero(T(0,2)-T(1,3))?(a=ot.Circle,d=T(0,2)/2):(a=ot.Ellipse,d=new C(T(2,0)/2,T(3,1)/2)),v=r[1]._point),a){var E=this.getPosition(!0),L=new a({center:E,size:f,radius:d,insert:!1});return L.copyAttributes(this,!0),L._matrix.prepend(this._matrix),L.rotate(v.subtract(E).getAngle()+90),(t===i||t)&&L.insertAbove(this),L}return null},toPath:"#clone",compare:function t(r){if(!r||r instanceof ae)return t.base.call(this,r);var a=this.getCurves(),f=r.getCurves(),d=a.length,v=f.length;if(!d||!v)return d==v;for(var m=a[0].getValues(),p=[],w=0,T,E=0,L,I=0;I<v;I++){var Y=f[I].getValues();p.push(Y);var O=pt.getOverlaps(m,Y);if(O){T=!I&&O[0][0]>0?v-1:I,L=O[0][1];break}}for(var B=Math.abs,q=1e-8,Y=p[T],z;m&&Y;){var O=pt.getOverlaps(m,Y);if(O){var N=O[0][0];if(B(N-E)<q){E=O[1][0],E===1&&(m=++w<d?a[w].getValues():null,E=0);var M=O[0][1];if(B(M-L)<q){if(z||(z=[T,M]),L=O[1][1],L===1&&(++T>=v&&(T=0),Y=p[T]||f[T].getValues(),L=0),!m)return z[0]===T&&z[1]===L;continue}}}break}return!1},_hitTestSelf:function(t,r,a,f){var d=this,v=this.getStyle(),m=this._segments,p=m.length,w=this._closed,T=r._tolerancePadding,E=T,L,I,O,B,q,Y,z=r.stroke&&v.hasStroke(),N=r.fill&&v.hasFill(),M=r.curves,R=z?v.getStrokeWidth()/2:N&&r.tolerance>0||M?0:null;R!==null&&(R>0?(L=v.getStrokeJoin(),I=v.getStrokeCap(),O=v.getMiterLimit(),E=E.add(Ft._getStrokePadding(R,f))):L=I="round");function V(rt,at){return t.subtract(rt).divide(at).length<=1}function W(rt,at,_t){if(!r.selected||at.isSelected()){var vt=rt._point;if(at!==vt&&(at=at.add(vt)),V(at,E))return new Rt(_t,d,{segment:rt,point:at})}}function Z(rt,at){return(at||r.segments)&&W(rt,rt._point,"segment")||!at&&r.handles&&(W(rt,rt._handleIn,"handle-in")||W(rt,rt._handleOut,"handle-out"))}function j(rt){B.add(rt)}function Q(rt){var at=w||rt._index>0&&rt._index<p-1;if((at?L:I)==="round")return V(rt._point,E);if(B=new Ft({internal:!0,closed:!0}),at?rt.isSmooth()||Ft._addBevelJoin(rt,L,R,O,null,f,j,!0):I==="square"&&Ft._addSquareCap(rt,I,R,null,f,j,!0),!B.isEmpty()){var _t;return B.contains(t)||(_t=B.getNearestLocation(t))&&V(_t.getPoint(),T)}}if(r.ends&&!r.segments&&!w){if(Y=Z(m[0],!0)||Z(m[p-1],!0))return Y}else if(r.segments||r.handles){for(var et=0;et<p;et++)if(Y=Z(m[et]))return Y}if(R!==null){if(q=this.getNearestLocation(t),q){var it=q.getTime();it===0||it===1&&p>1?Q(q.getSegment())||(q=null):V(q.getPoint(),E)||(q=null)}if(!q&&L==="miter"&&p>1)for(var et=0;et<p;et++){var tt=m[et];if(t.getDistance(tt._point)<=O*R&&Q(tt)){q=tt.getLocation();break}}}return!q&&N&&this._contains(t)||q&&!z&&!M?new Rt("fill",this):q?new Rt(z?"stroke":"curve",this,{location:q,point:q.getPoint()}):null}},h.each(pt._evaluateMethods,function(t){this[t+"At"]=function(r){var a=this.getLocationAt(r);return a&&a[t]()}},{beans:!1,getLocationOf:function(){for(var t=y.read(arguments),r=this.getCurves(),a=0,f=r.length;a<f;a++){var d=r[a].getLocationOf(t);if(d)return d}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if(typeof t=="number"){for(var r=this.getCurves(),a=0,f=0,d=r.length;f<d;f++){var v=a,m=r[f];if(a+=m.getLength(),a>t)return m.getLocationAt(t-v)}if(r.length>0&&t<=this.getLength())return new Vt(r[r.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=y.read(arguments);if(t.isZero())return[];for(var r=[],a=0,f=this.getCurves(),d=0,v=f.length;d<v;d++){for(var m=f[d],p=m.getTimesWithTangent(t),w=0,T=p.length;w<T;w++){var E=a+m.getOffsetAtTime(p[w]);r.indexOf(E)<0&&r.push(E)}a+=m.length}return r}}),new function(){function t(a,f,d,v){if(v<=0)return;var m=v/2,p=v-2,w=m-1,T=new Array(6),E,L;function I(N){var M=T[N],R=T[N+1];(E!=M||L!=R)&&(a.beginPath(),a.moveTo(E,L),a.lineTo(M,R),a.stroke(),a.beginPath(),a.arc(M,R,m,0,Math.PI*2,!0),a.fill())}for(var O=0,B=f.length;O<B;O++){var q=f[O],Y=q._selection;if(q._transformCoordinates(d,T),E=T[0],L=T[1],Y&2&&I(2),Y&4&&I(4),a.fillRect(E-m,L-m,v,v),p>0&&!(Y&1)){var z=a.fillStyle;a.fillStyle="#ffffff",a.fillRect(E-w,L-w,p,p),a.fillStyle=z}}}function r(a,f,d){var v=f._segments,m=v.length,p=new Array(6),w=!0,T,E,L,I,O,B,q,Y;function z(M){if(d)M._transformCoordinates(d,p),T=p[0],E=p[1];else{var R=M._point;T=R._x,E=R._y}if(w)a.moveTo(T,E),w=!1;else{if(d)O=p[2],B=p[3];else{var V=M._handleIn;O=T+V._x,B=E+V._y}O===T&&B===E&&q===L&&Y===I?a.lineTo(T,E):a.bezierCurveTo(q,Y,O,B,T,E)}if(L=T,I=E,d)q=p[4],Y=p[5];else{var V=M._handleOut;q=L+V._x,Y=I+V._y}}for(var N=0;N<m;N++)z(v[N]);f._closed&&m>0&&z(v[0])}return{_draw:function(a,f,d,v){var m=f.dontStart,p=f.dontFinish||f.clip,w=this.getStyle(),T=w.hasFill(),E=w.hasStroke(),L=w.getDashArray(),I=!ce.support.nativeDash&&E&&L&&L.length;m||a.beginPath(),(T||E&&!I||p)&&(r(a,this,v),this._closed&&a.closePath());function O(M){return L[(M%I+I)%I]}if(!p&&(T||E)&&(this._setStyles(a,f,d),T&&(a.fill(w.getFillRule()),a.shadowColor="rgba(0,0,0,0)"),E)){if(I){m||a.beginPath();for(var B=new he(this,.25,32,!1,v),q=B.length,Y=-w.getDashOffset(),z,N=0;Y>0;)Y-=O(N--)+O(N--);for(;Y<q;)z=Y+O(N++),(Y>0||z>0)&&B.drawPart(a,Math.max(Y,0),Math.max(z,0)),Y=z+O(N++)}a.stroke()}},_drawSelected:function(a,f){a.beginPath(),r(a,this,f),a.stroke(),t(a,this._segments,f,ce.settings.handleSize)}}},new function(){function t(r){var a=r._segments;if(!a.length)throw new Error("Use a moveTo() command first");return a[a.length-1]}return{moveTo:function(){var r=this._segments;r.length===1&&this.removeSegment(0),r.length||this._add([new Ct(y.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Ct(y.read(arguments))])},cubicCurveTo:function(){var r=arguments,a=y.read(r),f=y.read(r),d=y.read(r),v=t(this);v.setHandleOut(a.subtract(v._point)),this._add([new Ct(d,f.subtract(d))])},quadraticCurveTo:function(){var r=arguments,a=y.read(r),f=y.read(r),d=t(this)._point;this.cubicCurveTo(a.add(d.subtract(a).multiply(1/3)),a.add(f.subtract(a).multiply(1/3)),f)},curveTo:function(){var r=arguments,a=y.read(r),f=y.read(r),d=h.pick(h.read(r),.5),v=1-d,m=t(this)._point,p=a.subtract(m.multiply(v*v)).subtract(f.multiply(d*d)).divide(2*d*v);if(p.isNaN())throw new Error("Cannot put a curve through points with parameter = "+d);this.quadraticCurveTo(p,f)},arcTo:function(){var r=arguments,a=Math.abs,f=Math.sqrt,d=t(this),v=d._point,m=y.read(r),p,w=h.peek(r),T=h.pick(w,!0),E,L,I,O;if(typeof T=="boolean")var B=v.add(m).divide(2),p=B.add(B.subtract(v).rotate(T?-90:90));else if(h.remain(r)<=2)p=m,m=y.read(r);else if(!v.equals(m)){var q=C.read(r),Y=A.isZero;if(Y(q.width)||Y(q.height))return this.lineTo(m);var z=h.read(r),T=!!h.read(r),N=!!h.read(r),B=v.add(m).divide(2),M=v.subtract(B).rotate(-z),R=M.x,V=M.y,W=a(q.width),Z=a(q.height),j=W*W,Q=Z*Z,et=R*R,it=V*V,tt=f(et/j+it/Q);if(tt>1&&(W*=tt,Z*=tt,j=W*W,Q=Z*Z),tt=(j*Q-j*it-Q*et)/(j*it+Q*et),a(tt)<1e-12&&(tt=0),tt<0)throw new Error("Cannot create an arc with the given arguments");E=new y(W*V/Z,-Z*R/W).multiply((N===T?-1:1)*f(tt)).rotate(z).add(B),O=new J().translate(E).rotate(z).scale(W,Z),I=O._inverseTransform(v),L=I.getDirectedAngle(O._inverseTransform(m)),!T&&L>0?L-=360:T&&L<0&&(L+=360)}if(p){var rt=new ut(v.add(p).divide(2),p.subtract(v).rotate(90),!0),at=new ut(p.add(m).divide(2),m.subtract(p).rotate(90),!0),_t=new ut(v,m),vt=_t.getSide(p);if(E=rt.intersect(at,!0),!E){if(!vt)return this.lineTo(m);throw new Error("Cannot create an arc with the given arguments")}I=v.subtract(E),L=I.getDirectedAngle(m.subtract(E));var mt=_t.getSide(E,!0);mt===0?L=vt*a(L):vt===mt&&(L+=L<0?360:-360)}if(L){for(var Ot=1e-5,kt=a(L),zt=kt>=360?4:Math.ceil((kt-Ot)/90),Qt=L/zt,Wt=Qt*Math.PI/360,Gt=4/3*Math.sin(Wt)/(1+Math.cos(Wt)),Zt=[],ee=0;ee<=zt;ee++){var M=m,Jt=null;if(ee<zt&&(Jt=I.rotate(90).multiply(Gt),O?(M=O._transformPoint(I),Jt=O._transformPoint(I.add(Jt)).subtract(M)):M=E.add(I)),!ee)d.setHandleOut(Jt);else{var Ae=I.rotate(-90).multiply(Gt);O&&(Ae=O._transformPoint(I.add(Ae)).subtract(M)),Zt.push(new Ct(M,Ae,Jt))}I=I.rotate(Qt)}this._add(Zt)}},lineBy:function(){var r=y.read(arguments),a=t(this)._point;this.lineTo(a.add(r))},curveBy:function(){var r=arguments,a=y.read(r),f=y.read(r),d=h.read(r),v=t(this)._point;this.curveTo(v.add(a),v.add(f),d)},cubicCurveBy:function(){var r=arguments,a=y.read(r),f=y.read(r),d=y.read(r),v=t(this)._point;this.cubicCurveTo(v.add(a),v.add(f),v.add(d))},quadraticCurveBy:function(){var r=arguments,a=y.read(r),f=y.read(r),d=t(this)._point;this.quadraticCurveTo(d.add(a),d.add(f))},arcBy:function(){var r=arguments,a=t(this)._point,f=a.add(y.read(r)),d=h.pick(h.peek(r),!0);typeof d=="boolean"?this.arcTo(f,d):this.arcTo(f,a.add(y.read(r)))},closePath:function(r){this.setClosed(!0),this.join(this,r)}}},{_getBounds:function(t,r){var a=r.handle?"getHandleBounds":r.stroke?"getStrokeBounds":"getBounds";return Ft[a](this._segments,this._closed,this,t,r)},statics:{getBounds:function(t,r,a,f,d,v){var m=t[0];if(!m)return new $;var p=new Array(6),w=m._transformCoordinates(f,new Array(6)),T=w.slice(0,2),E=T.slice(),L=new Array(2);function I(q){q._transformCoordinates(f,p);for(var Y=0;Y<2;Y++)pt._addBounds(w[Y],w[Y+4],p[Y+2],p[Y],Y,v?v[Y]:0,T,E,L);var z=w;w=p,p=z}for(var O=1,B=t.length;O<B;O++)I(t[O]);return r&&I(m),new $(T[0],T[1],E[0]-T[0],E[1]-T[1])},getStrokeBounds:function(t,r,a,f,d){var v=a.getStyle(),m=v.hasStroke(),p=v.getStrokeWidth(),w=m&&a._getStrokeMatrix(f,d),T=m&&Ft._getStrokePadding(p,w),E=Ft.getBounds(t,r,a,f,d,T);if(!m)return E;var L=p/2,I=v.getStrokeJoin(),O=v.getStrokeCap(),B=v.getMiterLimit(),q=new $(new C(T));function Y(W){E=E.include(W)}function z(W){E=E.unite(q.setCenter(W._point.transform(f)))}function N(W,Z){Z==="round"||W.isSmooth()?z(W):Ft._addBevelJoin(W,Z,L,B,f,w,Y)}function M(W,Z){Z==="round"?z(W):Ft._addSquareCap(W,Z,L,f,w,Y)}var R=t.length-(r?0:1);if(R>0){for(var V=1;V<R;V++)N(t[V],I);r?N(t[0],I):(M(t[0],O),M(t[t.length-1],O))}return E},_getStrokePadding:function(t,r){if(!r)return[t,t];var a=new y(t,0).transform(r),f=new y(0,t).transform(r),d=a.getAngleInRadians(),v=a.getLength(),m=f.getLength(),p=Math.sin(d),w=Math.cos(d),T=Math.tan(d),E=Math.atan2(m*T,v),L=Math.atan2(m,T*v);return[Math.abs(v*Math.cos(E)*w+m*Math.sin(E)*p),Math.abs(m*Math.sin(L)*w+v*Math.cos(L)*p)]},_addBevelJoin:function(t,r,a,f,d,v,m,p){var w=t.getCurve(),T=w.getPrevious(),E=w.getPoint1().transform(d),L=T.getNormalAtTime(1).multiply(a).transform(v),I=w.getNormalAtTime(0).multiply(a).transform(v),O=L.getDirectedAngle(I);if((O<0||O>=180)&&(L=L.negate(),I=I.negate()),p&&m(E),m(E.add(L)),r==="miter"){var B=new ut(E.add(L),new y(-L.y,L.x),!0).intersect(new ut(E.add(I),new y(-I.y,I.x),!0),!0);B&&E.getDistance(B)<=f*a&&m(B)}m(E.add(I))},_addSquareCap:function(t,r,a,f,d,v,m){var p=t._point.transform(f),w=t.getLocation(),T=w.getNormal().multiply(w.getTime()===0?a:-a).transform(d);r==="square"&&(m&&(v(p.subtract(T)),v(p.add(T))),p=p.add(T.rotate(-90))),v(p.add(T)),v(p.subtract(T))},getHandleBounds:function(t,r,a,f,d){var v=a.getStyle(),m=d.stroke&&v.hasStroke(),p,w;if(m){var T=a._getStrokeMatrix(f,d),E=v.getStrokeWidth()/2,L=E;v.getStrokeJoin()==="miter"&&(L=E*v.getMiterLimit()),v.getStrokeCap()==="square"&&(L=Math.max(L,E*Math.SQRT2)),p=Ft._getStrokePadding(E,T),w=Ft._getStrokePadding(L,T)}for(var I=new Array(6),O=1/0,B=-O,q=O,Y=B,z=0,N=t.length;z<N;z++){var M=t[z];M._transformCoordinates(f,I);for(var R=0;R<6;R+=2){var V=R?p:w,W=V?V[0]:0,Z=V?V[1]:0,j=I[R],Q=I[R+1],et=j-W,it=j+W,tt=Q-Z,rt=Q+Z;et<O&&(O=et),it>B&&(B=it),tt<q&&(q=tt),rt>Y&&(Y=rt)}}return new $(O,q,B-O,Y-q)}}});Ft.inject({statics:new function(){var t=.5522847498307936,r=[new Ct([-1,0],[0,t],[0,-t]),new Ct([0,-1],[-t,0],[t,0]),new Ct([1,0],[0,-t],[0,t]),new Ct([0,1],[t,0],[-t,0])];function a(d,v,m){var p=h.getNamed(m),w=new Ft(p&&(p.insert==!0?dt.INSERT:p.insert==!1?dt.NO_INSERT:null));return w._add(d),w._closed=v,w.set(p,dt.INSERT)}function f(d,v,m){for(var p=new Array(4),w=0;w<4;w++){var T=r[w];p[w]=new Ct(T._point.multiply(v).add(d),T._handleIn.multiply(v),T._handleOut.multiply(v))}return a(p,!0,m)}return{Line:function(){var d=arguments;return a([new Ct(y.readNamed(d,"from")),new Ct(y.readNamed(d,"to"))],!1,d)},Circle:function(){var d=arguments,v=y.readNamed(d,"center"),m=h.readNamed(d,"radius");return f(v,new C(m),d)},Rectangle:function(){var d=arguments,v=$.readNamed(d,"rectangle"),m=C.readNamed(d,"radius",0,{readNull:!0}),p=v.getBottomLeft(!0),w=v.getTopLeft(!0),T=v.getTopRight(!0),E=v.getBottomRight(!0),L;if(!m||m.isZero())L=[new Ct(p),new Ct(w),new Ct(T),new Ct(E)];else{m=C.min(m,v.getSize(!0).divide(2));var I=m.width,O=m.height,B=I*t,q=O*t;L=[new Ct(p.add(I,0),null,[-B,0]),new Ct(p.subtract(0,O),[0,q]),new Ct(w.add(0,O),null,[0,-q]),new Ct(w.add(I,0),[-B,0],null),new Ct(T.subtract(I,0),null,[B,0]),new Ct(T.add(0,O),[0,-q],null),new Ct(E.subtract(0,O),null,[0,q]),new Ct(E.subtract(I,0),[B,0])]}return a(L,!0,d)},RoundRectangle:"#Rectangle",Ellipse:function(){var d=arguments,v=ot._readEllipse(d);return f(v.center,v.radius,d)},Oval:"#Ellipse",Arc:function(){var d=arguments,v=y.readNamed(d,"from"),m=y.readNamed(d,"through"),p=y.readNamed(d,"to"),w=h.getNamed(d),T=new Ft(w&&w.insert==!1&&dt.NO_INSERT);return T.moveTo(v),T.arcTo(m,p),T.set(w)},RegularPolygon:function(){for(var d=arguments,v=y.readNamed(d,"center"),m=h.readNamed(d,"sides"),p=h.readNamed(d,"radius"),w=360/m,T=m%3===0,E=new y(0,T?-p:p),L=T?-1:.5,I=new Array(m),O=0;O<m;O++)I[O]=new Ct(v.add(E.rotate((O+L)*w)));return a(I,!0,d)},Star:function(){for(var d=arguments,v=y.readNamed(d,"center"),m=h.readNamed(d,"points")*2,p=h.readNamed(d,"radius1"),w=h.readNamed(d,"radius2"),T=360/m,E=new y(0,-1),L=new Array(m),I=0;I<m;I++)L[I]=new Ct(v.add(E.rotate(T*I).multiply(I%2?w:p)));return a(L,!0,d)}}}});var ae=Ht.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(r){this._children=[],this._namedChildren={},this._initialize(r)||(typeof r=="string"?this.setPathData(r):this.addChildren(Array.isArray(r)?r:arguments))},insertChildren:function t(r,a){var f=a,d=f[0];d&&typeof d[0]=="number"&&(f=[f]);for(var v=a.length-1;v>=0;v--){var m=f[v];f===a&&!(m instanceof Ft)&&(f=h.slice(f)),Array.isArray(m)?f[v]=new Ft({segments:m,insert:!1}):m instanceof ae&&(f.splice.apply(f,[v,1].concat(m.removeChildren())),m.remove())}return t.base.call(this,r,f)},reduce:function t(r){for(var a=this._children,f=a.length-1;f>=0;f--){var d=a[f].reduce(r);d.isEmpty()&&d.remove()}if(!a.length){var d=new Ft(dt.NO_INSERT);return d.copyAttributes(this),d.insertAbove(this),this.remove(),d}return t.base.call(this)},isClosed:function(){for(var t=this._children,r=0,a=t.length;r<a;r++)if(!t[r]._closed)return!1;return!0},setClosed:function(t){for(var r=this._children,a=0,f=r.length;a<f;a++)r[a].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,r=[],a=0,f=t.length;a<f;a++)h.push(r,t[a].getCurves());return r},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,r=0,a=0,f=t.length;a<f;a++)r+=t[a].getArea();return r},getLength:function(){for(var t=this._children,r=0,a=0,f=t.length;a<f;a++)r+=t[a].getLength();return r},getPathData:function(t,r){for(var a=this._children,f=[],d=0,v=a.length;d<v;d++){var m=a[d],p=m._matrix;f.push(m.getPathData(t&&!p.isIdentity()?t.appended(p):t,r))}return f.join("")},_hitTestChildren:function t(r,a,f){return t.base.call(this,r,a.class===Ft||a.type==="path"?a:h.set({},a,{fill:!1}),f)},_draw:function(t,r,a,f){var d=this._children;if(d.length){r=r.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var v=0,m=d.length;v<m;v++)d[v].draw(t,r,f);if(!r.clip){this._setStyles(t,r,a);var p=this._style;p.hasFill()&&(t.fill(p.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),p.hasStroke()&&t.stroke()}}},_drawSelected:function(t,r,a){for(var f=this._children,d=0,v=f.length;d<v;d++){var m=f[d],p=m._matrix;a[m._id]||m._drawSelected(t,p.isIdentity()?r:r.appended(p))}}},new function(){function t(r,a){var f=r._children;if(a&&!f.length)throw new Error("Use a moveTo() command first");return f[f.length-1]}return h.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(r){this[r]=function(){var a=t(this,!0);a[r].apply(a,arguments)}},{moveTo:function(){var r=t(this),a=r&&r.isEmpty()?r:new Ft(dt.NO_INSERT);a!==r&&this.addChild(a),a.moveTo.apply(a,arguments)},moveBy:function(){var r=t(this,!0),a=r&&r.getLastSegment(),f=y.read(arguments);this.moveTo(a?f.add(a._point):f)},closePath:function(r){t(this,!0).closePath(r)}})},h.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(r){for(var a=this._children,f,d=0,v=a.length;d<v;d++)f=a[d][t](r)||f;return f}},{}));Ht.inject(new function(){var t=Math.min,r=Math.max,a=Math.abs,f={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function d(z){return z._children||[z]}function v(z,N){var M=z.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(N){for(var R=d(M),V=0,W=R.length;V<W;V++){var z=R[V];!z._closed&&!z.isEmpty()&&(z.closePath(1e-12),z.getFirstSegment().setHandleIn(0,0),z.getLastSegment().setHandleOut(0,0))}M=M.resolveCrossings().reorient(M.getFillRule()==="nonzero",!0)}return M}function m(z,N,M,R,V){var W=new ae(dt.NO_INSERT);return W.addChildren(z,!0),W=W.reduce({simplify:N}),V&&V.insert==!1||W.insertAbove(R&&M.isSibling(R)&&M.getIndex()<R.getIndex()?R:M),W.copyAttributes(M,!0),W}function p(z){return z.hasOverlap()||z.isCrossing()}function w(z,N,M,R){if(R&&(R.trace==!1||R.stroke)&&/^(subtract|intersect)$/.test(M))return T(z,N,M);var V=v(z,!0),W=N&&z!==N&&v(N,!0),Z=f[M];Z[M]=!0,W&&(Z.subtract||Z.exclude)^(W.isClockwise()^V.isClockwise())&&W.reverse();var j=O(Vt.expand(V.getIntersections(W,p))),Q=d(V),et=W&&d(W),it=[],tt=[],rt;function at(Jt){for(var Ae=0,ue=Jt.length;Ae<ue;Ae++){var fe=Jt[Ae];h.push(it,fe._segments),h.push(tt,fe.getCurves()),fe._overlapsOnly=!0}}function _t(Jt){for(var Ae=[],ue=0,fe=Jt&&Jt.length;ue<fe;ue++)Ae.push(tt[Jt[ue]]);return Ae}if(j.length){at(Q),et&&at(et);for(var vt=new Array(tt.length),mt=0,Ot=tt.length;mt<Ot;mt++)vt[mt]=tt[mt].getValues();for(var kt=x.findCurveBoundsCollisions(vt,vt,0,!0),zt={},mt=0;mt<tt.length;mt++){var Qt=tt[mt],Wt=Qt._path._id,Gt=zt[Wt]=zt[Wt]||{};Gt[Qt.getIndex()]={hor:_t(kt[mt].hor),ver:_t(kt[mt].ver)}}for(var mt=0,Ot=j.length;mt<Ot;mt++)q(j[mt]._segment,V,W,zt,Z);for(var mt=0,Ot=it.length;mt<Ot;mt++){var Zt=it[mt],ee=Zt._intersection;Zt._winding||q(Zt,V,W,zt,Z),ee&&ee._overlap||(Zt._path._overlapsOnly=!1)}rt=Y(it,Z)}else rt=I(et?Q.concat(et):Q.slice(),function(Jt){return!!Z[Jt]});return m(rt,!0,z,N,R)}function T(z,N,M){var R=v(z),V=v(N),W=R.getIntersections(V,p),Z=M==="subtract",j=M==="divide",Q={},et=[];function it(at){if(!Q[at._id]&&(j||V.contains(at.getPointAt(at.getLength()/2))^Z))return et.unshift(at),Q[at._id]=!0}for(var tt=W.length-1;tt>=0;tt--){var rt=W[tt].split();rt&&(it(rt)&&rt.getFirstSegment().setHandleIn(0,0),R.getLastSegment().setHandleOut(0,0))}return it(R),m(et,!1,z,N)}function E(z,N){for(var M=z;M;){if(M===N)return;M=M._previous}for(;z._next&&z._next!==N;)z=z._next;if(!z._next){for(;N._previous;)N=N._previous;z._next=N,N._previous=z}}function L(z){for(var N=z.length-1;N>=0;N--)z[N].clearHandles()}function I(z,N,M){var R=z&&z.length;if(R){var V=h.each(z,function(kt,zt){this[kt._id]={container:null,winding:kt.isClockwise()?1:-1,index:zt}},{}),W=z.slice().sort(function(kt,zt){return a(zt.getArea())-a(kt.getArea())}),Z=W[0],j=x.findItemBoundsCollisions(W,null,A.GEOMETRIC_EPSILON);M==null&&(M=Z.isClockwise());for(var Q=0;Q<R;Q++){var et=W[Q],it=V[et._id],tt=0,rt=j[Q];if(rt){for(var at=null,_t=rt.length-1;_t>=0;_t--)if(rt[_t]<Q){at=at||et.getInteriorPoint();var vt=W[rt[_t]];if(vt.contains(at)){var mt=V[vt._id];tt=mt.winding,it.winding+=tt,it.container=mt.exclude?mt.container:vt;break}}}if(N(it.winding)===N(tt))it.exclude=!0,z[it.index]=null;else{var Ot=it.container;et.setClockwise(Ot?!Ot.isClockwise():M)}}}return z}function O(z,N,M){var R=N&&[],V=1e-8,W=1-V,Z=!1,j=M||[],Q=M&&{},et,it,tt;function rt(Ae){return Ae._path._id+"."+Ae._segment1._index}for(var at=(M&&M.length)-1;at>=0;at--){var _t=M[at];_t._path&&(Q[rt(_t)]=!0)}for(var at=z.length-1;at>=0;at--){var vt=z[at],mt=vt._time,Ot=mt,kt=N&&!N(vt),_t=vt._curve,zt;if(_t&&(_t!==it?(Z=!_t.hasHandles()||Q&&Q[rt(_t)],et=[],tt=null,it=_t):tt>=V&&(mt/=tt)),kt){et&&et.push(vt);continue}else N&&R.unshift(vt);if(tt=Ot,mt<V)zt=_t._segment1;else if(mt>W)zt=_t._segment2;else{var Qt=_t.divideAtTime(mt,!0);Z&&j.push(_t,Qt),zt=Qt._segment1;for(var Wt=et.length-1;Wt>=0;Wt--){var Gt=et[Wt];Gt._time=(Gt._time-mt)/(1-mt)}}vt._setSegment(zt);var Zt=zt._intersection,ee=vt._intersection;if(Zt){E(Zt,ee);for(var Jt=Zt;Jt;)E(Jt._intersection,Zt),Jt=Jt._next}else zt._intersection=ee}return M||L(j),R||z}function B(z,N,M,R,V){var W=Array.isArray(N)?N:N[M?"hor":"ver"],Z=M?1:0,j=Z^1,Q=[z.x,z.y],et=Q[Z],it=Q[j],tt=1e-9,rt=1e-6,at=et-tt,_t=et+tt,vt=0,mt=0,Ot=0,kt=0,zt=!1,Qt=!1,Wt=1,Gt=[],Zt,ee;function Jt(Re){var Xe=Re[j+0],xn=Re[j+6];if(!(it<t(Xe,xn)||it>r(Xe,xn))){var Ze=Re[Z+0],Wn=Re[Z+2],fr=Re[Z+4],Ln=Re[Z+6];if(Xe===xn){(Ze<_t&&Ln>at||Ln<_t&&Ze>at)&&(zt=!0);return}var Rn=it===Xe?0:it===xn||at>r(Ze,Wn,fr,Ln)||_t<t(Ze,Wn,fr,Ln)?1:pt.solveCubic(Re,j,it,Gt,0,1)>0?Gt[0]:1,_n=Rn===0?Ze:Rn===1?Ln:pt.getPoint(Re,Rn)[M?"y":"x"],Pn=Xe>xn?1:-1,cr=Zt[j]>Zt[j+6]?1:-1,bn=Zt[Z+6];return it!==Xe?(_n<at?Ot+=Pn:_n>_t?kt+=Pn:zt=!0,_n>et-rt&&_n<et+rt&&(Wt/=2)):(Pn!==cr?Ze<at?Ot+=Pn:Ze>_t&&(kt+=Pn):Ze!=bn&&(bn<_t&&_n>_t?(kt+=Pn,zt=!0):bn>at&&_n<at&&(Ot+=Pn,zt=!0)),Wt/=4),Zt=Re,!V&&_n>at&&_n<_t&&pt.getTangent(Re,Rn)[M?"x":"y"]===0&&B(z,N,!M,R,!0)}}function Ae(Re){var Xe=Re[j+0],xn=Re[j+2],Ze=Re[j+4],Wn=Re[j+6];if(it<=r(Xe,xn,Ze,Wn)&&it>=t(Xe,xn,Ze,Wn)){for(var fr=Re[Z+0],Ln=Re[Z+2],Rn=Re[Z+4],_n=Re[Z+6],Pn=at>r(fr,Ln,Rn,_n)||_t<t(fr,Ln,Rn,_n)?[Re]:pt.getMonoCurves(Re,M),cr,bn=0,ni=Pn.length;bn<ni;bn++)if(cr=Jt(Pn[bn]))return cr}}for(var ue=0,fe=W.length;ue<fe;ue++){var re=W[ue],ve=re._path,on=re.getValues(),en;if((!ue||W[ue-1]._path!==ve)&&(Zt=null,ve._closed||(ee=pt.getValues(ve.getLastCurve().getSegment2(),re.getSegment1(),null,!R),ee[j]!==ee[j+6]&&(Zt=ee)),!Zt)){Zt=on;for(var nn=ve.getLastCurve();nn&&nn!==re;){var He=nn.getValues();if(He[j]!==He[j+6]){Zt=He;break}nn=nn.getPrevious()}}if(en=Ae(on))return en;if(ue+1===fe||W[ue+1]._path!==ve){if(ee&&(en=Ae(ee)))return en;zt&&!Ot&&!kt&&(Ot=kt=ve.isClockwise(R)^M?1:-1),vt+=Ot,mt+=kt,Ot=kt=0,zt&&(Qt=!0,zt=!1),ee=null}}return vt=a(vt),mt=a(mt),{winding:r(vt,mt),windingL:vt,windingR:mt,quality:Wt,onPath:Qt}}function q(z,N,M,R,V){var W=[],Z=z,j=0,tt;do{var Q=z.getCurve();if(Q){var et=Q.getLength();W.push({segment:z,curve:Q,length:et}),j+=et}z=z.getNext()}while(z&&!z._intersection&&z!==Z);for(var it=[.5,.25,.75],tt={winding:0,quality:-1},rt=.001,at=1-rt,_t=0;_t<it.length&&tt.quality<.5;_t++)for(var et=j*it[_t],vt=0,mt=W.length;vt<mt;vt++){var Ot=W[vt],kt=Ot.length;if(et<=kt){var Q=Ot.curve,zt=Q._path,Qt=zt._parent,Wt=Qt instanceof ae?Qt:zt,Gt=A.clamp(Q.getTimeAt(et),rt,at),Zt=Q.getPointAtTime(Gt),ee=a(Q.getTangentAtTime(Gt).y)<Math.SQRT1_2,Jt=null;if(V.subtract&&M){var Ae=Wt===N?M:N,ue=Ae._getWinding(Zt,ee,!0);if(Wt===N&&ue.winding||Wt===M&&!ue.winding){if(ue.quality<1)continue;Jt={winding:0,quality:1}}}Jt=Jt||B(Zt,R[zt._id][Q.getIndex()],ee,!0),Jt.quality>tt.quality&&(tt=Jt);break}et-=kt}for(var vt=W.length-1;vt>=0;vt--)W[vt].segment._winding=tt}function Y(z,N){var M=[],R;function V(fe){var re;return!!(fe&&!fe._visited&&(!N||N[(re=fe._winding||{}).winding]&&!(N.unite&&re.winding===2&&re.windingL&&re.windingR)))}function W(fe){if(fe){for(var re=0,ve=R.length;re<ve;re++)if(fe===R[re])return!0}return!1}function Z(fe){for(var re=fe._segments,ve=0,on=re.length;ve<on;ve++)re[ve]._visited=!0}function j(fe,re){var ve=fe._intersection,on=ve,en=[];re&&(R=[fe]);function nn(He,Re){for(;He&&He!==Re;){var Xe=He._segment,xn=Xe&&Xe._path;if(xn){var Ze=Xe.getNext()||xn.getFirstSegment(),Wn=Ze._intersection;Xe!==fe&&(W(Xe)||W(Ze)||Ze&&V(Xe)&&(V(Ze)||Wn&&V(Wn._segment)))&&en.push(Xe),re&&R.push(Xe)}He=He._next}}if(ve){for(nn(ve);ve&&ve._previous;)ve=ve._previous;nn(ve,on)}return en}z.sort(function(fe,re){var ve=fe._intersection,on=re._intersection,en=!!(ve&&ve._overlap),nn=!!(on&&on._overlap),He=fe._path,Re=re._path;return en^nn?en?1:-1:!ve^!on?ve?1:-1:He!==Re?He._id-Re._id:fe._index-re._index});for(var Q=0,et=z.length;Q<et;Q++){var it=z[Q],tt=V(it),rt=null,at=!1,_t=!0,vt=[],mt,Ot,kt;if(tt&&it._path._overlapsOnly){var zt=it._path,Qt=it._intersection._segment._path;zt.compare(Qt)&&(zt.getArea()&&M.push(zt.clone(!1)),Z(zt),Z(Qt),tt=!1)}for(;tt;){var Wt=!rt,Gt=j(it,Wt),Zt=Gt.shift(),at=!Wt&&(W(it)||W(Zt)),ee=!at&&Zt;if(Wt&&(rt=new Ft(dt.NO_INSERT),mt=null),at){(it.isFirst()||it.isLast())&&(_t=it._path._closed),it._visited=!0;break}if(ee&&mt&&(vt.push(mt),mt=null),mt||(ee&&Gt.push(it),mt={start:rt._segments.length,crossings:Gt,visited:Ot=[],handleIn:kt}),ee&&(it=Zt),!V(it)){rt.removeSegments(mt.start);for(var Jt=0,Ae=Ot.length;Jt<Ae;Jt++)Ot[Jt]._visited=!1;Ot.length=0;do it=mt&&mt.crossings.shift(),(!it||!it._path)&&(it=null,mt=vt.pop(),mt&&(Ot=mt.visited,kt=mt.handleIn));while(mt&&!V(it));if(!it)break}var ue=it.getNext();rt.add(new Ct(it._point,kt,ue&&it._handleOut)),it._visited=!0,Ot.push(it),it=ue||it._path.getFirstSegment(),kt=ue&&ue._handleIn}at&&(_t&&(rt.getFirstSegment().setHandleIn(kt),rt.setClosed(_t)),rt.getArea()!==0&&M.push(rt))}return M}return{_getWinding:function(z,N,M){return B(z,this.getCurves(),N,M)},unite:function(z,N){return w(this,z,"unite",N)},intersect:function(z,N){return w(this,z,"intersect",N)},subtract:function(z,N){return w(this,z,"subtract",N)},exclude:function(z,N){return w(this,z,"exclude",N)},divide:function(z,N){return N&&(N.trace==!1||N.stroke)?T(this,z,"divide"):m([this.subtract(z,N),this.intersect(z,N)],!0,this,z,N)},resolveCrossings:function(){var z=this._children,N=z||[this];function M(mt,Ot){var kt=mt&&mt._intersection;return kt&&kt._overlap&&kt._path===Ot}var R=!1,V=!1,W=this.getIntersections(null,function(mt){return mt.hasOverlap()&&(R=!0)||mt.isCrossing()&&(V=!0)}),Z=R&&V&&[];if(W=Vt.expand(W),R)for(var j=O(W,function(mt){return mt.hasOverlap()},Z),Q=j.length-1;Q>=0;Q--){var et=j[Q],it=et._path,tt=et._segment,rt=tt.getPrevious(),at=tt.getNext();M(rt,it)&&M(at,it)&&(tt.remove(),rt._handleOut._set(0,0),at._handleIn._set(0,0),rt!==tt&&!rt.getCurve().hasLength()&&(at._handleIn.set(rt._handleIn),rt.remove()))}V&&(O(W,R&&function(mt){var Ot=mt.getCurve(),kt=mt.getSegment(),zt=mt._intersection,Qt=zt._curve,Wt=zt._segment;if(Ot&&Qt&&Ot._path&&Qt._path)return!0;kt&&(kt._intersection=null),Wt&&(Wt._intersection=null)},Z),Z&&L(Z),N=Y(h.each(N,function(mt){h.push(this,mt._segments)},[])));var _t=N.length,vt;return _t>1&&z?(N!==z&&this.setChildren(N),vt=this):_t===1&&!z&&(N[0]!==this&&this.setSegments(N[0].removeSegments()),vt=this),vt||(vt=new ae(dt.NO_INSERT),vt.addChildren(N),vt=vt.reduce(),vt.copyAttributes(this),this.replaceWith(vt)),vt},reorient:function(z,N){var M=this._children;return M&&M.length?this.setChildren(I(this.removeChildren(),function(R){return!!(z?R:R&1)},N)):N!==i&&this.setClockwise(N),this},getInteriorPoint:function(){var z=this.getBounds(),N=z.getCenter(!0);if(!this.contains(N)){for(var M=this.getCurves(),R=N.y,V=[],W=[],Z=0,j=M.length;Z<j;Z++){var Q=M[Z].getValues(),et=Q[1],it=Q[3],tt=Q[5],rt=Q[7];if(R>=t(et,it,tt,rt)&&R<=r(et,it,tt,rt))for(var at=pt.getMonoCurves(Q),_t=0,vt=at.length;_t<vt;_t++){var mt=at[_t],Ot=mt[1],kt=mt[7];if(Ot!==kt&&(R>=Ot&&R<=kt||R>=kt&&R<=Ot)){var zt=R===Ot?mt[0]:R===kt?mt[6]:pt.solveCubic(mt,1,R,W,0,1)===1?pt.getPoint(mt,W[0]).x:(mt[0]+mt[6])/2;V.push(zt)}}}V.length>1&&(V.sort(function(Qt,Wt){return Qt-Wt}),N.x=(V[0]+V[1])/2)}return N}}});var he=h.extend({_class:"PathFlattener",initialize:function(t,r,a,f,d){var v=[],m=[],p=0,w=1/(a||32),T=t._segments,E=T[0],L;function I(Y,z){var N=pt.getValues(Y,z,d);v.push(N),O(N,Y._index,0,1)}function O(Y,z,N,M){if(M-N>w&&!(f&&pt.isStraight(Y))&&!pt.isFlatEnough(Y,r||.25)){var R=pt.subdivide(Y,.5),V=(N+M)/2;O(R[0],z,N,V),O(R[1],z,V,M)}else{var W=Y[6]-Y[0],Z=Y[7]-Y[1],j=Math.sqrt(W*W+Z*Z);j>0&&(p+=j,m.push({offset:p,curve:Y,index:z,time:M}))}}for(var B=1,q=T.length;B<q;B++)L=T[B],I(E,L),E=L;t._closed&&I(L||E,T[0]),this.curves=v,this.parts=m,this.length=p,this.index=0},_get:function(t){for(var r=this.parts,a=r.length,f,d=this.index;f=d,!(!d||r[--d].offset<t););for(;f<a;f++){var v=r[f];if(v.offset>=t){this.index=f;var m=r[f-1],p=m&&m.index===v.index?m.time:0,w=m?m.offset:0;return{index:v.index,time:p+(v.time-p)*(t-w)/(v.offset-w)}}}return{index:r[a-1].index,time:1}},drawPart:function(t,r,a){for(var f=this._get(r),d=this._get(a),v=f.index,m=d.index;v<=m;v++){var p=pt.getPart(this.curves[v],v===f.index?f.time:0,v===d.index?d.time:1);v===f.index&&t.moveTo(p[0],p[1]),t.bezierCurveTo.apply(t,p.slice(2))}}},h.each(pt._evaluateMethods,function(t){this[t+"At"]=function(r){var a=this._get(r);return pt[t](this.curves[a.index],a.time)}},{})),Me=h.extend({initialize:function(t){for(var r=this.points=[],a=t._segments,f=t._closed,d=0,v,m=a.length;d<m;d++){var p=a[d].point;(!v||!v.equals(p))&&r.push(v=p.clone())}f&&(r.unshift(r[r.length-1]),r.push(r[1])),this.closed=f},fit:function(t){var r=this.points,a=r.length,f=null;return a>0&&(f=[new Ct(r[0])],a>1&&(this.fitCubic(f,t,0,a-1,r[1].subtract(r[0]),r[a-2].subtract(r[a-1])),this.closed&&(f.shift(),f.pop()))),f},fitCubic:function(t,r,a,f,d,v){var m=this.points;if(f-a===1){var p=m[a],w=m[f],T=p.getDistance(w)/3;this.addCurve(t,[p,p.add(d.normalize(T)),w.add(v.normalize(T)),w]);return}for(var E=this.chordLengthParameterize(a,f),L=Math.max(r,r*r),I,O=!0,B=0;B<=4;B++){var q=this.generateBezier(a,f,E,d,v),Y=this.findMaxError(a,f,q,E);if(Y.error<r&&O){this.addCurve(t,q);return}if(I=Y.index,Y.error>=L)break;O=this.reparameterize(a,f,E,q),L=Y.error}var z=m[I-1].subtract(m[I+1]);this.fitCubic(t,r,a,I,d,z),this.fitCubic(t,r,I,f,z.negate(),v)},addCurve:function(t,r){var a=t[t.length-1];a.setHandleOut(r[1].subtract(r[0])),t.push(new Ct(r[3],r[2].subtract(r[3])))},generateBezier:function(t,r,a,f,d){for(var v=1e-12,m=Math.abs,p=this.points,w=p[t],T=p[r],E=[[0,0],[0,0]],L=[0,0],I=0,O=r-t+1;I<O;I++){var B=a[I],q=1-B,Y=3*B*q,z=q*q*q,N=Y*q,M=Y*B,R=B*B*B,V=f.normalize(N),W=d.normalize(M),Z=p[t+I].subtract(w.multiply(z+N)).subtract(T.multiply(M+R));E[0][0]+=V.dot(V),E[0][1]+=V.dot(W),E[1][0]=E[0][1],E[1][1]+=W.dot(W),L[0]+=V.dot(Z),L[1]+=W.dot(Z)}var j=E[0][0]*E[1][1]-E[1][0]*E[0][1],Q,et;if(m(j)>v){var it=E[0][0]*L[1]-E[1][0]*L[0],tt=L[0]*E[1][1]-L[1]*E[0][1];Q=tt/j,et=it/j}else{var rt=E[0][0]+E[0][1],at=E[1][0]+E[1][1];Q=et=m(rt)>v?L[0]/rt:m(at)>v?L[1]/at:0}var _t=T.getDistance(w),vt=v*_t,mt,Ot;if(Q<vt||et<vt)Q=et=_t/3;else{var kt=T.subtract(w);mt=f.normalize(Q),Ot=d.normalize(et),mt.dot(kt)-Ot.dot(kt)>_t*_t&&(Q=et=_t/3,mt=Ot=null)}return[w,w.add(mt||f.normalize(Q)),T.add(Ot||d.normalize(et)),T]},reparameterize:function(t,r,a,f){for(var d=t;d<=r;d++)a[d-t]=this.findRoot(f,this.points[d],a[d-t]);for(var d=1,v=a.length;d<v;d++)if(a[d]<=a[d-1])return!1;return!0},findRoot:function(t,r,a){for(var f=[],d=[],v=0;v<=2;v++)f[v]=t[v+1].subtract(t[v]).multiply(3);for(var v=0;v<=1;v++)d[v]=f[v+1].subtract(f[v]).multiply(2);var m=this.evaluate(3,t,a),p=this.evaluate(2,f,a),w=this.evaluate(1,d,a),T=m.subtract(r),E=p.dot(p)+T.dot(w);return A.isMachineZero(E)?a:a-T.dot(p)/E},evaluate:function(t,r,a){for(var f=r.slice(),d=1;d<=t;d++)for(var v=0;v<=t-d;v++)f[v]=f[v].multiply(1-a).add(f[v+1].multiply(a));return f[0]},chordLengthParameterize:function(t,r){for(var a=[0],f=t+1;f<=r;f++)a[f-t]=a[f-t-1]+this.points[f].getDistance(this.points[f-1]);for(var f=1,d=r-t;f<=d;f++)a[f]/=a[d];return a},findMaxError:function(t,r,a,f){for(var d=Math.floor((r-t+1)/2),v=0,m=t+1;m<r;m++){var p=this.evaluate(3,a,f[m-t]),w=p.subtract(this.points[m]),T=w.x*w.x+w.y*w.y;T>=v&&(v=T,d=m)}return{error:v,index:d}}}),tn=dt.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(r){this._content="",this._lines=[];var a=r&&h.isPlainObject(r)&&r.x===i&&r.y===i;this._initialize(a&&r,!a&&y.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),me=tn.extend({_class:"PointText",initialize:function(){tn.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new D(t.x,t.y,this,"setPoint")},setPoint:function(){var t=y.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,r,a){if(this._content){this._setStyles(t,r,a);var f=this._lines,d=this._style,v=d.hasFill(),m=d.hasStroke(),p=d.getLeading(),w=t.shadowColor;t.font=d.getFontStyle(),t.textAlign=d.getJustification();for(var T=0,E=f.length;T<E;T++){t.shadowColor=w;var L=f[T];v&&(t.fillText(L,0,0),t.shadowColor="rgba(0,0,0,0)"),m&&t.strokeText(L,0,0),t.translate(0,p)}}},_getBounds:function(t,r){var a=this._style,f=this._lines,d=f.length,v=a.getJustification(),m=a.getLeading(),p=this.getView().getTextWidth(a.getFontStyle(),f),w=0;v!=="left"&&(w-=p/(v==="center"?2:1));var T=new $(w,d?-.75*m:0,p,d*m);return t?t._transformBounds(T,T):T}}),oe=h.extend(new function(){var t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},r={},a={transparent:[0,0,0,0]},f;function d(p){var w=p.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||p.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),T="rgb",E;if(w){var L=w[4]?4:3;E=new Array(L);for(var I=0;I<L;I++){var O=w[I+1];E[I]=parseInt(O.length==1?O+O:O,16)/255}}else if(w=p.match(/^(rgb|hsl)a?\((.*)\)$/)){T=w[1],E=w[2].trim().split(/[,\s]+/g);for(var B=T==="hsl",I=0,q=Math.min(E.length,4);I<q;I++){var Y=E[I],O=parseFloat(Y);if(B)if(I===0){var z=Y.match(/([a-z]*)$/)[1];O*={turn:360,rad:180/Math.PI,grad:.9}[z]||1}else I<3&&(O/=100);else I<3&&(O/=/%$/.test(Y)?100:255);E[I]=O}}else{var N=a[p];if(!N)if(o){f||(f=De.getContext(1,1,{willReadFrequently:!0}),f.globalCompositeOperation="copy"),f.fillStyle="rgba(0,0,0,0)",f.fillStyle=p,f.fillRect(0,0,1,1);var M=f.getImageData(0,0,1,1).data;N=a[p]=[M[0]/255,M[1]/255,M[2]/255]}else N=[0,0,0];E=N.slice()}return[T,E]}var v=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],m={"rgb-hsb":function(p,w,T){var E=Math.max(p,w,T),L=Math.min(p,w,T),I=E-L,O=I===0?0:(E==p?(w-T)/I+(w<T?6:0):E==w?(T-p)/I+2:(p-w)/I+4)*60;return[O,E===0?0:I/E,E]},"hsb-rgb":function(p,w,T){p=(p/60%6+6)%6;var L=Math.floor(p),E=p-L,L=v[L],I=[T,T*(1-w),T*(1-w*E),T*(1-w*(1-E))];return[I[L[0]],I[L[1]],I[L[2]]]},"rgb-hsl":function(p,w,T){var E=Math.max(p,w,T),L=Math.min(p,w,T),I=E-L,O=I===0,B=O?0:(E==p?(w-T)/I+(w<T?6:0):E==w?(T-p)/I+2:(p-w)/I+4)*60,q=(E+L)/2,Y=O?0:q<.5?I/(E+L):I/(2-E-L);return[B,Y,q]},"hsl-rgb":function(p,w,T){if(p=(p/360%1+1)%1,w===0)return[T,T,T];for(var E=[p+1/3,p,p-1/3],L=T<.5?T*(1+w):T+w-T*w,I=2*T-L,O=[],B=0;B<3;B++){var q=E[B];q<0&&(q+=1),q>1&&(q-=1),O[B]=6*q<1?I+(L-I)*6*q:2*q<1?L:3*q<2?I+(L-I)*(2/3-q)*6:I}return O},"rgb-gray":function(p,w,T){return[p*.2989+w*.587+T*.114]},"gray-rgb":function(p){return[p,p,p]},"gray-hsb":function(p){return[0,0,p]},"gray-hsl":function(p){return[0,0,p]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return h.each(t,function(p,w){r[w]=[],h.each(p,function(T,E){var L=h.capitalize(T),I=/^(hue|saturation)$/.test(T),O=r[w][E]=w==="gradient"?T==="gradient"?function(B){var q=this._components[0];return B=$e.read(Array.isArray(B)?B:arguments,0,{readNull:!0}),q!==B&&(q&&q._removeOwner(this),B&&B._addOwner(this)),B}:function(){return y.read(arguments,0,{readNull:T==="highlight",clone:!0})}:function(B){return B==null||isNaN(B)?0:+B};this["get"+L]=function(){return this._type===w||I&&/^hs[bl]$/.test(this._type)?this._components[E]:this._convert(w)[E]},this["set"+L]=function(B){this._type!==w&&!(I&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(w),this._properties=t[w],this._type=w),this._components[E]=O.call(this,B),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function p(w){var T=arguments,E=this.__read,L=0,I,O,B,q;Array.isArray(w)&&(T=w,w=T[0]);var Y=w!=null&&typeof w;if(Y==="string"&&w in t&&(I=w,w=T[1],Array.isArray(w)?(O=w,B=T[2]):(E&&(L=1),T=h.slice(T,1),Y=typeof w)),!O){if(q=Y==="number"?T:Y==="object"&&w.length!=null?w:null,q){I||(I=q.length>=3?"rgb":"gray");var z=t[I].length;B=q[z],E&&(L+=q===arguments?z+(B!=null?1:0):1),q.length>z&&(q=h.slice(q,0,z))}else if(Y==="string"){var N=d(w);I=N[0],O=N[1],O.length===4&&(B=O[3],O.length--)}else if(Y==="object")if(w.constructor===p){if(I=w._type,O=w._components.slice(),B=w._alpha,I==="gradient")for(var M=1,R=O.length;M<R;M++){var V=O[M];V&&(O[M]=V.clone())}}else if(w.constructor===$e)I="gradient",q=T;else{I="hue"in w?"lightness"in w?"hsl":"hsb":"gradient"in w||"stops"in w||"radial"in w?"gradient":"gray"in w?"gray":"rgb";var W=t[I],Z=r[I];this._components=O=[];for(var M=0,R=W.length;M<R;M++){var j=w[W[M]];j==null&&!M&&I==="gradient"&&"stops"in w&&(j={stops:w.stops,radial:w.radial}),j=Z[M].call(this,j),j!=null&&(O[M]=j)}B=w.alpha}E&&I&&(L=1)}if(this._type=I||"rgb",!O){this._components=O=[];for(var Z=r[this._type],M=0,R=Z.length;M<R;M++){var j=Z[M].call(this,q&&q[M]);j!=null&&(O[M]=j)}}return this._components=O,this._properties=t[this._type],this._alpha=B,E&&(this.__read=L),this},set:"#initialize",_serialize:function(p,w){var T=this.getComponents();return h.serialize(/^(gray|rgb)$/.test(this._type)?T:[this._type].concat(T),p,!0,w)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(p){var w;return this._type===p?this._components.slice():(w=m[this._type+"-"+p])?w.apply(this,this._components):m["rgb-"+p].apply(this,m[this._type+"-rgb"].apply(this,this._components))},convert:function(p){return new oe(p,this._convert(p),this._alpha)},getType:function(){return this._type},setType:function(p){this._components=this._convert(p),this._properties=t[p],this._type=p},getComponents:function(){var p=this._components.slice();return this._alpha!=null&&p.push(this._alpha),p},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(p){this._alpha=p==null?null:Math.min(Math.max(p,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(p){var w=h.isPlainValue(p,!0)?oe.read(arguments):p;return w===this||w&&this._class===w._class&&this._type===w._type&&this.getAlpha()===w.getAlpha()&&h.equals(this._components,w._components)||!1},toString:function(){for(var p=this._properties,w=[],T=this._type==="gradient",E=S.instance,L=0,I=p.length;L<I;L++){var O=this._components[L];O!=null&&w.push(p[L]+": "+(T?O:E.number(O)))}return this._alpha!=null&&w.push("alpha: "+E.number(this._alpha)),"{ "+w.join(", ")+" }"},toCSS:function(p){var w=this._convert("rgb"),T=p||this._alpha==null?1:this._alpha;function E(L){return Math.round((L<0?0:L>1?1:L)*255)}return w=[E(w[0]),E(w[1]),E(w[2])],T<1&&w.push(T<0?0:T),p?"#"+((1<<24)+(w[0]<<16)+(w[1]<<8)+w[2]).toString(16).slice(1):(w.length==4?"rgba(":"rgb(")+w.join(",")+")"},toCanvasStyle:function(p,w){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var T=this._components,E=T[0],L=E._stops,I=T[1],O=T[2],B=T[3],q=w&&w.inverted(),Y;if(q&&(I=q._transformPoint(I),O=q._transformPoint(O),B&&(B=q._transformPoint(B))),E._radial){var z=O.getDistance(I);if(B){var N=B.subtract(I);N.getLength()>z&&(B=I.add(N.normalize(z-.1)))}var M=B||I;Y=p.createRadialGradient(M.x,M.y,0,I.x,I.y,z)}else Y=p.createLinearGradient(I.x,I.y,O.x,O.y);for(var R=0,V=L.length;R<V;R++){var W=L[R],Z=W._offset;Y.addColorStop(Z??R/(V-1),W._color.toCanvasStyle())}return this._canvasStyle=Y},transform:function(p){if(this._type==="gradient"){for(var w=this._components,T=1,E=w.length;T<E;T++){var L=w[T];p._transformPoint(L,L,!0)}this._changed()}},statics:{_types:t,random:function(){var p=Math.random;return new oe(p(),p(),p())},_setOwner:function(p,w,T){return p&&(p._owner&&w&&p._owner!==w&&(p=p.clone()),!p._owner^!w&&(p._owner=w||null,p._setter=T||null)),p}}})},new function(){var t={add:function(r,a){return r+a},subtract:function(r,a){return r-a},multiply:function(r,a){return r*a},divide:function(r,a){return r/a}};return h.each(t,function(r,a){this[a]=function(f){f=oe.read(arguments);for(var d=this._type,v=this._components,m=f._convert(d),p=0,w=v.length;p<w;p++)m[p]=r(v[p],m[p]);return new oe(d,m,this._alpha!=null?r(this._alpha,f.getAlpha()):null)}},{})}),$e=h.extend({_class:"Gradient",initialize:function(r,a){this._id=k.get(),r&&h.isPlainObject(r)&&(this.set(r),r=a=null),this._stops==null&&this.setStops(r||["white","black"]),this._radial==null&&this.setRadial(typeof a=="string"&&a==="radial"||a||!1)},_serialize:function(t,r){return r.add(this,function(){return h.serialize([this._stops,this._radial],t,!0,r)})},_changed:function(){for(var t=0,r=this._owners&&this._owners.length;t<r;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var r=this._owners?this._owners.indexOf(t):-1;r!=-1&&(this._owners.splice(r,1),this._owners.length||(this._owners=i))},clone:function(){for(var t=[],r=0,a=this._stops.length;r<a;r++)t[r]=this._stops[r].clone();return new $e(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var r=this._stops;if(r)for(var a=0,f=r.length;a<f;a++)r[a]._owner=i;r=this._stops=Jn.readList(t,0,{clone:!0});for(var a=0,f=r.length;a<f;a++)r[a]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var r=this._stops,a=t._stops,f=r.length;if(f===a.length){for(var d=0;d<f;d++)if(!r[d].equals(a[d]))return!1;return!0}}return!1}}),Jn=h.extend({_class:"GradientStop",initialize:function(r,a){var f=r,d=a;typeof r=="object"&&a===i&&(Array.isArray(r)&&typeof r[0]!="number"?(f=r[0],d=r[1]):("color"in r||"offset"in r||"rampPoint"in r)&&(f=r.color,d=r.offset||r.rampPoint||0)),this.setColor(f),this.setOffset(d)},clone:function(){return new Jn(this._color.clone(),this._offset)},_serialize:function(t,r){var a=this._color,f=this._offset;return h.serialize(f==null?[a]:[a,f],t,!0,r)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){oe._setOwner(this._color,null),this._color=oe._setOwner(oe.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),At=h.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new y,selectedColor:null},r=h.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),a=h.set({},r,{fillColor:new oe}),f={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},d={beans:!0},v={_class:"Style",beans:!0,initialize:function(p,w,T){this._values={},this._owner=w,this._project=w&&w._project||T||ce.project,this._defaults=!w||w instanceof ft?r:w instanceof tn?a:t,p&&this.set(p)}};return h.each(r,function(m,p){var w=/Color$/.test(p),T=p==="shadowOffset",E=h.capitalize(p),L=f[p],I="set"+E,O="get"+E;v[I]=function(B){var q=this._owner,Y=q&&q._children,z=Y&&Y.length>0&&!(q instanceof ae);if(z)for(var N=0,M=Y.length;N<M;N++)Y[N]._style[I](B);if((p==="selectedColor"||!z)&&p in this._defaults){var R=this._values[p];R!==B&&(w&&(R&&(oe._setOwner(R,null),R._canvasStyle=null),B&&B.constructor===oe&&(B=oe._setOwner(B,q,z&&I))),this._values[p]=B,q&&q._changed(L||129))}},v[O]=function(B){var q=this._owner,Y=q&&q._children,z=Y&&Y.length>0&&!(q instanceof ae),N;if(z&&!B)for(var M=0,R=Y.length;M<R;M++){var V=Y[M]._style[O]();if(!M)N=V;else if(!h.equals(N,V))return i}else if(p in this._defaults){var N=this._values[p];if(N===i)N=this._defaults[p],N&&N.clone&&(N=N.clone());else{var W=w?oe:T?y:null;W&&!(N&&N.constructor===W)&&(this._values[p]=N=W.read([N],0,{readNull:!0,clone:!0}))}}return N&&w&&(N=oe._setOwner(N,q,z&&I)),N},d[O]=function(B){return this._style[O](B)},d[I]=function(B){this._style[I](B)}}),h.each({Font:"FontFamily",WindingRule:"FillRule"},function(m,p){var w="get"+p,T="set"+p;v[w]=d[w]="#get"+m,v[T]=d[T]="#set"+m}),dt.inject(d),v},{set:function(t){var r=t instanceof At,a=r?t._values:t;if(a){for(var f in a)if(f in this._defaults){var d=a[f];this[f]=d&&r&&d.clone?d.clone():d}}},equals:function(t){function r(a,f,d){var v=a._values,m=f._values,p=f._defaults;for(var w in v){var T=v[w],E=m[w];if(!(d&&w in m)&&!h.equals(T,E===i?p[w]:E))return!1}return!0}return t===this||t&&this._class===t._class&&r(this,t)&&r(t,this,!0)||!1},_dispose:function(){var t;t=this.getFillColor(),t&&(t._canvasStyle=null),t=this.getStrokeColor(),t&&(t._canvasStyle=null),t=this.getShadowColor(),t&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var r=t.base.call(this),a=this.getFontSize();return/pt|em|%|px/.test(a)&&(a=this.getView().getPixelSize(a)),r??a*1.2}}),bt=new function(){function t(r,a,f,d){for(var v=["","webkit","moz","Moz","ms","o"],m=a[0].toUpperCase()+a.substring(1),p=0;p<6;p++){var w=v[p],T=w?w+m:a;if(T in r){if(f)r[T]=d;else return r[T];break}}}return{getStyles:function(r){var a=r&&r.nodeType!==9?r.ownerDocument:r,f=a&&a.defaultView;return f&&f.getComputedStyle(r,"")},getBounds:function(r,a){var f=r.ownerDocument,d=f.body,v=f.documentElement,m;try{m=r.getBoundingClientRect()}catch{m={left:0,top:0,width:0,height:0}}var p=m.left-(v.clientLeft||d.clientLeft||0),w=m.top-(v.clientTop||d.clientTop||0);if(!a){var T=f.defaultView;p+=T.pageXOffset||v.scrollLeft||d.scrollLeft,w+=T.pageYOffset||v.scrollTop||d.scrollTop}return new $(p,w,m.width,m.height)},getViewportBounds:function(r){var a=r.ownerDocument,f=a.defaultView,d=a.documentElement;return new $(0,0,f.innerWidth||d.clientWidth,f.innerHeight||d.clientHeight)},getOffset:function(r,a){return bt.getBounds(r,a).getPoint()},getSize:function(r){return bt.getBounds(r,!0).getSize()},isInvisible:function(r){return bt.getSize(r).equals(new C(0,0))},isInView:function(r){return!bt.isInvisible(r)&&bt.getViewportBounds(r).intersects(bt.getBounds(r,!0))},isInserted:function(r){return l.body.contains(r)},getPrefixed:function(r,a){return r&&t(r,a)},setPrefixed:function(r,a,f){if(typeof a=="object")for(var d in a)t(r,d,!0,a[d]);else t(r,a,!0,f)}}},Dt={add:function(t,r){if(t)for(var a in r)for(var f=r[a],d=a.split(/[\s,]+/g),v=0,m=d.length;v<m;v++){var p=d[v],w=t===l&&(p==="touchstart"||p==="touchmove")?{passive:!1}:!1;t.addEventListener(p,f,w)}},remove:function(t,r){if(t)for(var a in r)for(var f=r[a],d=a.split(/[\s,]+/g),v=0,m=d.length;v<m;v++)t.removeEventListener(d[v],f,!1)},getPoint:function(t){var r=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new y(r.pageX||r.clientX+l.documentElement.scrollLeft,r.pageY||r.clientY+l.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,r){return Dt.getPoint(t).subtract(bt.getOffset(r||Dt.getTarget(t)))}};Dt.requestAnimationFrame=new function(){var t=bt.getPrefixed(o,"requestAnimationFrame"),r=!1,a=[],f;function d(){var v=a;a=[];for(var m=0,p=v.length;m<p;m++)v[m]();r=t&&a.length,r&&t(d)}return function(v){a.push(v),t?r||(t(d),r=!0):f||(f=setInterval(d,1e3/60))}};var Nt=h.extend(c,{_class:"View",initialize:function t(r,a){function f(L){return a[L]||parseInt(a.getAttribute(L),10)}function d(){var L=bt.getSize(a);return L.isNaN()||L.isZero()?new C(f("width"),f("height")):L}var v;if(o&&a){this._id=a.getAttribute("id"),this._id==null&&a.setAttribute("id",this._id="paper-view-"+t._id++),Dt.add(a,this._viewEvents);var m="none";if(bt.setPrefixed(a.style,{userDrag:m,userSelect:m,touchCallout:m,contentZooming:m,tapHighlightColor:"rgba(0,0,0,0)"}),g.hasAttribute(a,"resize")){var p=this;Dt.add(o,this._windowEvents={resize:function(){p.setViewSize(d())}})}if(v=d(),g.hasAttribute(a,"stats")&&typeof Stats<"u"){this._stats=new Stats;var w=this._stats.domElement,T=w.style,E=bt.getOffset(a);T.position="absolute",T.left=E.x+"px",T.top=E.y+"px",l.body.appendChild(w)}}else v=new C(a),a=null;this._project=r,this._scope=r._scope,this._element=a,this._pixelRatio||(this._pixelRatio=o&&o.devicePixelRatio||1),this._setElementSize(v.width,v.height),this._viewSize=v,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new J)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!ce.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Nt._focused===this&&(Nt._focused=null),Nt._views.splice(Nt._views.indexOf(this),1),delete Nt._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),Dt.remove(this._element,this._viewEvents),Dt.remove(o,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:h.each(dt._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;Dt.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var r=t._element;(!bt.getPrefixed(l,"hidden")||g.getAttribute(r,"keepalive")==="true")&&bt.isInView(r)&&t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){ce=this._scope;var t=Date.now()/1e3,r=this._last?t-this._last:0;this._last=t,this.emit("frame",new h({delta:r,time:this._time+=r,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,r){var a=this._frameItems;r?(a[t._id]={item:t,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete a[t._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var r in this._frameItems){var a=this._frameItems[r];a.item.emit("frame",new h(t,{time:a.time+=t.delta,count:a.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=i},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var t=this._viewSize;return new U(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=C.read(arguments),r=t.subtract(this._viewSize);r.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:r}),this._autoUpdate&&this.update())},_setElementSize:function(t,r){var a=this._element;a&&(a.width!==t&&(a.width=t),a.height!==r&&(a.height=r))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new $(new y,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return bt.isInView(this._element)},isInserted:function(){return bt.isInserted(this._element)},getPixelSize:function(t){var r=this._element,a;if(r){var f=r.parentNode,d=l.createElement("div");d.style.fontSize=t,f.appendChild(d),a=parseFloat(bt.getStyles(d).fontSize),f.removeChild(d)}else a=parseFloat(a);return a},getTextWidth:function(t,r){return 0}},h.each(["rotate","scale","shear","skew"],function(t){var r=t==="rotate";this[t]=function(){var a=arguments,f=(r?h:y).read(a),d=y.read(a,0,{readNull:!0});return this.transform(new J()[t](f,d||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new J;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=y.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform(new J().scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var r=this.getRotation();r!=null&&t!=null&&this.rotate(t-r)},getScaling:function(){var t=this._decompose().scaling;return new D(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),r=y.read(arguments,0,{clone:!0,readNull:!0});t&&r&&this.scale(r.x/t.x,r.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(y.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(y.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(y.read(arguments))},getEventPoint:function(t){return this.viewToProject(Dt.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,r){l&&typeof r=="string"&&(r=l.getElementById(r));var a=o?jt:Nt;return new a(t,r)}}},new function(){if(!o)return;var t,r,a=!1,f=!1;function d(tt){var rt=Dt.getTarget(tt);return rt.getAttribute&&Nt._viewsById[rt.getAttribute("id")]}function v(){var tt=Nt._focused;if(!tt||!tt.isVisible()){for(var rt=0,at=Nt._views.length;rt<at;rt++)if((tt=Nt._views[rt]).isVisible()){Nt._focused=r=tt;break}}}function m(tt,rt,at){tt._handleMouseEvent("mousemove",rt,at)}var p=o.navigator,w,T,E;p.pointerEnabled||p.msPointerEnabled?(w="pointerdown MSPointerDown",T="pointermove MSPointerMove",E="pointerup pointercancel MSPointerUp MSPointerCancel"):(w="touchstart",T="touchmove",E="touchend touchcancel","ontouchstart"in o&&p.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(w+=" mousedown",T+=" mousemove",E+=" mouseup"));var L={},I={mouseout:function(tt){var rt=Nt._focused,at=Dt.getRelatedTarget(tt);if(rt&&(!at||at.nodeName==="HTML")){var _t=Dt.getOffset(tt,rt._element),vt=_t.x,mt=Math.abs,Ot=mt(vt),kt=1<<25,zt=Ot-kt;_t.x=mt(zt)<Ot?zt*(vt<0?-1:1):vt,m(rt,tt,rt.viewToProject(_t))}},scroll:v};L[w]=function(tt){var rt=Nt._focused=d(tt);a||(a=!0,rt._handleMouseEvent("mousedown",tt))},I[T]=function(tt){var rt=Nt._focused;if(!f){var at=d(tt);at?rt!==at&&(rt&&m(rt,tt),t||(t=rt),rt=Nt._focused=r=at):r&&r===rt&&(t&&!t.isInserted()&&(t=null),rt=Nt._focused=t,t=null,v())}rt&&m(rt,tt)},I[w]=function(){f=!0},I[E]=function(tt){var rt=Nt._focused;rt&&a&&rt._handleMouseEvent("mouseup",tt),f=a=!1},Dt.add(l,I),Dt.add(o,{load:v});var O=!1,B=!1,q={doubleclick:"click",mousedrag:"mousemove"},Y=!1,z,N,M,R,V,W,Z,j;function Q(tt,rt,at,_t,vt,mt,Ot){var kt=!1,zt;function Qt(Wt,Gt){if(Wt.responds(Gt)){if(zt||(zt=new Ce(Gt,_t,vt,rt||Wt,mt?vt.subtract(mt):null)),Wt.emit(Gt,zt)&&(O=!0,zt.prevented&&(B=!0),zt.stopped))return kt=!0}else{var Zt=q[Gt];if(Zt)return Qt(Wt,Zt)}}for(;tt&&tt!==Ot&&!Qt(tt,at);)tt=tt._parent;return kt}function et(tt,rt,at,_t,vt,mt){return tt._project.removeOn(at),B=O=!1,V&&Q(V,null,at,_t,vt,mt)||rt&&rt!==V&&!rt.isDescendant(V)&&Q(rt,null,at==="mousedrag"?"mousemove":at,_t,vt,mt,V)||Q(tt,V||rt||tt,at,_t,vt,mt)}var it={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:L,_handleMouseEvent:function(tt,rt,at){var _t=this._itemEvents,vt=_t.native[tt],mt=tt==="mousemove",Ot=this._scope.tool,kt=this;function zt(Ae){return _t.virtual[Ae]||kt.responds(Ae)||Ot&&Ot.responds(Ae)}mt&&a&&zt("mousedrag")&&(tt="mousedrag"),at||(at=this.getEventPoint(rt));var Qt=this.getBounds().contains(at),Wt=vt&&Qt&&kt._project.hitTest(at,{tolerance:0,fill:!0,stroke:!0}),Gt=Wt&&Wt.item||null,Zt=!1,ee={};if(ee[tt.substr(5)]=!0,vt&&Gt!==R&&(R&&Q(R,null,"mouseleave",rt,at),Gt&&Q(Gt,null,"mouseenter",rt,at),R=Gt),Y^Qt&&(Q(this,null,Qt?"mouseenter":"mouseleave",rt,at),Zt=!0),(Qt||ee.drag)&&!at.equals(N)&&(et(this,Gt,mt?tt:"mousemove",rt,at,N),Zt=!0),Y=Qt,ee.down&&Qt||ee.up&&z){if(et(this,Gt,tt,rt,at,z),ee.down){if(j=Gt===W&&Date.now()-Z<300,M=W=Gt,!B&&Gt){for(var Jt=Gt;Jt&&!Jt.responds("mousedrag");)Jt=Jt._parent;Jt&&(V=Gt)}z=at}else ee.up&&(!B&&Gt===M&&(Z=Date.now(),et(this,Gt,j?"doubleclick":"click",rt,at,z),j=!1),M=V=null);Y=!1,Zt=!0}N=at,Zt&&Ot&&(O=Ot._handleMouseEvent(tt,rt,at,ee)||O),rt.cancelable!==!1&&(O&&!ee.move||ee.down&&zt("mouseup"))&&rt.preventDefault()},_handleKeyEvent:function(tt,rt,at,_t){var vt=this._scope,mt=vt.tool,Ot;function kt(zt){zt.responds(tt)&&(ce=vt,zt.emit(tt,Ot=Ot||new ke(tt,rt,at,_t)))}this.isVisible()&&(kt(this),mt&&mt.responds(tt)&&kt(mt))},_countItemEvent:function(tt,rt){var at=this._itemEvents,_t=at.native,vt=at.virtual;for(var mt in it)_t[mt]=(_t[mt]||0)+(it[mt][tt]||0)*rt;vt[tt]=(vt[tt]||0)+rt},statics:{updateFocus:v,_resetState:function(){a=f=O=Y=!1,t=r=z=N=M=R=V=W=Z=j=null}}}}),jt=Nt.extend({_class:"CanvasView",initialize:function(r,a){if(!(a instanceof o.HTMLCanvasElement)){var f=C.read(arguments,1);if(f.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+h.slice(arguments,1));a=De.getCanvas(f)}var d=this._context=a.getContext("2d");if(d.save(),this._pixelRatio=1,!/^off|false$/.test(g.getAttribute(a,"hidpi"))){var v=o.devicePixelRatio||1,m=bt.getPrefixed(d,"backingStorePixelRatio")||1;this._pixelRatio=v/m}Nt.call(this,r,a),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(r,a){var f=this._pixelRatio;if(t.base.call(this,r*f,a*f),f!==1){var d=this._element,v=this._context;if(!g.hasAttribute(d,"resize")){var m=d.style;m.width=r+"px",m.height=a+"px"}v.restore(),v.save(),v.scale(f,f)}},getContext:function(){return this._context},getPixelSize:function t(r){var a=ce.agent,f;if(a&&a.firefox)f=t.base.call(this,r);else{var d=this._context,v=d.font;d.font=r+" serif",f=parseFloat(d.font),d.font=v}return f},getTextWidth:function(t,r){var a=this._context,f=a.font,d=0;a.font=t;for(var v=0,m=r.length;v<m;v++)d=Math.max(d,a.measureText(r[v]).width);return a.font=f,d},update:function(){if(!this._needsUpdate)return!1;var t=this._project,r=this._context,a=this._viewSize;return r.clearRect(0,0,a.width+1,a.height+1),t&&t.draw(r,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),be=h.extend({_class:"Event",initialize:function(r){this.event=r,this.type=r&&r.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Ye.modifiers}}),ke=be.extend({_class:"KeyEvent",initialize:function(r,a,f,d){this.type=r,this.event=a,this.key=f,this.character=d},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Ye=new function(){var t={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},r={tab:"	",space:" ",enter:"\r"},a={},f={},d,v,m=new h({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var T=ce&&ce.agent;return T&&T.mac?this.meta:this.control}}});function p(T){var E=T.key||T.keyIdentifier;return E=/^U\+/.test(E)?String.fromCharCode(parseInt(E.substr(2),16)):/^Arrow[A-Z]/.test(E)?E.substr(5):E==="Unidentified"||E===i?String.fromCharCode(T.keyCode):E,t[E]||(E.length>1?h.hyphenate(E):E.toLowerCase())}function w(T,E,L,I){var O=Nt._focused,B;if(a[E]=T,T?f[E]=L:delete f[E],E.length>1&&(B=h.camelize(E))in m){m[B]=T;var q=ce&&ce.agent;if(B==="meta"&&q&&q.mac)if(T)d={};else{for(var Y in d)Y in f&&w(!1,Y,d[Y],I);d=null}}else T&&d&&(d[E]=L);O&&O._handleKeyEvent(T?"keydown":"keyup",I,E,L)}return Dt.add(l,{keydown:function(T){var E=p(T),L=ce&&ce.agent;E.length>1||L&&L.chrome&&(T.altKey||L.mac&&T.metaKey||!L.mac&&T.ctrlKey)?w(!0,E,r[E]||(E.length>1?"":E),T):v=E},keypress:function(T){if(v){var E=p(T),L=T.charCode,I=L>=32?String.fromCharCode(L):E.length>1?"":E;E!==v&&(E=I.toLowerCase()),w(!0,E,I,T),v=null}},keyup:function(T){var E=p(T);E in f&&w(!1,E,f[E],T)}}),Dt.add(o,{blur:function(T){for(var E in f)w(!1,E,f[E],T)}}),{modifiers:m,isDown:function(T){return!!a[T]}}},Ce=be.extend({_class:"MouseEvent",initialize:function(r,a,f,d,v){this.type=r,this.event=a,this.point=f,this.target=d,this.delta=v},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Te=be.extend({_class:"ToolEvent",_item:null,initialize:function(r,a,f){this.tool=r,this.type=a,this.event=f},_choosePoint:function(t,r){return t||(r?r.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var r=t.item,a=r._parent;/^(Group|CompoundPath)$/.test(a._class);)r=a,a=a._parent;this._item=r}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}});b.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(r){b.call(this),this._moveCount=-1,this._downCount=-1,this.set(r)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,t!=null&&this._maxDistance!=null&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,this._minDistance!=null&&t!=null&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,r,a,f){ce=this._scope,f.drag&&!this.responds(t)&&(t="mousemove");var d=f.move||f.drag,v=this.responds(t),m=!1,p=this;function w(E,L){var I=a,O=d?p._point:p._downPoint||I;if(d){if(p._moveCount>=0&&I.equals(O))return!1;if(O&&(E!=null||L!=null)){var B=I.subtract(O),q=B.getLength();if(q<(E||0))return!1;L&&(I=O.add(B.normalize(Math.min(q,L))))}p._moveCount++}return p._point=I,p._lastPoint=O||I,f.down&&(p._moveCount=-1,p._downPoint=I,p._downCount++),!0}function T(){v&&(m=p.emit(t,new Te(p,t,r))||m)}if(f.down)w(),T();else if(f.up)w(null,this._maxDistance),T();else if(v)for(;w(this._minDistance,this._maxDistance);)T();return m}});var kn=h.extend(c,{_class:"Tween",statics:{easings:new h({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+2*(2-t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(r,a,f,d,v,m){this.object=r;var p=typeof v,w=p==="function";this.type=w?p:p==="string"?v:"linear",this.easing=w?v:t.easings[this.type],this.duration=d,this.running=!1,this._then=null,this._startTime=null;var T=a||f;this._keys=T?Object.keys(T):[],this._parsedKeys=this._parseKeys(this._keys),this._from=T&&this._getState(a),this._to=T&&this._getState(f),m!==!1&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var r=this.easing(t),a=this._keys,f=function(E){return typeof E=="function"?E(r,t):E},d=0,v=a&&a.length;d<v;d++){var m=a[d],p=f(this._from[m]),w=f(this._to[m]),T=p&&w&&p.__add&&w.__add?w.__subtract(p).__multiply(r).__add(p):(w-p)*r+p;this._setProperty(this._parsedKeys[m],T)}this.responds("update")&&this.emit("update",new h({progress:t,factor:r})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var r=this._startTime,a=r?(t-r)/this.duration:0;r||(this._startTime=t),this.update(a)},_getState:function(t){for(var r=this._keys,a={},f=0,d=r.length;f<d;f++){var v=r[f],m=this._parsedKeys[v],p=this._getProperty(m),w;if(t){var T=this._resolveValue(p,t[v]);this._setProperty(m,T),w=this._getProperty(m),w=w&&w.clone?w.clone():w,this._setProperty(m,p)}else w=p&&p.clone?p.clone():p;a[v]=w}return a},_resolveValue:function(t,r){if(r){if(Array.isArray(r)&&r.length===2){var a=r[0];return a&&a.match&&a.match(/^[+\-\*\/]=/)?this._calculate(t,a[0],r[1]):r}else if(typeof r=="string"){var f=r.match(/^[+\-*/]=(.*)/);if(f){var d=JSON.parse(f[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,r[0],d)}}}return r},_calculate:function(t,r,a){return ce.PaperScript.calculateBinary(t,r,a)},_parseKeys:function(t){for(var r={},a=0,f=t.length;a<f;a++){var d=t[a],v=d.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");r[d]=v.split("/")}return r},_getProperty:function(t,r){for(var a=this.object,f=0,d=t.length-(r||0);f<d&&a;f++)a=a[t[f]];return a},_setProperty:function(t,r){var a=this._getProperty(t,1);a&&(a[t[t.length-1]]=r)}}),Hr={request:function(t){var r=new e.XMLHttpRequest;return r.open((t.method||"get").toUpperCase(),t.url,h.pick(t.async,!0)),t.mimeType&&r.overrideMimeType(t.mimeType),r.onload=function(){var a=r.status;a===0||a===200?t.onLoad&&t.onLoad.call(r,r.responseText):r.onerror()},r.onerror=function(){var a=r.status,f='Could not load "'+t.url+'" (Status: '+a+")";if(t.onError)t.onError(f,a);else throw new Error(f)},r.send(null)}},De=h.exports.CanvasProvider={canvases:[],getCanvas:function(t,r,a){if(!o)return null;var f,d=!0;typeof t=="object"&&(r=t.height,t=t.width),this.canvases.length?f=this.canvases.pop():(f=l.createElement("canvas"),d=!1);var v=f.getContext("2d",a||{});if(!v)throw new Error("Canvas "+f+" is unable to provide a 2D context.");return f.width===t&&f.height===r?d&&v.clearRect(0,0,t+1,r+1):(f.width=t,f.height=r),v.save(),f},getContext:function(t,r,a){var f=this.getCanvas(t,r,a);return f?f.getContext("2d",a||{}):null},release:function(t){var r=t&&t.canvas?t.canvas:t;r&&r.getContext&&(r.getContext("2d").restore(),this.canvases.push(r))}},hn=new function(){var t=Math.min,r=Math.max,a=Math.abs,f,d,v,m,p,w,T,E,L,I,O;function B(V,W,Z){return .2989*V+.587*W+.114*Z}function q(V,W,Z,et){var Q=et-B(V,W,Z);L=V+Q,I=W+Q,O=Z+Q;var et=B(L,I,O),it=t(L,I,O),tt=r(L,I,O);if(it<0){var rt=et-it;L=et+(L-et)*et/rt,I=et+(I-et)*et/rt,O=et+(O-et)*et/rt}if(tt>255){var at=255-et,_t=tt-et;L=et+(L-et)*at/_t,I=et+(I-et)*at/_t,O=et+(O-et)*at/_t}}function Y(V,W,Z){return r(V,W,Z)-t(V,W,Z)}function z(V,W,Z,j){var Q=[V,W,Z],et=r(V,W,Z),it=t(V,W,Z),tt;it=it===V?0:it===W?1:2,et=et===V?0:et===W?1:2,tt=t(it,et)===0?r(it,et)===1?2:1:0,Q[et]>Q[it]?(Q[tt]=(Q[tt]-Q[it])*j/(Q[et]-Q[it]),Q[et]=j):Q[tt]=Q[et]=0,Q[it]=0,L=Q[0],I=Q[1],O=Q[2]}var N={multiply:function(){L=p*f/255,I=w*d/255,O=T*v/255},screen:function(){L=p+f-p*f/255,I=w+d-w*d/255,O=T+v-T*v/255},overlay:function(){L=p<128?2*p*f/255:255-2*(255-p)*(255-f)/255,I=w<128?2*w*d/255:255-2*(255-w)*(255-d)/255,O=T<128?2*T*v/255:255-2*(255-T)*(255-v)/255},"soft-light":function(){var V=f*p/255;L=V+p*(255-(255-p)*(255-f)/255-V)/255,V=d*w/255,I=V+w*(255-(255-w)*(255-d)/255-V)/255,V=v*T/255,O=V+T*(255-(255-T)*(255-v)/255-V)/255},"hard-light":function(){L=f<128?2*f*p/255:255-2*(255-f)*(255-p)/255,I=d<128?2*d*w/255:255-2*(255-d)*(255-w)/255,O=v<128?2*v*T/255:255-2*(255-v)*(255-T)/255},"color-dodge":function(){L=p===0?0:f===255?255:t(255,255*p/(255-f)),I=w===0?0:d===255?255:t(255,255*w/(255-d)),O=T===0?0:v===255?255:t(255,255*T/(255-v))},"color-burn":function(){L=p===255?255:f===0?0:r(0,255-(255-p)*255/f),I=w===255?255:d===0?0:r(0,255-(255-w)*255/d),O=T===255?255:v===0?0:r(0,255-(255-T)*255/v)},darken:function(){L=p<f?p:f,I=w<d?w:d,O=T<v?T:v},lighten:function(){L=p>f?p:f,I=w>d?w:d,O=T>v?T:v},difference:function(){L=p-f,L<0&&(L=-L),I=w-d,I<0&&(I=-I),O=T-v,O<0&&(O=-O)},exclusion:function(){L=p+f*(255-p-p)/255,I=w+d*(255-w-w)/255,O=T+v*(255-T-T)/255},hue:function(){z(f,d,v,Y(p,w,T)),q(L,I,O,B(p,w,T))},saturation:function(){z(p,w,T,Y(f,d,v)),q(L,I,O,B(p,w,T))},luminosity:function(){q(p,w,T,B(f,d,v))},color:function(){q(f,d,v,B(p,w,T))},add:function(){L=t(p+f,255),I=t(w+d,255),O=t(T+v,255)},subtract:function(){L=r(p-f,0),I=r(w-d,0),O=r(T-v,0)},average:function(){L=(p+f)/2,I=(w+d)/2,O=(T+v)/2},negation:function(){L=255-a(255-f-p),I=255-a(255-d-w),O=255-a(255-v-T)}},M=this.nativeModes=h.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(V){this[V]=!0},{}),R=De.getContext(1,1,{willReadFrequently:!0});R&&(h.each(N,function(V,W){var Z=W==="darken",j=!1;R.save();try{R.fillStyle=Z?"#300":"#a00",R.fillRect(0,0,1,1),R.globalCompositeOperation=W,R.globalCompositeOperation===W&&(R.fillStyle=Z?"#a00":"#300",R.fillRect(0,0,1,1),j=R.getImageData(0,0,1,1).data[0]!==Z?170:51)}catch{}R.restore(),M[W]=j}),De.release(R)),this.process=function(V,W,Z,j,Q){var et=W.canvas,it=V==="normal";if(it||M[V])Z.save(),Z.setTransform(1,0,0,1,0,0),Z.globalAlpha=j,it||(Z.globalCompositeOperation=V),Z.drawImage(et,Q.x,Q.y),Z.restore();else{var tt=N[V];if(!tt)return;for(var rt=Z.getImageData(Q.x,Q.y,et.width,et.height),at=rt.data,_t=W.getImageData(0,0,et.width,et.height).data,vt=0,mt=at.length;vt<mt;vt+=4){f=_t[vt],p=at[vt],d=_t[vt+1],w=at[vt+1],v=_t[vt+2],T=at[vt+2],m=_t[vt+3],E=at[vt+3],tt();var Ot=m*j/255,kt=1-Ot;at[vt]=Ot*L+kt*p,at[vt+1]=Ot*I+kt*w,at[vt+2]=Ot*O+kt*T,at[vt+3]=m*j+kt*E}Z.putImageData(rt,Q.x,Q.y)}}},Le=new function(){var t="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns",a="http://www.w3.org/1999/xlink",f={href:a,xlink:r,xmlns:r+"/","xmlns:xlink":r+"/"};function d(p,w,T){return m(l.createElementNS(t,p),w,T)}function v(p,w){var T=f[w],E=T?p.getAttributeNS(T,w):p.getAttribute(w);return E==="null"?null:E}function m(p,w,T){for(var E in w){var L=w[E],I=f[E];typeof L=="number"&&T&&(L=T.number(L)),I?p.setAttributeNS(I,E,L):p.setAttribute(E,L)}return p}return{svg:t,xmlns:r,xlink:a,create:d,get:v,set:m}},hr=h.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,r){return!r&&(t instanceof Ht||t instanceof ot||t instanceof tn)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,r){var a=h.capitalize(r),f=t[2];this[r]={type:t[1],property:r,attribute:t[0],toSVG:f,fromSVG:f&&h.each(f,function(d,v){this[d]=v},{}),exportFilter:t[3],get:"get"+a,set:"set"+a}},{});new function(){var t;function r(N,M,R){var V=new h,W=N.getTranslation();if(M){var Z;N.isInvertible()?(N=N._shiftless(),Z=N._inverseTransform(W),W=null):Z=new y,V[R?"cx":"x"]=Z.x,V[R?"cy":"y"]=Z.y}if(!N.isIdentity()){var j=N.decompose();if(j){var Q=[],et=j.rotation,it=j.scaling,tt=j.skewing;W&&!W.isZero()&&Q.push("translate("+t.point(W)+")"),et&&Q.push("rotate("+t.number(et)+")"),(!A.isZero(it.x-1)||!A.isZero(it.y-1))&&Q.push("scale("+t.point(it)+")"),tt.x&&Q.push("skewX("+t.number(tt.x)+")"),tt.y&&Q.push("skewY("+t.number(tt.y)+")"),V.transform=Q.join(" ")}else V.transform="matrix("+N.getValues().join(",")+")"}return V}function a(N,M){for(var R=r(N._matrix),V=N._children,W=Le.create("g",R,t),Z=0,j=V.length;Z<j;Z++){var Q=V[Z],et=Y(Q,M);if(et)if(Q.isClipMask()){var it=Le.create("clipPath");it.appendChild(et),B(Q,it,"clip"),Le.set(W,{"clip-path":"url(#"+it.id+")"})}else W.appendChild(et)}return W}function f(N,M){var R=r(N._matrix,!0),V=N.getSize(),W=N.getImage();return R.x-=V.width/2,R.y-=V.height/2,R.width=V.width,R.height=V.height,R.href=M.embedImages==!1&&W&&W.src||N.toDataURL(),Le.create("image",R,t)}function d(N,M){var R=M.matchShapes;if(R){var V=N.toShape(!1);if(V)return v(V)}var W=N._segments,Z=W.length,j,Q=r(N._matrix);if(R&&Z>=2&&!N.hasHandles())if(Z>2){j=N._closed?"polygon":"polyline";for(var et=[],it=0;it<Z;it++)et.push(t.point(W[it]._point));Q.points=et.join(" ")}else{j="line";var tt=W[0]._point,rt=W[1]._point;Q.set({x1:tt.x,y1:tt.y,x2:rt.x,y2:rt.y})}else j="path",Q.d=N.getPathData(null,M.precision);return Le.create(j,Q,t)}function v(N){var M=N._type,R=N._radius,V=r(N._matrix,!0,M!=="rectangle");if(M==="rectangle"){M="rect";var W=N._size,Z=W.width,j=W.height;V.x-=Z/2,V.y-=j/2,V.width=Z,V.height=j,R.isZero()&&(R=null)}return R&&(M==="circle"?V.r=R:(V.rx=R.width,V.ry=R.height)),Le.create(M,V,t)}function m(N,M){var R=r(N._matrix),V=N.getPathData(null,M.precision);return V&&(R.d=V),Le.create("path",R,t)}function p(N,M){var R=r(N._matrix,!0),V=N._definition,W=O(V,"symbol"),Z=V._item,j=Z.getStrokeBounds();return W||(W=Le.create("symbol",{viewBox:t.rectangle(j)}),W.appendChild(Y(Z,M)),B(V,W,"symbol")),R.href="#"+W.id,R.x+=j.x,R.y+=j.y,R.width=j.width,R.height=j.height,R.overflow="visible",Le.create("use",R,t)}function w(N){var M=O(N,"color");if(!M){var R=N.getGradient(),V=R._radial,W=N.getOrigin(),Z=N.getDestination(),j;if(V){j={cx:W.x,cy:W.y,r:W.getDistance(Z)};var Q=N.getHighlight();Q&&(j.fx=Q.x,j.fy=Q.y)}else j={x1:W.x,y1:W.y,x2:Z.x,y2:Z.y};j.gradientUnits="userSpaceOnUse",M=Le.create((V?"radial":"linear")+"Gradient",j,t);for(var et=R._stops,it=0,tt=et.length;it<tt;it++){var rt=et[it],at=rt._color,_t=at.getAlpha(),vt=rt._offset;j={offset:vt??it/(tt-1)},at&&(j["stop-color"]=at.toCSS(!0)),_t<1&&(j["stop-opacity"]=_t),M.appendChild(Le.create("stop",j,t))}B(N,M,"color")}return"url(#"+M.id+")"}function T(N){var M=Le.create("text",r(N._matrix,!0),t);return M.textContent=N._content,M}var E={Group:a,Layer:a,Raster:f,Path:d,Shape:v,CompoundPath:m,SymbolItem:p,PointText:T};function L(N,M,R,V){var W={},Z=!V&&N.getParent(),j=[];return N._name!=null&&(W.id=N._name),h.each(hr,function(Q){var et=Q.get,it=Q.type,tt=N[et]();if(Q.exportFilter?Q.exportFilter(N,tt):R.reduceAttributes==!1||!Z||!h.equals(Z[et](),tt)){if(it==="color"&&tt!=null){var rt=tt.getAlpha();rt<1&&(W[Q.attribute+"-opacity"]=rt)}it==="style"?j.push(Q.attribute+": "+tt):W[Q.attribute]=tt==null?"none":it==="color"?tt.gradient?w(tt):tt.toCSS(!0):it==="array"?tt.join(","):it==="lookup"?Q.toSVG[tt]:tt}}),j.length&&(W.style=j.join(";")),W.opacity===1&&delete W.opacity,N._visible||(W.visibility="hidden"),Le.set(M,W,t)}var I;function O(N,M){return I||(I={ids:{},svgs:{}}),N&&I.svgs[M+"-"+(N._id||N.__id||(N.__id=k.get("svg")))]}function B(N,M,R){I||O();var V=I.ids[R]=(I.ids[R]||0)+1;M.id=R+"-"+V,I.svgs[R+"-"+(N._id||N.__id)]=M}function q(N,M){var R=N,V=null;if(I){R=N.nodeName.toLowerCase()==="svg"&&N;for(var W in I.svgs)V||(R||(R=Le.create("svg"),R.appendChild(N)),V=R.insertBefore(Le.create("defs"),R.firstChild)),V.appendChild(I.svgs[W]);I=null}return M.asString?new e.XMLSerializer().serializeToString(R):R}function Y(N,M,R){var V=E[N._class],W=V&&V(N,M);if(W){var Z=M.onExport;Z&&(W=Z(N,W,M)||W);var j=JSON.stringify(N._data);j&&j!=="{}"&&j!=="null"&&W.setAttribute("data-paper-data",j)}return W&&L(N,W,M,R)}function z(N){return N||(N={}),t=new S(N.precision),N}dt.inject({exportSVG:function(N){return N=z(N),q(Y(this,N,!0),N)}}),ht.inject({exportSVG:function(N){N=z(N);var M=this._children,R=this.getView(),V=h.pick(N.bounds,"view"),W=N.matrix||V==="view"&&R._matrix,Z=W&&J.read([W]),j=V==="view"?new $([0,0],R.getViewSize()):V==="content"?dt._getBounds(M,Z,{stroke:!0}).rect:$.read([V],0,{readNull:!0}),Q={version:"1.1",xmlns:Le.svg,"xmlns:xlink":Le.xlink};j&&(Q.width=j.width,Q.height=j.height,(j.x||j.x===0||j.y||j.y===0)&&(Q.viewBox=t.rectangle(j)));var et=Le.create("svg",Q,t),it=et;Z&&!Z.isIdentity()&&(it=et.appendChild(Le.create("g",r(Z),t)));for(var tt=0,rt=M.length;tt<rt;tt++)it.appendChild(Y(M[tt],N,!0));return q(et,N)}})},new function(){var t={},r;function a(M,R,V,W,Z,j){var Q=Le.get(M,R)||j,et=Q==null?W?null:V?"":0:V?Q:parseFloat(Q);return/%\s*$/.test(Q)?et/100*(Z?1:r[/x|^width/.test(R)?"width":"height"]):et}function f(M,R,V,W,Z,j,Q){return R=a(M,R||"x",!1,W,Z,j),V=a(M,V||"y",!1,W,Z,Q),W&&(R==null||V==null)?null:new y(R,V)}function d(M,R,V,W,Z){return R=a(M,R||"width",!1,W,Z),V=a(M,V||"height",!1,W,Z),W&&(R==null||V==null)?null:new C(R,V)}function v(M,R,V){return M==="none"?null:R==="number"?parseFloat(M):R==="array"?M?M.split(/[\s,]+/g).map(parseFloat):[]:R==="color"?Y(M)||M:R==="lookup"?V[M]:M}function m(M,R,V,W){var Z=M.childNodes,j=R==="clippath",Q=R==="defs",et=new ft,it=et._project,tt=it._currentStyle,rt=[];if(!j&&!Q&&(et=q(et,M,W),it._currentStyle=et._style.clone()),W)for(var at=M.querySelectorAll("defs"),_t=0,vt=at.length;_t<vt;_t++)z(at[_t],V,!1);for(var _t=0,vt=Z.length;_t<vt;_t++){var mt=Z[_t],Ot;mt.nodeType===1&&!/^defs$/i.test(mt.nodeName)&&(Ot=z(mt,V,!1))&&!(Ot instanceof Lt)&&rt.push(Ot)}return et.addChildren(rt),j&&(et=q(et.reduce(),M,W)),it._currentStyle=tt,(j||Q)&&(et.remove(),et=null),et}function p(M,R){for(var V=M.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),W=[],Z=0,j=V.length;Z<j;Z+=2)W.push(new y(parseFloat(V[Z]),parseFloat(V[Z+1])));var Q=new Ft(W);return R==="polygon"&&Q.closePath(),Q}function w(M){return Ht.create(M.getAttribute("d"))}function T(M,R){var V=(a(M,"href",!0)||"").substring(1),W=R==="radialgradient",Z;if(V)Z=t[V].getGradient(),Z._radial^W&&(Z=Z.clone(),Z._radial=W);else{for(var j=M.childNodes,Q=[],et=0,it=j.length;et<it;et++){var tt=j[et];tt.nodeType===1&&Q.push(q(new Jn,tt))}Z=new $e(Q,W)}var rt,at,_t,vt=a(M,"gradientUnits",!0)!=="userSpaceOnUse";W?(rt=f(M,"cx","cy",!1,vt,"50%","50%"),at=rt.add(a(M,"r",!1,!1,vt,"50%"),0),_t=f(M,"fx","fy",!0,vt)):(rt=f(M,"x1","y1",!1,vt,"0%","0%"),at=f(M,"x2","y2",!1,vt,"100%","0%"));var mt=q(new oe(Z,rt,at,_t),M);return mt._scaleToBounds=vt,null}var E={"#document":function(M,R,V,W){for(var Z=M.childNodes,j=0,Q=Z.length;j<Q;j++){var et=Z[j];if(et.nodeType===1)return z(et,V,W)}},g:m,svg:m,clippath:m,polygon:p,polyline:p,path:w,lineargradient:T,radialgradient:T,image:function(M){var R=new Mt(a(M,"href",!0));return R.on("load",function(){var V=d(M);this.setSize(V);var W=f(M).add(V.divide(2));this._matrix.append(new J().translate(W))}),R},symbol:function(M,R,V,W){return new Lt(m(M,R,V,W),!0)},defs:m,use:function(M){var R=(a(M,"href",!0)||"").substring(1),V=t[R],W=f(M);return V?V instanceof Lt?V.place(W):V.clone().translate(W):null},circle:function(M){return new ot.Circle(f(M,"cx","cy"),a(M,"r"))},ellipse:function(M){return new ot.Ellipse({center:f(M,"cx","cy"),radius:d(M,"rx","ry")})},rect:function(M){return new ot.Rectangle(new $(f(M),d(M)),d(M,"rx","ry"))},line:function(M){return new Ft.Line(f(M,"x1","y1"),f(M,"x2","y2"))},text:function(M){var R=new me(f(M).add(f(M,"dx","dy")));return R.setContent(M.textContent.trim()||""),R},switch:m};function L(M,R,V,W){if(M.transform){for(var Z=(W.getAttribute(V)||"").split(/\)\s*/g),j=new J,Q=0,et=Z.length;Q<et;Q++){var it=Z[Q];if(!it)break;for(var tt=it.split(/\(\s*/),rt=tt[0].trim(),at=tt[1].split(/[\s,]+/g),_t=0,vt=at.length;_t<vt;_t++)at[_t]=parseFloat(at[_t]);switch(rt){case"matrix":j.append(new J(at[0],at[1],at[2],at[3],at[4],at[5]));break;case"rotate":j.rotate(at[0],at[1]||0,at[2]||0);break;case"translate":j.translate(at[0],at[1]||0);break;case"scale":j.scale(at);break;case"skewX":j.skew(at[0],0);break;case"skewY":j.skew(0,at[0]);break}}M.transform(j)}}function I(M,R,V){var W=V==="fill-opacity"?"getFillColor":"getStrokeColor",Z=M[W]&&M[W]();Z&&Z.setAlpha(parseFloat(R))}var O=h.set(h.each(hr,function(M){this[M.attribute]=function(R,V){if(R[M.set]&&(R[M.set](v(V,M.type,M.fromSVG)),M.type==="color")){var W=R[M.get]();if(W&&W._scaleToBounds){var Z=R.getBounds();W.transform(new J().translate(Z.getPoint()).scale(Z.getSize()))}}}},{}),{id:function(M,R){t[R]=M,M.setName&&M.setName(R)},"clip-path":function(M,R){var V=Y(R);if(V)if(V=V.clone(),V.setClipMask(!0),M instanceof ft)M.insertChild(0,V);else return new ft(V,M)},gradientTransform:L,transform:L,"fill-opacity":I,"stroke-opacity":I,visibility:function(M,R){M.setVisible&&M.setVisible(R==="visible")},display:function(M,R){M.setVisible&&M.setVisible(R!==null)},"stop-color":function(M,R){M.setColor&&M.setColor(R)},"stop-opacity":function(M,R){M._color&&M._color.setAlpha(parseFloat(R))},offset:function(M,R){if(M.setOffset){var V=R.match(/(.*)%$/);M.setOffset(V?V[1]/100:parseFloat(R))}},viewBox:function(M,R,V,W,Z){var j=new $(v(R,"array")),Q=d(W,null,null,!0),et,it;if(M instanceof ft){var tt=Q?Q.divide(j.getSize()):1,it=new J().scale(tt).translate(j.getPoint().negate());et=M}else M instanceof Lt&&(Q&&j.setSize(Q),et=M._item);if(et){if(B(W,"overflow",Z)!=="visible"){var rt=new ot.Rectangle(j);rt.setClipMask(!0),et.addChild(rt)}it&&et.transform(it)}}});function B(M,R,V){var W=M.attributes[R],Z=W&&W.value;if(!Z&&M.style){var j=h.camelize(R);Z=M.style[j],!Z&&V.node[j]!==V.parent[j]&&(Z=V.node[j])}return Z?Z==="none"?null:Z:i}function q(M,R,V){var W=R.parentNode,Z={node:bt.getStyles(R)||{},parent:!V&&!/^defs$/i.test(W.tagName)&&bt.getStyles(W)||{}};return h.each(O,function(j,Q){var et=B(R,Q,Z);M=et!==i&&j(M,et,Q,R,Z)||M}),M}function Y(M){var R=M&&M.match(/\((?:["'#]*)([^"')]+)/),V=R&&R[1],W=V&&t[o?V.replace(o.location.href.split("#")[0]+"#",""):V];return W&&W._scaleToBounds&&(W=W.clone(),W._scaleToBounds=!0),W}function z(M,R,V){var W=M.nodeName.toLowerCase(),Z=W!=="#document",j=l.body,Q,et,it;V&&Z&&(r=ce.getView().getSize(),r=d(M,null,null,!0)||r,Q=Le.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),et=M.parentNode,it=M.nextSibling,Q.appendChild(M),j.appendChild(Q));var tt=ce.settings,rt=tt.applyMatrix,at=tt.insertItems;tt.applyMatrix=!1,tt.insertItems=!1;var _t=E[W],vt=_t&&_t(M,W,R,V)||null;if(tt.insertItems=at,tt.applyMatrix=rt,vt){Z&&!(vt instanceof ft)&&(vt=q(vt,M,V));var mt=R.onImport,Ot=Z&&M.getAttribute("data-paper-data");mt&&(vt=mt(M,vt,R)||vt),R.expandShapes&&vt instanceof ot&&(vt.remove(),vt=vt.toPath()),Ot&&(vt._data=JSON.parse(Ot))}return Q&&(j.removeChild(Q),et&&(it?et.insertBefore(M,it):et.appendChild(M))),V&&(t={},vt&&h.pick(R.applyMatrix,rt)&&vt.matrix.apply(!0,!0)),vt}function N(M,R,V){if(!M)return null;R=typeof R=="function"?{onLoad:R}:R||{};var W=ce,Z=null;function j(tt){try{var rt=typeof tt=="object"?tt:new e.DOMParser().parseFromString(tt.trim(),"image/svg+xml");if(!rt.nodeName)throw rt=null,new Error("Unsupported SVG source: "+M);ce=W,Z=z(rt,R,!0),(!R||R.insert!==!1)&&V._insertItem(i,Z);var at=R.onLoad;at&&at(Z,tt)}catch(_t){Q(_t)}}function Q(tt,rt){var at=R.onError;if(at)at(tt,rt);else throw new Error(tt)}if(typeof M=="string"&&!/^[\s\S]*</.test(M)){var et=l.getElementById(M);et?j(et):Hr.request({url:M,async:!0,onLoad:j,onError:Q})}else if(typeof File<"u"&&M instanceof File){var it=new FileReader;return it.onload=function(){j(it.result)},it.onerror=function(){Q(it.error)},it.readAsText(M)}else j(M);return Z}dt.inject({importSVG:function(M,R){return N(M,R,this)}}),ht.inject({importSVG:function(M,R){return this.activate(),N(M,R,this)}})};var ce=new(g.inject(h.exports,{Base:h,Numerical:A,Key:Ye,DomEvent:Dt,DomElement:bt,document:l,window:o,Symbol:Lt,PlacedSymbol:Et}));return ce.agent.node&&Ld(ce),typeof i=="function"&&i.amd?i("paper",ce):u&&(u.exports=ce),ce}).call(jr,typeof self=="object"?self:null)})(j_);var DT=j_.exports,zT=G.template("<svg><g><path></svg>",!1,!0);const BT=An(u=>{const e=yt.mergeProps({"stroke-width":3,stroke:"black",position:"relative",fill:"none",d:""},u),i=document.createElement("canvas"),o=new DT.PaperScope;o.setup(i);const l=()=>{const c=new o.Path(e.d),g=c.bounds;return{transform:{translate:{x:e.position==="absolute"?0:Qe(e.x,g.left),y:e.position==="absolute"?0:Qe(e.y,g.top)}},bbox:{left:g.left,top:g.top,width:g.width,height:g.height},customData:{path:c}}},h=c=>{const[g,b]=yt.splitProps(e,["name","x","y","d","position"]);return(()=>{var x=zT(),S=x.firstChild;return G.spread(S,G.mergeProps(b,{get d(){return c.customData?.path?.pathData??""}}),!0,!1),G.effect(()=>G.setAttribute(x,"transform",`translate(${c.transform.translate.x??0}, ${c.transform.translate.y??0})`)),x})()};return G.createComponent(qn,{get name(){return e.name},layout:l,paint:h})});exports.Align=$b;exports.Arrow=jb;exports.Background=e2;exports.Blob=r2;exports.Bluefish=Lb;exports.Circle=s2;exports.Distribute=h2;exports.Group=c2;exports.Image=_2;exports.Layout=qn;exports.LayoutFunction=v2;exports.Line=x2;exports.ParentScopeIdContext=Ma;exports.Path=BT;exports.Rect=V_;exports.Ref=C2;exports.ScenegraphContext=tu;exports.ScopeContext=Ks;exports.StackH=T2;exports.StackV=u2;exports.Text=kT;exports.UNSAFE_useScenegraph=hh;exports.createName=nw;exports.createScenegraph=Dd;exports.useScenegraph=ew;exports.withBluefish=An;
